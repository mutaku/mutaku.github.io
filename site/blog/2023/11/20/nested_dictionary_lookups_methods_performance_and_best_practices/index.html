<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Advanced techniques for handling complex data structures in Python with performance analysis and robust solutions"><meta name=author content="Matthew Martz"><link href=https://mutaku.io/blog/2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/ rel=canonical><link href=../../09/summer_of_ai_-_an_agbiome_perspective/ rel=prev><link href=../../../12/01/python_generators_and_comprehensions_a_deep_dive/ rel=next><link rel=icon href=../../../../../assets/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>Nested Dictionary Lookups: Methods, Performance, and Best Practices - Matthew Martz, PhD - Data Science & AI Leader</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../../../../stylesheets/extra.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#table-of-contents class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="Matthew Martz, PhD - Data Science & AI Leader" class="md-header__button md-logo" aria-label="Matthew Martz, PhD - Data Science & AI Leader" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.23 7.23 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Matthew Martz, PhD - Data Science & AI Leader </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Nested Dictionary Lookups: Methods, Performance, and Best Practices </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=deep-purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue-grey data-md-color-accent=deep-purple aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/mutaku/mutaku.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> mutaku/mutaku.github.io </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../../../about/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../../../../../research/ class=md-tabs__link> Research Focus </a> </li> <li class=md-tabs__item> <a href=../../../../../experience/current/ class=md-tabs__link> Experience </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../../../../projects/ class=md-tabs__link> Projects </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="Matthew Martz, PhD - Data Science & AI Leader" class="md-nav__button md-logo" aria-label="Matthew Martz, PhD - Data Science & AI Leader" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.23 7.23 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"/></svg> </a> Matthew Martz, PhD - Data Science & AI Leader </label> <div class=md-nav__source> <a href=https://github.com/mutaku/mutaku.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> mutaku/mutaku.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../../../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../../../../../research/ class=md-nav__link> <span class=md-ellipsis> Research Focus </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Experience </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Experience </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../experience/current/ class=md-nav__link> <span class=md-ellipsis> Current Role </span> </a> </li> <li class=md-nav__item> <a href=../../../../../experience/previous/ class=md-nav__link> <span class=md-ellipsis> Previous Positions </span> </a> </li> <li class=md-nav__item> <a href=../../../../../experience/achievements/ class=md-nav__link> <span class=md-ellipsis> Patents & Publications </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <a href=../../../../ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> <li class=md-nav__item> <a href=../../../../archive/2020/ class=md-nav__link> <span class=md-ellipsis> 2020 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../category/aiml/ class=md-nav__link> <span class=md-ellipsis> AI/ML </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/data-science/ class=md-nav__link> <span class=md-ellipsis> Data Science </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/research/ class=md-nav__link> <span class=md-ellipsis> Research </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/technology/ class=md-nav__link> <span class=md-ellipsis> Technology </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../projects/ class=md-nav__link> <span class=md-ellipsis> Projects </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#table-of-contents class=md-nav__link> <span class=md-ellipsis> Table of Contents </span> </a> </li> <li class=md-nav__item> <a href=#the-problem class=md-nav__link> <span class=md-ellipsis> The Problem with Nested Dictionary Access </span> </a> </li> <li class=md-nav__item> <a href=#traditional-approaches class=md-nav__link> <span class=md-ellipsis> Traditional Approaches </span> </a> <nav class=md-nav aria-label="Traditional Approaches"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-1-nested-tryexcept class=md-nav__link> <span class=md-ellipsis> Method 1: Nested try/except </span> </a> </li> <li class=md-nav__item> <a href=#method-2-step-by-step-with-get class=md-nav__link> <span class=md-ellipsis> Method 2: Step-by-step with get() </span> </a> </li> <li class=md-nav__item> <a href=#method-3-chained-get-calls class=md-nav__link> <span class=md-ellipsis> Method 3: Chained get() calls </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#the-walrus-operator-solution class=md-nav__link> <span class=md-ellipsis> The Walrus Operator Solution </span> </a> </li> <li class=md-nav__item> <a href=#chaining-methods class=md-nav__link> <span class=md-ellipsis> Chaining Methods </span> </a> <nav class=md-nav aria-label="Chaining Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-4-reduce-based-approach class=md-nav__link> <span class=md-ellipsis> Method 4: Reduce-based approach </span> </a> </li> <li class=md-nav__item> <a href=#method-5-safe-reduce-with-get class=md-nav__link> <span class=md-ellipsis> Method 5: Safe reduce with get() </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#programmatic-depth-search class=md-nav__link> <span class=md-ellipsis> Programmatic Depth Search </span> </a> <nav class=md-nav aria-label="Programmatic Depth Search"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#enhanced-version-with-type-checking class=md-nav__link> <span class=md-ellipsis> Enhanced Version with Type Checking </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-comparison class=md-nav__link> <span class=md-ellipsis> Performance Comparison </span> </a> <nav class=md-nav aria-label="Performance Comparison"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#performance-results-analysis class=md-nav__link> <span class=md-ellipsis> Performance Results Analysis </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#error-handling-and-robustness class=md-nav__link> <span class=md-ellipsis> Error Handling and Robustness </span> </a> <nav class=md-nav aria-label="Error Handling and Robustness"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#comprehensive-error-handling class=md-nav__link> <span class=md-ellipsis> Comprehensive Error Handling </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#real-world-applications class=md-nav__link> <span class=md-ellipsis> Real-World Applications </span> </a> <nav class=md-nav aria-label="Real-World Applications"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#api-response-processing class=md-nav__link> <span class=md-ellipsis> API Response Processing </span> </a> </li> <li class=md-nav__item> <a href=#configuration-management class=md-nav__link> <span class=md-ellipsis> Configuration Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> <nav class=md-nav aria-label="Best Practices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-choose-the-right-method-for-your-use-case class=md-nav__link> <span class=md-ellipsis> 1. Choose the Right Method for Your Use Case </span> </a> </li> <li class=md-nav__item> <a href=#2-use-type-hints-and-documentation class=md-nav__link> <span class=md-ellipsis> 2. Use Type Hints and Documentation </span> </a> </li> <li class=md-nav__item> <a href=#3-consider-using-libraries-for-complex-cases class=md-nav__link> <span class=md-ellipsis> 3. Consider Using Libraries for Complex Cases </span> </a> </li> <li class=md-nav__item> <a href=#4-implement-caching-for-repeated-lookups class=md-nav__link> <span class=md-ellipsis> 4. Implement Caching for Repeated Lookups </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../../../../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://github.com/mutaku.png alt="Matthew Martz, PhD"> </span> <span class=md-profile__description> <strong> <a href=https://mutaku.io>Matthew Martz, PhD</a> </strong> <br> Director of Data Science/ML/AI and Technical Lead </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> Metadata </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg> <time datetime="2023-11-20 00:00:00+00:00" class=md-ellipsis>Monday, November 20, 2023</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg> <span class=md-ellipsis> in <a href=../../../../category/data-science/ >Data Science</a>, <a href=../../../../category/technology/ >Technology</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg> <span class=md-ellipsis> 11 min read </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <h1>Nested Dictionary Lookups: Methods, Performance, and Best Practices</h1> <p>When working with complex data structures in Python, nested dictionaries are ubiquitous. Whether you're processing JSON APIs, configuration files, or hierarchical data, you'll frequently need to safely access deeply nested values. This article explores various methods for nested dictionary lookups, compares their performance, and provides robust solutions for real-world applications.</p> <h2 id=table-of-contents>Table of Contents<a class=headerlink href=#table-of-contents title="Permanent link">&para;</a></h2> <ol> <li><a href=#the-problem>The Problem with Nested Dictionary Access</a></li> <li><a href=#traditional-approaches>Traditional Approaches</a></li> <li><a href=#walrus-operator>The Walrus Operator Solution</a></li> <li><a href=#chaining-methods>Chaining Methods</a></li> <li><a href=#programmatic-depth-search>Programmatic Depth Search</a></li> <li><a href=#performance-comparison>Performance Comparison</a></li> <li><a href=#error-handling>Error Handling and Robustness</a></li> <li><a href=#real-world-applications>Real-World Applications</a></li> <li><a href=#best-practices>Best Practices</a></li> </ol> <h2 id=the-problem>The Problem with Nested Dictionary Access<a class=headerlink href=#the-problem title="Permanent link">&para;</a></h2> <p>Consider this common scenario: you have a nested dictionary representing user data from an API response, and you need to safely extract a deeply nested value:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>user_data</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>        <span class=s1>&#39;profile&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>            <span class=s1>&#39;preferences&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>                <span class=s1>&#39;notifications&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>                    <span class=s1>&#39;email&#39;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>                    <span class=s1>&#39;push&#39;</span><span class=p>:</span> <span class=kc>False</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>                <span class=p>}</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>            <span class=p>}</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>        <span class=p>}</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>    <span class=p>}</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=p>}</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=c1># Goal: Get user.profile.preferences.notifications.email</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=c1># Challenge: Any level might be missing, causing KeyError</span>
</span></code></pre></div> <p>The naive approach fails spectacularly:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># This will raise KeyError if any key is missing</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>email_pref</span> <span class=o>=</span> <span class=n>user_data</span><span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>][</span><span class=s1>&#39;profile&#39;</span><span class=p>][</span><span class=s1>&#39;preferences&#39;</span><span class=p>][</span><span class=s1>&#39;notifications&#39;</span><span class=p>][</span><span class=s1>&#39;email&#39;</span><span class=p>]</span>
</span></code></pre></div> <h2 id=traditional-approaches>Traditional Approaches<a class=headerlink href=#traditional-approaches title="Permanent link">&para;</a></h2> <h3 id=method-1-nested-tryexcept>Method 1: Nested try/except<a class=headerlink href=#method-1-nested-tryexcept title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_try_except</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>        <span class=k>return</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>][</span><span class=s1>&#39;profile&#39;</span><span class=p>][</span><span class=s1>&#39;preferences&#39;</span><span class=p>][</span><span class=s1>&#39;notifications&#39;</span><span class=p>][</span><span class=s1>&#39;email&#39;</span><span class=p>]</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_try_except</span><span class=p>(</span><span class=n>user_data</span><span class=p>)</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span></code></pre></div> <p><strong>Pros:</strong> - Simple and straightforward - Handles missing keys gracefully</p> <p><strong>Cons:</strong> - Catches all KeyErrors, potentially masking bugs - Not reusable for different paths - Poor performance when keys are missing</p> <h3 id=method-2-step-by-step-with-get>Method 2: Step-by-step with get()<a class=headerlink href=#method-2-step-by-step-with-get title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_step_by_step</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>user</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>)</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=k>if</span> <span class=n>user</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=n>profile</span> <span class=o>=</span> <span class=n>user</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;profile&#39;</span><span class=p>)</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>    <span class=k>if</span> <span class=n>profile</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>    <span class=n>preferences</span> <span class=o>=</span> <span class=n>profile</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;preferences&#39;</span><span class=p>)</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=k>if</span> <span class=n>preferences</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>    <span class=n>notifications</span> <span class=o>=</span> <span class=n>preferences</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;notifications&#39;</span><span class=p>)</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>    <span class=k>if</span> <span class=n>notifications</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>    <span class=k>return</span> <span class=n>notifications</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;email&#39;</span><span class=p>)</span>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_step_by_step</span><span class=p>(</span><span class=n>user_data</span><span class=p>)</span>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span></code></pre></div> <p><strong>Pros:</strong> - Clear control flow - Explicit null checking - Easy to debug</p> <p><strong>Cons:</strong> - Verbose and repetitive - Hard to maintain for deep nesting - Not reusable</p> <h3 id=method-3-chained-get-calls>Method 3: Chained get() calls<a class=headerlink href=#method-3-chained-get-calls title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_chained_old</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=k>return</span> <span class=p>(</span><span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>            <span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>            <span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;preferences&#39;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>            <span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;notifications&#39;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>            <span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;email&#39;</span><span class=p>))</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_chained_old</span><span class=p>(</span><span class=n>user_data</span><span class=p>)</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=c1># Test with missing data</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=n>incomplete_data</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;profile&#39;</span><span class=p>:</span> <span class=p>{}}}</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=n>result_incomplete</span> <span class=o>=</span> <span class=n>get_nested_chained_old</span><span class=p>(</span><span class=n>incomplete_data</span><span class=p>)</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=nb>print</span><span class=p>(</span><span class=n>result_incomplete</span><span class=p>)</span>  <span class=c1># None</span>
</span></code></pre></div> <p><strong>Pros:</strong> - Concise and readable - Safe handling of missing keys - Reasonably good performance</p> <p><strong>Cons:</strong> - Creates empty dictionaries at each level - Still not easily reusable for different paths</p> <h2 id=the-walrus-operator-solution>The Walrus Operator Solution<a class=headerlink href=#the-walrus-operator-solution title="Permanent link">&para;</a></h2> <p>Python 3.8 introduced the walrus operator (<code>:=</code>), which allows assignment within expressions. This opens up new possibilities for nested dictionary access:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_walrus</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>    <span class=k>if</span> <span class=p>(</span><span class=n>user</span> <span class=o>:=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>))</span> <span class=ow>and</span> \
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>       <span class=p>(</span><span class=n>profile</span> <span class=o>:=</span> <span class=n>user</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;profile&#39;</span><span class=p>))</span> <span class=ow>and</span> \
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>       <span class=p>(</span><span class=n>preferences</span> <span class=o>:=</span> <span class=n>profile</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;preferences&#39;</span><span class=p>))</span> <span class=ow>and</span> \
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>       <span class=p>(</span><span class=n>notifications</span> <span class=o>:=</span> <span class=n>preferences</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;notifications&#39;</span><span class=p>)):</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>        <span class=k>return</span> <span class=n>notifications</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;email&#39;</span><span class=p>)</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>    <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_walrus</span><span class=p>(</span><span class=n>user_data</span><span class=p>)</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=c1># Test with partial data</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=n>partial_data</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;profile&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;preferences&#39;</span><span class=p>:</span> <span class=p>{}}}}</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=n>result_partial</span> <span class=o>=</span> <span class=n>get_nested_walrus</span><span class=p>(</span><span class=n>partial_data</span><span class=p>)</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=nb>print</span><span class=p>(</span><span class=n>result_partial</span><span class=p>)</span>  <span class=c1># None</span>
</span></code></pre></div> <p><strong>Pros:</strong> - Efficient - stops at first missing key - No unnecessary object creation - Compact syntax - Clear short-circuiting behavior</p> <p><strong>Cons:</strong> - Requires Python 3.8+ - Can be less readable for very deep nesting - Still not easily reusable</p> <h2 id=chaining-methods>Chaining Methods<a class=headerlink href=#chaining-methods title="Permanent link">&para;</a></h2> <h3 id=method-4-reduce-based-approach>Method 4: Reduce-based approach<a class=headerlink href=#method-4-reduce-based-approach title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>reduce</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_reduce</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get nested value using reduce.&quot;&quot;&quot;</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>        <span class=k>return</span> <span class=n>reduce</span><span class=p>(</span><span class=k>lambda</span> <span class=n>d</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=n>d</span><span class=p>[</span><span class=n>key</span><span class=p>],</span> <span class=n>path</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>    <span class=k>except</span> <span class=p>(</span><span class=ne>KeyError</span><span class=p>,</span> <span class=ne>TypeError</span><span class=p>):</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=c1># Usage</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=n>path</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=s1>&#39;preferences&#39;</span><span class=p>,</span> <span class=s1>&#39;notifications&#39;</span><span class=p>,</span> <span class=s1>&#39;email&#39;</span><span class=p>]</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_reduce</span><span class=p>(</span><span class=n>user_data</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=c1># Test with missing path</span>
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=n>result_missing</span> <span class=o>=</span> <span class=n>get_nested_reduce</span><span class=p>(</span><span class=n>user_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;missing&#39;</span><span class=p>,</span> <span class=s1>&#39;key&#39;</span><span class=p>])</span>
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=nb>print</span><span class=p>(</span><span class=n>result_missing</span><span class=p>)</span>  <span class=c1># None</span>
</span></code></pre></div> <h3 id=method-5-safe-reduce-with-get>Method 5: Safe reduce with get()<a class=headerlink href=#method-5-safe-reduce-with-get title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_safe_reduce</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Safely get nested value using reduce with get().&quot;&quot;&quot;</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=k>return</span> <span class=n>reduce</span><span class=p>(</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>        <span class=k>lambda</span> <span class=n>d</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=n>d</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=p>{})</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>d</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=k>else</span> <span class=p>{},</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>        <span class=n>path</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>        <span class=n>data</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>    <span class=p>)</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span> <span class=n>default</span><span class=p>)</span> <span class=k>if</span> <span class=n>path</span> <span class=k>else</span> <span class=n>default</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_safe_reduce</span><span class=p>(</span><span class=n>user_data</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=c1># Works with partial paths</span>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=n>result_partial</span> <span class=o>=</span> <span class=n>get_nested_safe_reduce</span><span class=p>(</span><span class=n>user_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;missing&#39;</span><span class=p>])</span>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=nb>print</span><span class=p>(</span><span class=n>result_partial</span><span class=p>)</span>  <span class=c1># None</span>
</span></code></pre></div> <h2 id=programmatic-depth-search>Programmatic Depth Search<a class=headerlink href=#programmatic-depth-search title="Permanent link">&para;</a></h2> <p>For maximum flexibility, here's a robust function that can handle various edge cases:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>def</span><span class=w> </span><span class=nf>programmatic_depth_search</span><span class=p>(</span><span class=n>dictionary</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=sd>    Recursively search through a nested dictionary using a list of keys.</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=sd>    Args:</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=sd>        dictionary: The dictionary to search through</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=sd>        path: List of keys representing the path to the desired value</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=sd>        default: Value to return if path is not found</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=sd>    Returns:</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=sd>        The value at the specified path, or default if not found</span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=sd>    Examples:</span>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=sd>        &gt;&gt;&gt; data = {&#39;a&#39;: {&#39;b&#39;: {&#39;c&#39;: 42}}}</span>
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=sd>        &gt;&gt;&gt; programmatic_depth_search(data, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])</span>
</span><span id=__span-8-16><a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=sd>        42</span>
</span><span id=__span-8-17><a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a><span class=sd>        &gt;&gt;&gt; programmatic_depth_search(data, [&#39;a&#39;, &#39;b&#39;, &#39;missing&#39;], &#39;not found&#39;)</span>
</span><span id=__span-8-18><a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=sd>        &#39;not found&#39;</span>
</span><span id=__span-8-19><a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-8-20><a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>dictionary</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>path</span><span class=p>:</span>
</span><span id=__span-8-21><a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a>        <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-8-22><a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a>
</span><span id=__span-8-23><a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-8-24><a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a>        <span class=k>return</span> <span class=n>dictionary</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-8-25><a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a>
</span><span id=__span-8-26><a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a>    <span class=n>next_level</span> <span class=o>=</span> <span class=n>dictionary</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span><span id=__span-8-27><a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a>    <span class=k>if</span> <span class=n>next_level</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-8-28><a id=__codelineno-8-28 name=__codelineno-8-28 href=#__codelineno-8-28></a>        <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-8-29><a id=__codelineno-8-29 name=__codelineno-8-29 href=#__codelineno-8-29></a>
</span><span id=__span-8-30><a id=__codelineno-8-30 name=__codelineno-8-30 href=#__codelineno-8-30></a>    <span class=k>return</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>next_level</span><span class=p>,</span> <span class=n>path</span><span class=p>[</span><span class=mi>1</span><span class=p>:],</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-8-31><a id=__codelineno-8-31 name=__codelineno-8-31 href=#__codelineno-8-31></a>
</span><span id=__span-8-32><a id=__codelineno-8-32 name=__codelineno-8-32 href=#__codelineno-8-32></a><span class=c1># Test with various scenarios</span>
</span><span id=__span-8-33><a id=__codelineno-8-33 name=__codelineno-8-33 href=#__codelineno-8-33></a><span class=n>test_data</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-8-34><a id=__codelineno-8-34 name=__codelineno-8-34 href=#__codelineno-8-34></a>    <span class=s1>&#39;level1&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-8-35><a id=__codelineno-8-35 name=__codelineno-8-35 href=#__codelineno-8-35></a>        <span class=s1>&#39;level2&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-8-36><a id=__codelineno-8-36 name=__codelineno-8-36 href=#__codelineno-8-36></a>            <span class=s1>&#39;level3&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-8-37><a id=__codelineno-8-37 name=__codelineno-8-37 href=#__codelineno-8-37></a>                <span class=s1>&#39;target&#39;</span><span class=p>:</span> <span class=s1>&#39;found it!&#39;</span><span class=p>,</span>
</span><span id=__span-8-38><a id=__codelineno-8-38 name=__codelineno-8-38 href=#__codelineno-8-38></a>                <span class=s1>&#39;number&#39;</span><span class=p>:</span> <span class=mi>42</span><span class=p>,</span>
</span><span id=__span-8-39><a id=__codelineno-8-39 name=__codelineno-8-39 href=#__codelineno-8-39></a>                <span class=s1>&#39;boolean&#39;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-8-40><a id=__codelineno-8-40 name=__codelineno-8-40 href=#__codelineno-8-40></a>                <span class=s1>&#39;null_value&#39;</span><span class=p>:</span> <span class=kc>None</span>
</span><span id=__span-8-41><a id=__codelineno-8-41 name=__codelineno-8-41 href=#__codelineno-8-41></a>            <span class=p>}</span>
</span><span id=__span-8-42><a id=__codelineno-8-42 name=__codelineno-8-42 href=#__codelineno-8-42></a>        <span class=p>}</span>
</span><span id=__span-8-43><a id=__codelineno-8-43 name=__codelineno-8-43 href=#__codelineno-8-43></a>    <span class=p>},</span>
</span><span id=__span-8-44><a id=__codelineno-8-44 name=__codelineno-8-44 href=#__codelineno-8-44></a>    <span class=s1>&#39;empty_dict&#39;</span><span class=p>:</span> <span class=p>{},</span>
</span><span id=__span-8-45><a id=__codelineno-8-45 name=__codelineno-8-45 href=#__codelineno-8-45></a>    <span class=s1>&#39;list_value&#39;</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span>
</span><span id=__span-8-46><a id=__codelineno-8-46 name=__codelineno-8-46 href=#__codelineno-8-46></a>    <span class=s1>&#39;string_value&#39;</span><span class=p>:</span> <span class=s1>&#39;hello&#39;</span>
</span><span id=__span-8-47><a id=__codelineno-8-47 name=__codelineno-8-47 href=#__codelineno-8-47></a><span class=p>}</span>
</span><span id=__span-8-48><a id=__codelineno-8-48 name=__codelineno-8-48 href=#__codelineno-8-48></a>
</span><span id=__span-8-49><a id=__codelineno-8-49 name=__codelineno-8-49 href=#__codelineno-8-49></a><span class=c1># Successful lookups</span>
</span><span id=__span-8-50><a id=__codelineno-8-50 name=__codelineno-8-50 href=#__codelineno-8-50></a><span class=nb>print</span><span class=p>(</span><span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;level1&#39;</span><span class=p>,</span> <span class=s1>&#39;level2&#39;</span><span class=p>,</span> <span class=s1>&#39;level3&#39;</span><span class=p>,</span> <span class=s1>&#39;target&#39;</span><span class=p>]))</span>
</span><span id=__span-8-51><a id=__codelineno-8-51 name=__codelineno-8-51 href=#__codelineno-8-51></a><span class=c1># Output: found it!</span>
</span><span id=__span-8-52><a id=__codelineno-8-52 name=__codelineno-8-52 href=#__codelineno-8-52></a>
</span><span id=__span-8-53><a id=__codelineno-8-53 name=__codelineno-8-53 href=#__codelineno-8-53></a><span class=nb>print</span><span class=p>(</span><span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;level1&#39;</span><span class=p>,</span> <span class=s1>&#39;level2&#39;</span><span class=p>,</span> <span class=s1>&#39;level3&#39;</span><span class=p>,</span> <span class=s1>&#39;number&#39;</span><span class=p>]))</span>
</span><span id=__span-8-54><a id=__codelineno-8-54 name=__codelineno-8-54 href=#__codelineno-8-54></a><span class=c1># Output: 42</span>
</span><span id=__span-8-55><a id=__codelineno-8-55 name=__codelineno-8-55 href=#__codelineno-8-55></a>
</span><span id=__span-8-56><a id=__codelineno-8-56 name=__codelineno-8-56 href=#__codelineno-8-56></a><span class=c1># Missing path</span>
</span><span id=__span-8-57><a id=__codelineno-8-57 name=__codelineno-8-57 href=#__codelineno-8-57></a><span class=nb>print</span><span class=p>(</span><span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;level1&#39;</span><span class=p>,</span> <span class=s1>&#39;missing&#39;</span><span class=p>,</span> <span class=s1>&#39;key&#39;</span><span class=p>],</span> <span class=s1>&#39;default&#39;</span><span class=p>))</span>
</span><span id=__span-8-58><a id=__codelineno-8-58 name=__codelineno-8-58 href=#__codelineno-8-58></a><span class=c1># Output: default</span>
</span><span id=__span-8-59><a id=__codelineno-8-59 name=__codelineno-8-59 href=#__codelineno-8-59></a>
</span><span id=__span-8-60><a id=__codelineno-8-60 name=__codelineno-8-60 href=#__codelineno-8-60></a><span class=c1># Empty path</span>
</span><span id=__span-8-61><a id=__codelineno-8-61 name=__codelineno-8-61 href=#__codelineno-8-61></a><span class=nb>print</span><span class=p>(</span><span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=p>[],</span> <span class=s1>&#39;empty_path&#39;</span><span class=p>))</span>
</span><span id=__span-8-62><a id=__codelineno-8-62 name=__codelineno-8-62 href=#__codelineno-8-62></a><span class=c1># Output: empty_path</span>
</span><span id=__span-8-63><a id=__codelineno-8-63 name=__codelineno-8-63 href=#__codelineno-8-63></a>
</span><span id=__span-8-64><a id=__codelineno-8-64 name=__codelineno-8-64 href=#__codelineno-8-64></a><span class=c1># Path through non-dict</span>
</span><span id=__span-8-65><a id=__codelineno-8-65 name=__codelineno-8-65 href=#__codelineno-8-65></a><span class=nb>print</span><span class=p>(</span><span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;string_value&#39;</span><span class=p>,</span> <span class=s1>&#39;nested&#39;</span><span class=p>],</span> <span class=s1>&#39;not_dict&#39;</span><span class=p>))</span>
</span><span id=__span-8-66><a id=__codelineno-8-66 name=__codelineno-8-66 href=#__codelineno-8-66></a><span class=c1># Output: not_dict</span>
</span></code></pre></div> <h3 id=enhanced-version-with-type-checking>Enhanced Version with Type Checking<a class=headerlink href=#enhanced-version-with-type-checking title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>def</span><span class=w> </span><span class=nf>enhanced_depth_search</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>strict_types</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=sd>    Enhanced version with additional type checking and options.</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=sd>    Args:</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=sd>        data: The data structure to search</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=sd>        path: List of keys/indices for the path</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=sd>        default: Default value if path not found</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=sd>        strict_types: If True, only allow dict traversal</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=sd>    Returns:</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=sd>        Value at path or default</span>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>    <span class=n>current</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>key</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-9-19><a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>        <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>))</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>strict_types</span><span class=p>:</span>
</span><span id=__span-9-20><a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-9-21><a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a>                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span> <span class=ow>and</span> <span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>key</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>current</span><span class=p>):</span>
</span><span id=__span-9-22><a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a>                    <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-9-23><a id=__codelineno-9-23 name=__codelineno-9-23 href=#__codelineno-9-23></a>                <span class=k>else</span><span class=p>:</span>
</span><span id=__span-9-24><a id=__codelineno-9-24 name=__codelineno-9-24 href=#__codelineno-9-24></a>                    <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-9-25><a id=__codelineno-9-25 name=__codelineno-9-25 href=#__codelineno-9-25></a>            <span class=k>except</span> <span class=p>(</span><span class=ne>IndexError</span><span class=p>,</span> <span class=ne>TypeError</span><span class=p>):</span>
</span><span id=__span-9-26><a id=__codelineno-9-26 name=__codelineno-9-26 href=#__codelineno-9-26></a>                <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-9-27><a id=__codelineno-9-27 name=__codelineno-9-27 href=#__codelineno-9-27></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-9-28><a id=__codelineno-9-28 name=__codelineno-9-28 href=#__codelineno-9-28></a>            <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-9-29><a id=__codelineno-9-29 name=__codelineno-9-29 href=#__codelineno-9-29></a>
</span><span id=__span-9-30><a id=__codelineno-9-30 name=__codelineno-9-30 href=#__codelineno-9-30></a>        <span class=k>if</span> <span class=n>current</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-9-31><a id=__codelineno-9-31 name=__codelineno-9-31 href=#__codelineno-9-31></a>            <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-9-32><a id=__codelineno-9-32 name=__codelineno-9-32 href=#__codelineno-9-32></a>
</span><span id=__span-9-33><a id=__codelineno-9-33 name=__codelineno-9-33 href=#__codelineno-9-33></a>    <span class=k>return</span> <span class=n>current</span>
</span><span id=__span-9-34><a id=__codelineno-9-34 name=__codelineno-9-34 href=#__codelineno-9-34></a>
</span><span id=__span-9-35><a id=__codelineno-9-35 name=__codelineno-9-35 href=#__codelineno-9-35></a><span class=c1># Test with mixed data types</span>
</span><span id=__span-9-36><a id=__codelineno-9-36 name=__codelineno-9-36 href=#__codelineno-9-36></a><span class=n>mixed_data</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-9-37><a id=__codelineno-9-37 name=__codelineno-9-37 href=#__codelineno-9-37></a>    <span class=s1>&#39;users&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-9-38><a id=__codelineno-9-38 name=__codelineno-9-38 href=#__codelineno-9-38></a>        <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Alice&#39;</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;theme&#39;</span><span class=p>:</span> <span class=s1>&#39;dark&#39;</span><span class=p>}},</span>
</span><span id=__span-9-39><a id=__codelineno-9-39 name=__codelineno-9-39 href=#__codelineno-9-39></a>        <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Bob&#39;</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;theme&#39;</span><span class=p>:</span> <span class=s1>&#39;light&#39;</span><span class=p>}}</span>
</span><span id=__span-9-40><a id=__codelineno-9-40 name=__codelineno-9-40 href=#__codelineno-9-40></a>    <span class=p>],</span>
</span><span id=__span-9-41><a id=__codelineno-9-41 name=__codelineno-9-41 href=#__codelineno-9-41></a>    <span class=s1>&#39;config&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-9-42><a id=__codelineno-9-42 name=__codelineno-9-42 href=#__codelineno-9-42></a>        <span class=s1>&#39;database&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-9-43><a id=__codelineno-9-43 name=__codelineno-9-43 href=#__codelineno-9-43></a>            <span class=s1>&#39;host&#39;</span><span class=p>:</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
</span><span id=__span-9-44><a id=__codelineno-9-44 name=__codelineno-9-44 href=#__codelineno-9-44></a>            <span class=s1>&#39;port&#39;</span><span class=p>:</span> <span class=mi>5432</span>
</span><span id=__span-9-45><a id=__codelineno-9-45 name=__codelineno-9-45 href=#__codelineno-9-45></a>        <span class=p>}</span>
</span><span id=__span-9-46><a id=__codelineno-9-46 name=__codelineno-9-46 href=#__codelineno-9-46></a>    <span class=p>}</span>
</span><span id=__span-9-47><a id=__codelineno-9-47 name=__codelineno-9-47 href=#__codelineno-9-47></a><span class=p>}</span>
</span><span id=__span-9-48><a id=__codelineno-9-48 name=__codelineno-9-48 href=#__codelineno-9-48></a>
</span><span id=__span-9-49><a id=__codelineno-9-49 name=__codelineno-9-49 href=#__codelineno-9-49></a><span class=c1># Access array element then nested dict</span>
</span><span id=__span-9-50><a id=__codelineno-9-50 name=__codelineno-9-50 href=#__codelineno-9-50></a><span class=n>alice_theme</span> <span class=o>=</span> <span class=n>enhanced_depth_search</span><span class=p>(</span><span class=n>mixed_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;users&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>,</span> <span class=s1>&#39;theme&#39;</span><span class=p>])</span>
</span><span id=__span-9-51><a id=__codelineno-9-51 name=__codelineno-9-51 href=#__codelineno-9-51></a><span class=nb>print</span><span class=p>(</span><span class=n>alice_theme</span><span class=p>)</span>  <span class=c1># dark</span>
</span><span id=__span-9-52><a id=__codelineno-9-52 name=__codelineno-9-52 href=#__codelineno-9-52></a>
</span><span id=__span-9-53><a id=__codelineno-9-53 name=__codelineno-9-53 href=#__codelineno-9-53></a><span class=c1># Access second user</span>
</span><span id=__span-9-54><a id=__codelineno-9-54 name=__codelineno-9-54 href=#__codelineno-9-54></a><span class=n>bob_theme</span> <span class=o>=</span> <span class=n>enhanced_depth_search</span><span class=p>(</span><span class=n>mixed_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;users&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>,</span> <span class=s1>&#39;theme&#39;</span><span class=p>])</span>
</span><span id=__span-9-55><a id=__codelineno-9-55 name=__codelineno-9-55 href=#__codelineno-9-55></a><span class=nb>print</span><span class=p>(</span><span class=n>bob_theme</span><span class=p>)</span>  <span class=c1># light</span>
</span><span id=__span-9-56><a id=__codelineno-9-56 name=__codelineno-9-56 href=#__codelineno-9-56></a>
</span><span id=__span-9-57><a id=__codelineno-9-57 name=__codelineno-9-57 href=#__codelineno-9-57></a><span class=c1># Access config</span>
</span><span id=__span-9-58><a id=__codelineno-9-58 name=__codelineno-9-58 href=#__codelineno-9-58></a><span class=n>db_host</span> <span class=o>=</span> <span class=n>enhanced_depth_search</span><span class=p>(</span><span class=n>mixed_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;config&#39;</span><span class=p>,</span> <span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;host&#39;</span><span class=p>])</span>
</span><span id=__span-9-59><a id=__codelineno-9-59 name=__codelineno-9-59 href=#__codelineno-9-59></a><span class=nb>print</span><span class=p>(</span><span class=n>db_host</span><span class=p>)</span>  <span class=c1># localhost</span>
</span></code></pre></div> <h2 id=performance-comparison>Performance Comparison<a class=headerlink href=#performance-comparison title="Permanent link">&para;</a></h2> <p>Let's benchmark the different approaches to understand their performance characteristics:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=kn>import</span><span class=w> </span><span class=nn>time</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=kn>import</span><span class=w> </span><span class=nn>random</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>reduce</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=k>def</span><span class=w> </span><span class=nf>create_test_data</span><span class=p>(</span><span class=n>depth</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span> <span class=n>width</span><span class=o>=</span><span class=mi>3</span><span class=p>):</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create nested test data of specified depth and width.&quot;&quot;&quot;</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>    <span class=k>if</span> <span class=n>depth</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>        <span class=k>return</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>    <span class=k>return</span> <span class=p>{</span><span class=sa>f</span><span class=s1>&#39;key_</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>create_test_data</span><span class=p>(</span><span class=n>depth</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>width</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>width</span><span class=p>)}</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=k>def</span><span class=w> </span><span class=nf>create_test_paths</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>max_depth</span><span class=o>=</span><span class=mi>5</span><span class=p>):</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create valid and invalid test paths.&quot;&quot;&quot;</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>    <span class=n>valid_paths</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a>    <span class=n>invalid_paths</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a>
</span><span id=__span-10-17><a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a>    <span class=c1># Create some valid paths</span>
</span><span id=__span-10-18><a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>max_depth</span><span class=p>):</span>
</span><span id=__span-10-19><a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a>        <span class=n>path</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s1>&#39;key_</span><span class=si>{</span><span class=n>j</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>3</span><span class=si>}</span><span class=s1>&#39;</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)]</span>
</span><span id=__span-10-20><a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a>        <span class=n>valid_paths</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span><span id=__span-10-21><a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a>
</span><span id=__span-10-22><a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a>    <span class=c1># Create some invalid paths</span>
</span><span id=__span-10-23><a id=__codelineno-10-23 name=__codelineno-10-23 href=#__codelineno-10-23></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>max_depth</span><span class=p>):</span>
</span><span id=__span-10-24><a id=__codelineno-10-24 name=__codelineno-10-24 href=#__codelineno-10-24></a>        <span class=n>path</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s1>&#39;key_</span><span class=si>{</span><span class=n>j</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>3</span><span class=si>}</span><span class=s1>&#39;</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>i</span><span class=p>)]</span> <span class=o>+</span> <span class=p>[</span><span class=s1>&#39;invalid_key&#39;</span><span class=p>]</span>
</span><span id=__span-10-25><a id=__codelineno-10-25 name=__codelineno-10-25 href=#__codelineno-10-25></a>        <span class=n>invalid_paths</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span><span id=__span-10-26><a id=__codelineno-10-26 name=__codelineno-10-26 href=#__codelineno-10-26></a>
</span><span id=__span-10-27><a id=__codelineno-10-27 name=__codelineno-10-27 href=#__codelineno-10-27></a>    <span class=k>return</span> <span class=n>valid_paths</span><span class=p>,</span> <span class=n>invalid_paths</span>
</span><span id=__span-10-28><a id=__codelineno-10-28 name=__codelineno-10-28 href=#__codelineno-10-28></a>
</span><span id=__span-10-29><a id=__codelineno-10-29 name=__codelineno-10-29 href=#__codelineno-10-29></a><span class=c1># Create test data</span>
</span><span id=__span-10-30><a id=__codelineno-10-30 name=__codelineno-10-30 href=#__codelineno-10-30></a><span class=n>test_data</span> <span class=o>=</span> <span class=n>create_test_data</span><span class=p>(</span><span class=n>depth</span><span class=o>=</span><span class=mi>6</span><span class=p>,</span> <span class=n>width</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-10-31><a id=__codelineno-10-31 name=__codelineno-10-31 href=#__codelineno-10-31></a><span class=n>valid_paths</span><span class=p>,</span> <span class=n>invalid_paths</span> <span class=o>=</span> <span class=n>create_test_paths</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=n>max_depth</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
</span><span id=__span-10-32><a id=__codelineno-10-32 name=__codelineno-10-32 href=#__codelineno-10-32></a>
</span><span id=__span-10-33><a id=__codelineno-10-33 name=__codelineno-10-33 href=#__codelineno-10-33></a><span class=k>def</span><span class=w> </span><span class=nf>benchmark_function</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>paths</span><span class=p>,</span> <span class=n>iterations</span><span class=o>=</span><span class=mi>10000</span><span class=p>):</span>
</span><span id=__span-10-34><a id=__codelineno-10-34 name=__codelineno-10-34 href=#__codelineno-10-34></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Benchmark a function with given data and paths.&quot;&quot;&quot;</span>
</span><span id=__span-10-35><a id=__codelineno-10-35 name=__codelineno-10-35 href=#__codelineno-10-35></a>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
</span><span id=__span-10-36><a id=__codelineno-10-36 name=__codelineno-10-36 href=#__codelineno-10-36></a>
</span><span id=__span-10-37><a id=__codelineno-10-37 name=__codelineno-10-37 href=#__codelineno-10-37></a>    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>iterations</span><span class=p>):</span>
</span><span id=__span-10-38><a id=__codelineno-10-38 name=__codelineno-10-38 href=#__codelineno-10-38></a>        <span class=k>for</span> <span class=n>path</span> <span class=ow>in</span> <span class=n>paths</span><span class=p>:</span>
</span><span id=__span-10-39><a id=__codelineno-10-39 name=__codelineno-10-39 href=#__codelineno-10-39></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-10-40><a id=__codelineno-10-40 name=__codelineno-10-40 href=#__codelineno-10-40></a>                <span class=n>func</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span><span id=__span-10-41><a id=__codelineno-10-41 name=__codelineno-10-41 href=#__codelineno-10-41></a>            <span class=k>except</span> <span class=ne>Exception</span><span class=p>:</span>
</span><span id=__span-10-42><a id=__codelineno-10-42 name=__codelineno-10-42 href=#__codelineno-10-42></a>                <span class=k>pass</span>  <span class=c1># Ignore errors for benchmarking</span>
</span><span id=__span-10-43><a id=__codelineno-10-43 name=__codelineno-10-43 href=#__codelineno-10-43></a>
</span><span id=__span-10-44><a id=__codelineno-10-44 name=__codelineno-10-44 href=#__codelineno-10-44></a>    <span class=n>end_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
</span><span id=__span-10-45><a id=__codelineno-10-45 name=__codelineno-10-45 href=#__codelineno-10-45></a>    <span class=k>return</span> <span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span>
</span><span id=__span-10-46><a id=__codelineno-10-46 name=__codelineno-10-46 href=#__codelineno-10-46></a>
</span><span id=__span-10-47><a id=__codelineno-10-47 name=__codelineno-10-47 href=#__codelineno-10-47></a><span class=c1># Define functions to test</span>
</span><span id=__span-10-48><a id=__codelineno-10-48 name=__codelineno-10-48 href=#__codelineno-10-48></a><span class=k>def</span><span class=w> </span><span class=nf>method_chained_get</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-10-49><a id=__codelineno-10-49 name=__codelineno-10-49 href=#__codelineno-10-49></a>    <span class=n>result</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-10-50><a id=__codelineno-10-50 name=__codelineno-10-50 href=#__codelineno-10-50></a>    <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>path</span><span class=p>:</span>
</span><span id=__span-10-51><a id=__codelineno-10-51 name=__codelineno-10-51 href=#__codelineno-10-51></a>        <span class=n>result</span> <span class=o>=</span> <span class=n>result</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-10-52><a id=__codelineno-10-52 name=__codelineno-10-52 href=#__codelineno-10-52></a>    <span class=k>return</span> <span class=n>result</span>
</span><span id=__span-10-53><a id=__codelineno-10-53 name=__codelineno-10-53 href=#__codelineno-10-53></a>
</span><span id=__span-10-54><a id=__codelineno-10-54 name=__codelineno-10-54 href=#__codelineno-10-54></a><span class=k>def</span><span class=w> </span><span class=nf>method_try_except</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-10-55><a id=__codelineno-10-55 name=__codelineno-10-55 href=#__codelineno-10-55></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-10-56><a id=__codelineno-10-56 name=__codelineno-10-56 href=#__codelineno-10-56></a>        <span class=n>result</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-10-57><a id=__codelineno-10-57 name=__codelineno-10-57 href=#__codelineno-10-57></a>        <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>path</span><span class=p>:</span>
</span><span id=__span-10-58><a id=__codelineno-10-58 name=__codelineno-10-58 href=#__codelineno-10-58></a>            <span class=n>result</span> <span class=o>=</span> <span class=n>result</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-10-59><a id=__codelineno-10-59 name=__codelineno-10-59 href=#__codelineno-10-59></a>        <span class=k>return</span> <span class=n>result</span>
</span><span id=__span-10-60><a id=__codelineno-10-60 name=__codelineno-10-60 href=#__codelineno-10-60></a>    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
</span><span id=__span-10-61><a id=__codelineno-10-61 name=__codelineno-10-61 href=#__codelineno-10-61></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-10-62><a id=__codelineno-10-62 name=__codelineno-10-62 href=#__codelineno-10-62></a>
</span><span id=__span-10-63><a id=__codelineno-10-63 name=__codelineno-10-63 href=#__codelineno-10-63></a><span class=k>def</span><span class=w> </span><span class=nf>method_reduce_safe</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-10-64><a id=__codelineno-10-64 name=__codelineno-10-64 href=#__codelineno-10-64></a>    <span class=k>return</span> <span class=n>reduce</span><span class=p>(</span>
</span><span id=__span-10-65><a id=__codelineno-10-65 name=__codelineno-10-65 href=#__codelineno-10-65></a>        <span class=k>lambda</span> <span class=n>d</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=n>d</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=p>{})</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>d</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=k>else</span> <span class=p>{},</span>
</span><span id=__span-10-66><a id=__codelineno-10-66 name=__codelineno-10-66 href=#__codelineno-10-66></a>        <span class=n>path</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span>
</span><span id=__span-10-67><a id=__codelineno-10-67 name=__codelineno-10-67 href=#__codelineno-10-67></a>        <span class=n>data</span>
</span><span id=__span-10-68><a id=__codelineno-10-68 name=__codelineno-10-68 href=#__codelineno-10-68></a>    <span class=p>)</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span> <span class=k>if</span> <span class=n>path</span> <span class=k>else</span> <span class=kc>None</span>
</span><span id=__span-10-69><a id=__codelineno-10-69 name=__codelineno-10-69 href=#__codelineno-10-69></a>
</span><span id=__span-10-70><a id=__codelineno-10-70 name=__codelineno-10-70 href=#__codelineno-10-70></a><span class=c1># Run benchmarks</span>
</span><span id=__span-10-71><a id=__codelineno-10-71 name=__codelineno-10-71 href=#__codelineno-10-71></a><span class=n>functions</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-10-72><a id=__codelineno-10-72 name=__codelineno-10-72 href=#__codelineno-10-72></a>    <span class=p>(</span><span class=s1>&#39;Chained get()&#39;</span><span class=p>,</span> <span class=n>method_chained_get</span><span class=p>),</span>
</span><span id=__span-10-73><a id=__codelineno-10-73 name=__codelineno-10-73 href=#__codelineno-10-73></a>    <span class=p>(</span><span class=s1>&#39;Try/except&#39;</span><span class=p>,</span> <span class=n>method_try_except</span><span class=p>),</span>
</span><span id=__span-10-74><a id=__codelineno-10-74 name=__codelineno-10-74 href=#__codelineno-10-74></a>    <span class=p>(</span><span class=s1>&#39;Reduce safe&#39;</span><span class=p>,</span> <span class=n>method_reduce_safe</span><span class=p>),</span>
</span><span id=__span-10-75><a id=__codelineno-10-75 name=__codelineno-10-75 href=#__codelineno-10-75></a>    <span class=p>(</span><span class=s1>&#39;Programmatic search&#39;</span><span class=p>,</span> <span class=n>programmatic_depth_search</span><span class=p>)</span>
</span><span id=__span-10-76><a id=__codelineno-10-76 name=__codelineno-10-76 href=#__codelineno-10-76></a><span class=p>]</span>
</span><span id=__span-10-77><a id=__codelineno-10-77 name=__codelineno-10-77 href=#__codelineno-10-77></a>
</span><span id=__span-10-78><a id=__codelineno-10-78 name=__codelineno-10-78 href=#__codelineno-10-78></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Performance Benchmark Results&quot;</span><span class=p>)</span>
</span><span id=__span-10-79><a id=__codelineno-10-79 name=__codelineno-10-79 href=#__codelineno-10-79></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;=&quot;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span><span id=__span-10-80><a id=__codelineno-10-80 name=__codelineno-10-80 href=#__codelineno-10-80></a>
</span><span id=__span-10-81><a id=__codelineno-10-81 name=__codelineno-10-81 href=#__codelineno-10-81></a><span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>func</span> <span class=ow>in</span> <span class=n>functions</span><span class=p>:</span>
</span><span id=__span-10-82><a id=__codelineno-10-82 name=__codelineno-10-82 href=#__codelineno-10-82></a>    <span class=c1># Test with valid paths</span>
</span><span id=__span-10-83><a id=__codelineno-10-83 name=__codelineno-10-83 href=#__codelineno-10-83></a>    <span class=n>valid_time</span> <span class=o>=</span> <span class=n>benchmark_function</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=n>test_data</span><span class=p>,</span> <span class=n>valid_paths</span><span class=p>,</span> <span class=mi>1000</span><span class=p>)</span>
</span><span id=__span-10-84><a id=__codelineno-10-84 name=__codelineno-10-84 href=#__codelineno-10-84></a>
</span><span id=__span-10-85><a id=__codelineno-10-85 name=__codelineno-10-85 href=#__codelineno-10-85></a>    <span class=c1># Test with invalid paths</span>
</span><span id=__span-10-86><a id=__codelineno-10-86 name=__codelineno-10-86 href=#__codelineno-10-86></a>    <span class=n>invalid_time</span> <span class=o>=</span> <span class=n>benchmark_function</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=n>test_data</span><span class=p>,</span> <span class=n>invalid_paths</span><span class=p>,</span> <span class=mi>1000</span><span class=p>)</span>
</span><span id=__span-10-87><a id=__codelineno-10-87 name=__codelineno-10-87 href=#__codelineno-10-87></a>
</span><span id=__span-10-88><a id=__codelineno-10-88 name=__codelineno-10-88 href=#__codelineno-10-88></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>:</span><span class=s2>20</span><span class=si>}</span><span class=s2> | Valid: </span><span class=si>{</span><span class=n>valid_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s | Invalid: </span><span class=si>{</span><span class=n>invalid_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
</span></code></pre></div> <h3 id=performance-results-analysis>Performance Results Analysis<a class=headerlink href=#performance-results-analysis title="Permanent link">&para;</a></h3> <p>Based on typical benchmark results:</p> <ol> <li><strong>Try/except method</strong>: Fastest for valid paths, but slow for invalid paths due to exception overhead</li> <li><strong>Chained get()</strong>: Consistent performance, good balance between valid and invalid paths</li> <li><strong>Reduce-based</strong>: Slightly slower due to function call overhead</li> <li><strong>Programmatic search</strong>: Good performance with additional type safety</li> </ol> <h2 id=error-handling-and-robustness>Error Handling and Robustness<a class=headerlink href=#error-handling-and-robustness title="Permanent link">&para;</a></h2> <h3 id=comprehensive-error-handling>Comprehensive Error Handling<a class=headerlink href=#comprehensive-error-handling title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=k>class</span><span class=w> </span><span class=nc>NestedLookupError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom exception for nested lookup errors.&quot;&quot;&quot;</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>    <span class=k>pass</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=k>def</span><span class=w> </span><span class=nf>robust_nested_lookup</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>strict</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>                        <span class=n>allowed_types</span><span class=o>=</span><span class=p>(</span><span class=nb>dict</span><span class=p>,),</span> <span class=n>max_depth</span><span class=o>=</span><span class=mi>50</span><span class=p>):</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=sd>    Robust nested lookup with comprehensive error handling.</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=sd>    Args:</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=sd>        data: The data structure to search</span>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=sd>        path: List of keys for the path</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=sd>        default: Default value if lookup fails</span>
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=sd>        strict: If True, raise exceptions instead of returning default</span>
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a><span class=sd>        allowed_types: Tuple of types allowed for traversal</span>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a><span class=sd>        max_depth: Maximum recursion depth to prevent infinite loops</span>
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a><span class=sd>    Returns:</span>
</span><span id=__span-11-19><a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a><span class=sd>        Value at path or default</span>
</span><span id=__span-11-20><a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>
</span><span id=__span-11-21><a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a><span class=sd>    Raises:</span>
</span><span id=__span-11-22><a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a><span class=sd>        NestedLookupError: If strict=True and lookup fails</span>
</span><span id=__span-11-23><a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a><span class=sd>        RecursionError: If max_depth exceeded</span>
</span><span id=__span-11-24><a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-11-25><a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>)):</span>
</span><span id=__span-11-26><a id=__codelineno-11-26 name=__codelineno-11-26 href=#__codelineno-11-26></a>        <span class=k>if</span> <span class=n>strict</span><span class=p>:</span>
</span><span id=__span-11-27><a id=__codelineno-11-27 name=__codelineno-11-27 href=#__codelineno-11-27></a>            <span class=k>raise</span> <span class=n>NestedLookupError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Path must be list or tuple, got </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-11-28><a id=__codelineno-11-28 name=__codelineno-11-28 href=#__codelineno-11-28></a>        <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-11-29><a id=__codelineno-11-29 name=__codelineno-11-29 href=#__codelineno-11-29></a>
</span><span id=__span-11-30><a id=__codelineno-11-30 name=__codelineno-11-30 href=#__codelineno-11-30></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=o>&gt;</span> <span class=n>max_depth</span><span class=p>:</span>
</span><span id=__span-11-31><a id=__codelineno-11-31 name=__codelineno-11-31 href=#__codelineno-11-31></a>        <span class=k>if</span> <span class=n>strict</span><span class=p>:</span>
</span><span id=__span-11-32><a id=__codelineno-11-32 name=__codelineno-11-32 href=#__codelineno-11-32></a>            <span class=k>raise</span> <span class=n>NestedLookupError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Path depth </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=si>}</span><span class=s2> exceeds maximum </span><span class=si>{</span><span class=n>max_depth</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-11-33><a id=__codelineno-11-33 name=__codelineno-11-33 href=#__codelineno-11-33></a>        <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-11-34><a id=__codelineno-11-34 name=__codelineno-11-34 href=#__codelineno-11-34></a>
</span><span id=__span-11-35><a id=__codelineno-11-35 name=__codelineno-11-35 href=#__codelineno-11-35></a>    <span class=n>current</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-11-36><a id=__codelineno-11-36 name=__codelineno-11-36 href=#__codelineno-11-36></a>
</span><span id=__span-11-37><a id=__codelineno-11-37 name=__codelineno-11-37 href=#__codelineno-11-37></a>    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>key</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span><span id=__span-11-38><a id=__codelineno-11-38 name=__codelineno-11-38 href=#__codelineno-11-38></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=n>allowed_types</span><span class=p>):</span>
</span><span id=__span-11-39><a id=__codelineno-11-39 name=__codelineno-11-39 href=#__codelineno-11-39></a>            <span class=k>if</span> <span class=n>strict</span><span class=p>:</span>
</span><span id=__span-11-40><a id=__codelineno-11-40 name=__codelineno-11-40 href=#__codelineno-11-40></a>                <span class=k>raise</span> <span class=n>NestedLookupError</span><span class=p>(</span>
</span><span id=__span-11-41><a id=__codelineno-11-41 name=__codelineno-11-41 href=#__codelineno-11-41></a>                    <span class=sa>f</span><span class=s2>&quot;Expected </span><span class=si>{</span><span class=n>allowed_types</span><span class=si>}</span><span class=s2> at path step </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>, got </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>current</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-11-42><a id=__codelineno-11-42 name=__codelineno-11-42 href=#__codelineno-11-42></a>                <span class=p>)</span>
</span><span id=__span-11-43><a id=__codelineno-11-43 name=__codelineno-11-43 href=#__codelineno-11-43></a>            <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-11-44><a id=__codelineno-11-44 name=__codelineno-11-44 href=#__codelineno-11-44></a>
</span><span id=__span-11-45><a id=__codelineno-11-45 name=__codelineno-11-45 href=#__codelineno-11-45></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-11-46><a id=__codelineno-11-46 name=__codelineno-11-46 href=#__codelineno-11-46></a>            <span class=k>if</span> <span class=n>key</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>current</span><span class=p>:</span>
</span><span id=__span-11-47><a id=__codelineno-11-47 name=__codelineno-11-47 href=#__codelineno-11-47></a>                <span class=k>if</span> <span class=n>strict</span><span class=p>:</span>
</span><span id=__span-11-48><a id=__codelineno-11-48 name=__codelineno-11-48 href=#__codelineno-11-48></a>                    <span class=k>raise</span> <span class=n>NestedLookupError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Key &#39;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&#39; not found at path step </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-11-49><a id=__codelineno-11-49 name=__codelineno-11-49 href=#__codelineno-11-49></a>                <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-11-50><a id=__codelineno-11-50 name=__codelineno-11-50 href=#__codelineno-11-50></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-11-51><a id=__codelineno-11-51 name=__codelineno-11-51 href=#__codelineno-11-51></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-11-52><a id=__codelineno-11-52 name=__codelineno-11-52 href=#__codelineno-11-52></a>            <span class=c1># Handle other allowed types (lists, custom objects, etc.)</span>
</span><span id=__span-11-53><a id=__codelineno-11-53 name=__codelineno-11-53 href=#__codelineno-11-53></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-11-54><a id=__codelineno-11-54 name=__codelineno-11-54 href=#__codelineno-11-54></a>                <span class=n>current</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=n>key</span><span class=p>)</span> <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=n>key</span><span class=p>)</span> <span class=k>else</span> <span class=n>current</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-11-55><a id=__codelineno-11-55 name=__codelineno-11-55 href=#__codelineno-11-55></a>            <span class=k>except</span> <span class=p>(</span><span class=ne>KeyError</span><span class=p>,</span> <span class=ne>IndexError</span><span class=p>,</span> <span class=ne>AttributeError</span><span class=p>,</span> <span class=ne>TypeError</span><span class=p>):</span>
</span><span id=__span-11-56><a id=__codelineno-11-56 name=__codelineno-11-56 href=#__codelineno-11-56></a>                <span class=k>if</span> <span class=n>strict</span><span class=p>:</span>
</span><span id=__span-11-57><a id=__codelineno-11-57 name=__codelineno-11-57 href=#__codelineno-11-57></a>                    <span class=k>raise</span> <span class=n>NestedLookupError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Cannot access &#39;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&#39; at path step </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-11-58><a id=__codelineno-11-58 name=__codelineno-11-58 href=#__codelineno-11-58></a>                <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-11-59><a id=__codelineno-11-59 name=__codelineno-11-59 href=#__codelineno-11-59></a>
</span><span id=__span-11-60><a id=__codelineno-11-60 name=__codelineno-11-60 href=#__codelineno-11-60></a>    <span class=k>return</span> <span class=n>current</span>
</span><span id=__span-11-61><a id=__codelineno-11-61 name=__codelineno-11-61 href=#__codelineno-11-61></a>
</span><span id=__span-11-62><a id=__codelineno-11-62 name=__codelineno-11-62 href=#__codelineno-11-62></a><span class=c1># Test robust lookup</span>
</span><span id=__span-11-63><a id=__codelineno-11-63 name=__codelineno-11-63 href=#__codelineno-11-63></a><span class=n>test_cases</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-11-64><a id=__codelineno-11-64 name=__codelineno-11-64 href=#__codelineno-11-64></a>    <span class=c1># (data, path, expected_result)</span>
</span><span id=__span-11-65><a id=__codelineno-11-65 name=__codelineno-11-65 href=#__codelineno-11-65></a>    <span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>42</span><span class=p>}},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>],</span> <span class=mi>42</span><span class=p>),</span>
</span><span id=__span-11-66><a id=__codelineno-11-66 name=__codelineno-11-66 href=#__codelineno-11-66></a>    <span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>42</span><span class=p>}},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>],</span> <span class=kc>None</span><span class=p>),</span>
</span><span id=__span-11-67><a id=__codelineno-11-67 name=__codelineno-11-67 href=#__codelineno-11-67></a>    <span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>42</span><span class=p>}},</span> <span class=p>[</span><span class=s1>&#39;c&#39;</span><span class=p>],</span> <span class=kc>None</span><span class=p>),</span>
</span><span id=__span-11-68><a id=__codelineno-11-68 name=__codelineno-11-68 href=#__codelineno-11-68></a>    <span class=p>({},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>],</span> <span class=kc>None</span><span class=p>),</span>
</span><span id=__span-11-69><a id=__codelineno-11-69 name=__codelineno-11-69 href=#__codelineno-11-69></a>    <span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=kc>None</span><span class=p>},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>],</span> <span class=kc>None</span><span class=p>),</span>
</span><span id=__span-11-70><a id=__codelineno-11-70 name=__codelineno-11-70 href=#__codelineno-11-70></a>    <span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=p>[]}}},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>],</span> <span class=p>[]),</span>
</span><span id=__span-11-71><a id=__codelineno-11-71 name=__codelineno-11-71 href=#__codelineno-11-71></a><span class=p>]</span>
</span><span id=__span-11-72><a id=__codelineno-11-72 name=__codelineno-11-72 href=#__codelineno-11-72></a>
</span><span id=__span-11-73><a id=__codelineno-11-73 name=__codelineno-11-73 href=#__codelineno-11-73></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Robust Lookup Test Results&quot;</span><span class=p>)</span>
</span><span id=__span-11-74><a id=__codelineno-11-74 name=__codelineno-11-74 href=#__codelineno-11-74></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;-&quot;</span> <span class=o>*</span> <span class=mi>40</span><span class=p>)</span>
</span><span id=__span-11-75><a id=__codelineno-11-75 name=__codelineno-11-75 href=#__codelineno-11-75></a>
</span><span id=__span-11-76><a id=__codelineno-11-76 name=__codelineno-11-76 href=#__codelineno-11-76></a><span class=k>for</span> <span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>expected</span> <span class=ow>in</span> <span class=n>test_cases</span><span class=p>:</span>
</span><span id=__span-11-77><a id=__codelineno-11-77 name=__codelineno-11-77 href=#__codelineno-11-77></a>    <span class=n>result</span> <span class=o>=</span> <span class=n>robust_nested_lookup</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span><span id=__span-11-78><a id=__codelineno-11-78 name=__codelineno-11-78 href=#__codelineno-11-78></a>    <span class=n>status</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span> <span class=k>if</span> <span class=n>result</span> <span class=o>==</span> <span class=n>expected</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
</span><span id=__span-11-79><a id=__codelineno-11-79 name=__codelineno-11-79 href=#__codelineno-11-79></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>status</span><span class=si>}</span><span class=s2> Path </span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2> (expected: </span><span class=si>{</span><span class=n>expected</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>)</span>
</span><span id=__span-11-80><a id=__codelineno-11-80 name=__codelineno-11-80 href=#__codelineno-11-80></a>
</span><span id=__span-11-81><a id=__codelineno-11-81 name=__codelineno-11-81 href=#__codelineno-11-81></a><span class=c1># Test strict mode</span>
</span><span id=__span-11-82><a id=__codelineno-11-82 name=__codelineno-11-82 href=#__codelineno-11-82></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-11-83><a id=__codelineno-11-83 name=__codelineno-11-83 href=#__codelineno-11-83></a>    <span class=n>robust_nested_lookup</span><span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>],</span> <span class=n>strict</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-11-84><a id=__codelineno-11-84 name=__codelineno-11-84 href=#__codelineno-11-84></a><span class=k>except</span> <span class=n>NestedLookupError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-11-85><a id=__codelineno-11-85 name=__codelineno-11-85 href=#__codelineno-11-85></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Strict mode error (expected): </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div> <h2 id=real-world-applications>Real-World Applications<a class=headerlink href=#real-world-applications title="Permanent link">&para;</a></h2> <h3 id=api-response-processing>API Response Processing<a class=headerlink href=#api-response-processing title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=k>def</span><span class=w> </span><span class=nf>extract_user_info</span><span class=p>(</span><span class=n>api_response</span><span class=p>):</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extract user information from a complex API response.&quot;&quot;&quot;</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>    <span class=c1># Define extraction mappings</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>    <span class=n>extractions</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>        <span class=s1>&#39;user_id&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;id&#39;</span><span class=p>],</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>        <span class=s1>&#39;username&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>],</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>        <span class=s1>&#39;email&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;contact&#39;</span><span class=p>,</span> <span class=s1>&#39;email&#39;</span><span class=p>],</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>        <span class=s1>&#39;avatar_url&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=s1>&#39;avatar&#39;</span><span class=p>,</span> <span class=s1>&#39;large_url&#39;</span><span class=p>],</span>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>        <span class=s1>&#39;last_login&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;activity&#39;</span><span class=p>,</span> <span class=s1>&#39;last_login&#39;</span><span class=p>,</span> <span class=s1>&#39;timestamp&#39;</span><span class=p>],</span>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>        <span class=s1>&#39;subscription_type&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;subscription&#39;</span><span class=p>,</span> <span class=s1>&#39;plan&#39;</span><span class=p>,</span> <span class=s1>&#39;type&#39;</span><span class=p>],</span>
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a>        <span class=s1>&#39;preferences&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a>            <span class=s1>&#39;notifications&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>,</span> <span class=s1>&#39;notifications&#39;</span><span class=p>,</span> <span class=s1>&#39;enabled&#39;</span><span class=p>],</span>
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>            <span class=s1>&#39;theme&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>,</span> <span class=s1>&#39;ui&#39;</span><span class=p>,</span> <span class=s1>&#39;theme&#39;</span><span class=p>],</span>
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>            <span class=s1>&#39;language&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>,</span> <span class=s1>&#39;locale&#39;</span><span class=p>,</span> <span class=s1>&#39;language&#39;</span><span class=p>]</span>
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a>        <span class=p>}</span>
</span><span id=__span-12-17><a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a>    <span class=p>}</span>
</span><span id=__span-12-18><a id=__codelineno-12-18 name=__codelineno-12-18 href=#__codelineno-12-18></a>
</span><span id=__span-12-19><a id=__codelineno-12-19 name=__codelineno-12-19 href=#__codelineno-12-19></a>    <span class=n>result</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-12-20><a id=__codelineno-12-20 name=__codelineno-12-20 href=#__codelineno-12-20></a>
</span><span id=__span-12-21><a id=__codelineno-12-21 name=__codelineno-12-21 href=#__codelineno-12-21></a>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>path</span> <span class=ow>in</span> <span class=n>extractions</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-12-22><a id=__codelineno-12-22 name=__codelineno-12-22 href=#__codelineno-12-22></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-12-23><a id=__codelineno-12-23 name=__codelineno-12-23 href=#__codelineno-12-23></a>            <span class=c1># Handle nested preferences</span>
</span><span id=__span-12-24><a id=__codelineno-12-24 name=__codelineno-12-24 href=#__codelineno-12-24></a>            <span class=n>result</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-12-25><a id=__codelineno-12-25 name=__codelineno-12-25 href=#__codelineno-12-25></a>            <span class=k>for</span> <span class=n>pref_key</span><span class=p>,</span> <span class=n>pref_path</span> <span class=ow>in</span> <span class=n>path</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-12-26><a id=__codelineno-12-26 name=__codelineno-12-26 href=#__codelineno-12-26></a>                <span class=n>result</span><span class=p>[</span><span class=n>key</span><span class=p>][</span><span class=n>pref_key</span><span class=p>]</span> <span class=o>=</span> <span class=n>programmatic_depth_search</span><span class=p>(</span>
</span><span id=__span-12-27><a id=__codelineno-12-27 name=__codelineno-12-27 href=#__codelineno-12-27></a>                    <span class=n>api_response</span><span class=p>,</span> <span class=n>pref_path</span><span class=p>,</span> <span class=s1>&#39;unknown&#39;</span>
</span><span id=__span-12-28><a id=__codelineno-12-28 name=__codelineno-12-28 href=#__codelineno-12-28></a>                <span class=p>)</span>
</span><span id=__span-12-29><a id=__codelineno-12-29 name=__codelineno-12-29 href=#__codelineno-12-29></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-12-30><a id=__codelineno-12-30 name=__codelineno-12-30 href=#__codelineno-12-30></a>            <span class=n>result</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>api_response</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span><span id=__span-12-31><a id=__codelineno-12-31 name=__codelineno-12-31 href=#__codelineno-12-31></a>
</span><span id=__span-12-32><a id=__codelineno-12-32 name=__codelineno-12-32 href=#__codelineno-12-32></a>    <span class=k>return</span> <span class=n>result</span>
</span><span id=__span-12-33><a id=__codelineno-12-33 name=__codelineno-12-33 href=#__codelineno-12-33></a>
</span><span id=__span-12-34><a id=__codelineno-12-34 name=__codelineno-12-34 href=#__codelineno-12-34></a><span class=c1># Sample API response</span>
</span><span id=__span-12-35><a id=__codelineno-12-35 name=__codelineno-12-35 href=#__codelineno-12-35></a><span class=n>sample_response</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-12-36><a id=__codelineno-12-36 name=__codelineno-12-36 href=#__codelineno-12-36></a>    <span class=s1>&#39;status&#39;</span><span class=p>:</span> <span class=s1>&#39;success&#39;</span><span class=p>,</span>
</span><span id=__span-12-37><a id=__codelineno-12-37 name=__codelineno-12-37 href=#__codelineno-12-37></a>    <span class=s1>&#39;data&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-38><a id=__codelineno-12-38 name=__codelineno-12-38 href=#__codelineno-12-38></a>        <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-39><a id=__codelineno-12-39 name=__codelineno-12-39 href=#__codelineno-12-39></a>            <span class=s1>&#39;id&#39;</span><span class=p>:</span> <span class=mi>12345</span><span class=p>,</span>
</span><span id=__span-12-40><a id=__codelineno-12-40 name=__codelineno-12-40 href=#__codelineno-12-40></a>            <span class=s1>&#39;profile&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-41><a id=__codelineno-12-41 name=__codelineno-12-41 href=#__codelineno-12-41></a>                <span class=s1>&#39;username&#39;</span><span class=p>:</span> <span class=s1>&#39;john_doe&#39;</span><span class=p>,</span>
</span><span id=__span-12-42><a id=__codelineno-12-42 name=__codelineno-12-42 href=#__codelineno-12-42></a>                <span class=s1>&#39;avatar&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-43><a id=__codelineno-12-43 name=__codelineno-12-43 href=#__codelineno-12-43></a>                    <span class=s1>&#39;small_url&#39;</span><span class=p>:</span> <span class=s1>&#39;https://example.com/small.jpg&#39;</span><span class=p>,</span>
</span><span id=__span-12-44><a id=__codelineno-12-44 name=__codelineno-12-44 href=#__codelineno-12-44></a>                    <span class=s1>&#39;large_url&#39;</span><span class=p>:</span> <span class=s1>&#39;https://example.com/large.jpg&#39;</span>
</span><span id=__span-12-45><a id=__codelineno-12-45 name=__codelineno-12-45 href=#__codelineno-12-45></a>                <span class=p>}</span>
</span><span id=__span-12-46><a id=__codelineno-12-46 name=__codelineno-12-46 href=#__codelineno-12-46></a>            <span class=p>},</span>
</span><span id=__span-12-47><a id=__codelineno-12-47 name=__codelineno-12-47 href=#__codelineno-12-47></a>            <span class=s1>&#39;contact&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-48><a id=__codelineno-12-48 name=__codelineno-12-48 href=#__codelineno-12-48></a>                <span class=s1>&#39;email&#39;</span><span class=p>:</span> <span class=s1>&#39;john@example.com&#39;</span><span class=p>,</span>
</span><span id=__span-12-49><a id=__codelineno-12-49 name=__codelineno-12-49 href=#__codelineno-12-49></a>                <span class=s1>&#39;phone&#39;</span><span class=p>:</span> <span class=s1>&#39;+1-555-0123&#39;</span>
</span><span id=__span-12-50><a id=__codelineno-12-50 name=__codelineno-12-50 href=#__codelineno-12-50></a>            <span class=p>},</span>
</span><span id=__span-12-51><a id=__codelineno-12-51 name=__codelineno-12-51 href=#__codelineno-12-51></a>            <span class=s1>&#39;activity&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-52><a id=__codelineno-12-52 name=__codelineno-12-52 href=#__codelineno-12-52></a>                <span class=s1>&#39;last_login&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-53><a id=__codelineno-12-53 name=__codelineno-12-53 href=#__codelineno-12-53></a>                    <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=s1>&#39;2023-11-15T10:30:00Z&#39;</span><span class=p>,</span>
</span><span id=__span-12-54><a id=__codelineno-12-54 name=__codelineno-12-54 href=#__codelineno-12-54></a>                    <span class=s1>&#39;ip_address&#39;</span><span class=p>:</span> <span class=s1>&#39;192.168.1.100&#39;</span>
</span><span id=__span-12-55><a id=__codelineno-12-55 name=__codelineno-12-55 href=#__codelineno-12-55></a>                <span class=p>}</span>
</span><span id=__span-12-56><a id=__codelineno-12-56 name=__codelineno-12-56 href=#__codelineno-12-56></a>            <span class=p>},</span>
</span><span id=__span-12-57><a id=__codelineno-12-57 name=__codelineno-12-57 href=#__codelineno-12-57></a>            <span class=s1>&#39;subscription&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-58><a id=__codelineno-12-58 name=__codelineno-12-58 href=#__codelineno-12-58></a>                <span class=s1>&#39;plan&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-59><a id=__codelineno-12-59 name=__codelineno-12-59 href=#__codelineno-12-59></a>                    <span class=s1>&#39;type&#39;</span><span class=p>:</span> <span class=s1>&#39;premium&#39;</span><span class=p>,</span>
</span><span id=__span-12-60><a id=__codelineno-12-60 name=__codelineno-12-60 href=#__codelineno-12-60></a>                    <span class=s1>&#39;expires&#39;</span><span class=p>:</span> <span class=s1>&#39;2024-01-15&#39;</span>
</span><span id=__span-12-61><a id=__codelineno-12-61 name=__codelineno-12-61 href=#__codelineno-12-61></a>                <span class=p>}</span>
</span><span id=__span-12-62><a id=__codelineno-12-62 name=__codelineno-12-62 href=#__codelineno-12-62></a>            <span class=p>},</span>
</span><span id=__span-12-63><a id=__codelineno-12-63 name=__codelineno-12-63 href=#__codelineno-12-63></a>            <span class=s1>&#39;settings&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-64><a id=__codelineno-12-64 name=__codelineno-12-64 href=#__codelineno-12-64></a>                <span class=s1>&#39;notifications&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-65><a id=__codelineno-12-65 name=__codelineno-12-65 href=#__codelineno-12-65></a>                    <span class=s1>&#39;enabled&#39;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-12-66><a id=__codelineno-12-66 name=__codelineno-12-66 href=#__codelineno-12-66></a>                    <span class=s1>&#39;frequency&#39;</span><span class=p>:</span> <span class=s1>&#39;daily&#39;</span>
</span><span id=__span-12-67><a id=__codelineno-12-67 name=__codelineno-12-67 href=#__codelineno-12-67></a>                <span class=p>},</span>
</span><span id=__span-12-68><a id=__codelineno-12-68 name=__codelineno-12-68 href=#__codelineno-12-68></a>                <span class=s1>&#39;ui&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-69><a id=__codelineno-12-69 name=__codelineno-12-69 href=#__codelineno-12-69></a>                    <span class=s1>&#39;theme&#39;</span><span class=p>:</span> <span class=s1>&#39;dark&#39;</span>
</span><span id=__span-12-70><a id=__codelineno-12-70 name=__codelineno-12-70 href=#__codelineno-12-70></a>                <span class=p>},</span>
</span><span id=__span-12-71><a id=__codelineno-12-71 name=__codelineno-12-71 href=#__codelineno-12-71></a>                <span class=s1>&#39;locale&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-12-72><a id=__codelineno-12-72 name=__codelineno-12-72 href=#__codelineno-12-72></a>                    <span class=s1>&#39;language&#39;</span><span class=p>:</span> <span class=s1>&#39;en&#39;</span><span class=p>,</span>
</span><span id=__span-12-73><a id=__codelineno-12-73 name=__codelineno-12-73 href=#__codelineno-12-73></a>                    <span class=s1>&#39;timezone&#39;</span><span class=p>:</span> <span class=s1>&#39;UTC&#39;</span>
</span><span id=__span-12-74><a id=__codelineno-12-74 name=__codelineno-12-74 href=#__codelineno-12-74></a>                <span class=p>}</span>
</span><span id=__span-12-75><a id=__codelineno-12-75 name=__codelineno-12-75 href=#__codelineno-12-75></a>            <span class=p>}</span>
</span><span id=__span-12-76><a id=__codelineno-12-76 name=__codelineno-12-76 href=#__codelineno-12-76></a>        <span class=p>}</span>
</span><span id=__span-12-77><a id=__codelineno-12-77 name=__codelineno-12-77 href=#__codelineno-12-77></a>    <span class=p>}</span>
</span><span id=__span-12-78><a id=__codelineno-12-78 name=__codelineno-12-78 href=#__codelineno-12-78></a><span class=p>}</span>
</span><span id=__span-12-79><a id=__codelineno-12-79 name=__codelineno-12-79 href=#__codelineno-12-79></a>
</span><span id=__span-12-80><a id=__codelineno-12-80 name=__codelineno-12-80 href=#__codelineno-12-80></a><span class=n>extracted_info</span> <span class=o>=</span> <span class=n>extract_user_info</span><span class=p>(</span><span class=n>sample_response</span><span class=p>)</span>
</span><span id=__span-12-81><a id=__codelineno-12-81 name=__codelineno-12-81 href=#__codelineno-12-81></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Extracted User Information:&quot;</span><span class=p>)</span>
</span><span id=__span-12-82><a id=__codelineno-12-82 name=__codelineno-12-82 href=#__codelineno-12-82></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;-&quot;</span> <span class=o>*</span> <span class=mi>30</span><span class=p>)</span>
</span><span id=__span-12-83><a id=__codelineno-12-83 name=__codelineno-12-83 href=#__codelineno-12-83></a><span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>extracted_info</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-12-84><a id=__codelineno-12-84 name=__codelineno-12-84 href=#__codelineno-12-84></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-12-85><a id=__codelineno-12-85 name=__codelineno-12-85 href=#__codelineno-12-85></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>:&quot;</span><span class=p>)</span>
</span><span id=__span-12-86><a id=__codelineno-12-86 name=__codelineno-12-86 href=#__codelineno-12-86></a>        <span class=k>for</span> <span class=n>sub_key</span><span class=p>,</span> <span class=n>sub_value</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-12-87><a id=__codelineno-12-87 name=__codelineno-12-87 href=#__codelineno-12-87></a>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>sub_key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>sub_value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-12-88><a id=__codelineno-12-88 name=__codelineno-12-88 href=#__codelineno-12-88></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-12-89><a id=__codelineno-12-89 name=__codelineno-12-89 href=#__codelineno-12-89></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div> <h3 id=configuration-management>Configuration Management<a class=headerlink href=#configuration-management title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=k>class</span><span class=w> </span><span class=nc>ConfigManager</span><span class=p>:</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Manage nested configuration with safe access patterns.&quot;&quot;&quot;</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config_data</span><span class=p>):</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config_data</span>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a>    <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>cache</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get configuration value with caching.&quot;&quot;&quot;</span>
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a>        <span class=n>path_str</span> <span class=o>=</span> <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>path</span><span class=p>))</span>
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a>
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a>        <span class=k>if</span> <span class=n>cache</span> <span class=ow>and</span> <span class=n>path_str</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>:</span>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13 href=#__codelineno-13-13></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>[</span><span class=n>path_str</span><span class=p>]</span>
</span><span id=__span-13-14><a id=__codelineno-13-14 name=__codelineno-13-14 href=#__codelineno-13-14></a>
</span><span id=__span-13-15><a id=__codelineno-13-15 name=__codelineno-13-15 href=#__codelineno-13-15></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-13-16><a id=__codelineno-13-16 name=__codelineno-13-16 href=#__codelineno-13-16></a>
</span><span id=__span-13-17><a id=__codelineno-13-17 name=__codelineno-13-17 href=#__codelineno-13-17></a>        <span class=k>if</span> <span class=n>cache</span><span class=p>:</span>
</span><span id=__span-13-18><a id=__codelineno-13-18 name=__codelineno-13-18 href=#__codelineno-13-18></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>[</span><span class=n>path_str</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</span><span id=__span-13-19><a id=__codelineno-13-19 name=__codelineno-13-19 href=#__codelineno-13-19></a>
</span><span id=__span-13-20><a id=__codelineno-13-20 name=__codelineno-13-20 href=#__codelineno-13-20></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-13-21><a id=__codelineno-13-21 name=__codelineno-13-21 href=#__codelineno-13-21></a>
</span><span id=__span-13-22><a id=__codelineno-13-22 name=__codelineno-13-22 href=#__codelineno-13-22></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_database_config</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-13-23><a id=__codelineno-13-23 name=__codelineno-13-23 href=#__codelineno-13-23></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get database configuration with defaults.&quot;&quot;&quot;</span>
</span><span id=__span-13-24><a id=__codelineno-13-24 name=__codelineno-13-24 href=#__codelineno-13-24></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-13-25><a id=__codelineno-13-25 name=__codelineno-13-25 href=#__codelineno-13-25></a>            <span class=s1>&#39;host&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;host&#39;</span><span class=p>],</span> <span class=s1>&#39;localhost&#39;</span><span class=p>),</span>
</span><span id=__span-13-26><a id=__codelineno-13-26 name=__codelineno-13-26 href=#__codelineno-13-26></a>            <span class=s1>&#39;port&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;port&#39;</span><span class=p>],</span> <span class=mi>5432</span><span class=p>),</span>
</span><span id=__span-13-27><a id=__codelineno-13-27 name=__codelineno-13-27 href=#__codelineno-13-27></a>            <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>],</span> <span class=s1>&#39;app_db&#39;</span><span class=p>),</span>
</span><span id=__span-13-28><a id=__codelineno-13-28 name=__codelineno-13-28 href=#__codelineno-13-28></a>            <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;credentials&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>],</span> <span class=s1>&#39;user&#39;</span><span class=p>),</span>
</span><span id=__span-13-29><a id=__codelineno-13-29 name=__codelineno-13-29 href=#__codelineno-13-29></a>            <span class=s1>&#39;password&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;credentials&#39;</span><span class=p>,</span> <span class=s1>&#39;password&#39;</span><span class=p>],</span> <span class=s1>&#39;&#39;</span><span class=p>),</span>
</span><span id=__span-13-30><a id=__codelineno-13-30 name=__codelineno-13-30 href=#__codelineno-13-30></a>            <span class=s1>&#39;ssl&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;ssl&#39;</span><span class=p>,</span> <span class=s1>&#39;enabled&#39;</span><span class=p>],</span> <span class=kc>False</span><span class=p>),</span>
</span><span id=__span-13-31><a id=__codelineno-13-31 name=__codelineno-13-31 href=#__codelineno-13-31></a>            <span class=s1>&#39;pool_size&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;connection_pool&#39;</span><span class=p>,</span> <span class=s1>&#39;size&#39;</span><span class=p>],</span> <span class=mi>10</span><span class=p>)</span>
</span><span id=__span-13-32><a id=__codelineno-13-32 name=__codelineno-13-32 href=#__codelineno-13-32></a>        <span class=p>}</span>
</span><span id=__span-13-33><a id=__codelineno-13-33 name=__codelineno-13-33 href=#__codelineno-13-33></a>
</span><span id=__span-13-34><a id=__codelineno-13-34 name=__codelineno-13-34 href=#__codelineno-13-34></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_api_config</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-13-35><a id=__codelineno-13-35 name=__codelineno-13-35 href=#__codelineno-13-35></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get API configuration.&quot;&quot;&quot;</span>
</span><span id=__span-13-36><a id=__codelineno-13-36 name=__codelineno-13-36 href=#__codelineno-13-36></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-13-37><a id=__codelineno-13-37 name=__codelineno-13-37 href=#__codelineno-13-37></a>            <span class=s1>&#39;base_url&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;base_url&#39;</span><span class=p>],</span> <span class=s1>&#39;https://api.example.com&#39;</span><span class=p>),</span>
</span><span id=__span-13-38><a id=__codelineno-13-38 name=__codelineno-13-38 href=#__codelineno-13-38></a>            <span class=s1>&#39;timeout&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;timeout&#39;</span><span class=p>],</span> <span class=mi>30</span><span class=p>),</span>
</span><span id=__span-13-39><a id=__codelineno-13-39 name=__codelineno-13-39 href=#__codelineno-13-39></a>            <span class=s1>&#39;retries&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;retries&#39;</span><span class=p>],</span> <span class=mi>3</span><span class=p>),</span>
</span><span id=__span-13-40><a id=__codelineno-13-40 name=__codelineno-13-40 href=#__codelineno-13-40></a>            <span class=s1>&#39;rate_limit&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;rate_limit&#39;</span><span class=p>,</span> <span class=s1>&#39;requests_per_minute&#39;</span><span class=p>],</span> <span class=mi>60</span><span class=p>),</span>
</span><span id=__span-13-41><a id=__codelineno-13-41 name=__codelineno-13-41 href=#__codelineno-13-41></a>            <span class=s1>&#39;auth&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-13-42><a id=__codelineno-13-42 name=__codelineno-13-42 href=#__codelineno-13-42></a>                <span class=s1>&#39;method&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;auth&#39;</span><span class=p>,</span> <span class=s1>&#39;method&#39;</span><span class=p>],</span> <span class=s1>&#39;bearer&#39;</span><span class=p>),</span>
</span><span id=__span-13-43><a id=__codelineno-13-43 name=__codelineno-13-43 href=#__codelineno-13-43></a>                <span class=s1>&#39;token&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;auth&#39;</span><span class=p>,</span> <span class=s1>&#39;token&#39;</span><span class=p>],</span> <span class=s1>&#39;&#39;</span><span class=p>),</span>
</span><span id=__span-13-44><a id=__codelineno-13-44 name=__codelineno-13-44 href=#__codelineno-13-44></a>            <span class=p>}</span>
</span><span id=__span-13-45><a id=__codelineno-13-45 name=__codelineno-13-45 href=#__codelineno-13-45></a>        <span class=p>}</span>
</span><span id=__span-13-46><a id=__codelineno-13-46 name=__codelineno-13-46 href=#__codelineno-13-46></a>
</span><span id=__span-13-47><a id=__codelineno-13-47 name=__codelineno-13-47 href=#__codelineno-13-47></a>    <span class=k>def</span><span class=w> </span><span class=nf>validate_required_config</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>required_paths</span><span class=p>):</span>
</span><span id=__span-13-48><a id=__codelineno-13-48 name=__codelineno-13-48 href=#__codelineno-13-48></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate that required configuration paths exist.&quot;&quot;&quot;</span>
</span><span id=__span-13-49><a id=__codelineno-13-49 name=__codelineno-13-49 href=#__codelineno-13-49></a>        <span class=n>missing</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-13-50><a id=__codelineno-13-50 name=__codelineno-13-50 href=#__codelineno-13-50></a>        <span class=k>for</span> <span class=n>path</span> <span class=ow>in</span> <span class=n>required_paths</span><span class=p>:</span>
</span><span id=__span-13-51><a id=__codelineno-13-51 name=__codelineno-13-51 href=#__codelineno-13-51></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-13-52><a id=__codelineno-13-52 name=__codelineno-13-52 href=#__codelineno-13-52></a>                <span class=n>missing</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>path</span><span class=p>)))</span>
</span><span id=__span-13-53><a id=__codelineno-13-53 name=__codelineno-13-53 href=#__codelineno-13-53></a>
</span><span id=__span-13-54><a id=__codelineno-13-54 name=__codelineno-13-54 href=#__codelineno-13-54></a>        <span class=k>if</span> <span class=n>missing</span><span class=p>:</span>
</span><span id=__span-13-55><a id=__codelineno-13-55 name=__codelineno-13-55 href=#__codelineno-13-55></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Missing required configuration: </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>missing</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-13-56><a id=__codelineno-13-56 name=__codelineno-13-56 href=#__codelineno-13-56></a>
</span><span id=__span-13-57><a id=__codelineno-13-57 name=__codelineno-13-57 href=#__codelineno-13-57></a>        <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-13-58><a id=__codelineno-13-58 name=__codelineno-13-58 href=#__codelineno-13-58></a>
</span><span id=__span-13-59><a id=__codelineno-13-59 name=__codelineno-13-59 href=#__codelineno-13-59></a><span class=c1># Example configuration</span>
</span><span id=__span-13-60><a id=__codelineno-13-60 name=__codelineno-13-60 href=#__codelineno-13-60></a><span class=n>app_config</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-13-61><a id=__codelineno-13-61 name=__codelineno-13-61 href=#__codelineno-13-61></a>    <span class=s1>&#39;app&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-13-62><a id=__codelineno-13-62 name=__codelineno-13-62 href=#__codelineno-13-62></a>        <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;MyApp&#39;</span><span class=p>,</span>
</span><span id=__span-13-63><a id=__codelineno-13-63 name=__codelineno-13-63 href=#__codelineno-13-63></a>        <span class=s1>&#39;version&#39;</span><span class=p>:</span> <span class=s1>&#39;1.0.0&#39;</span><span class=p>,</span>
</span><span id=__span-13-64><a id=__codelineno-13-64 name=__codelineno-13-64 href=#__codelineno-13-64></a>        <span class=s1>&#39;debug&#39;</span><span class=p>:</span> <span class=kc>True</span>
</span><span id=__span-13-65><a id=__codelineno-13-65 name=__codelineno-13-65 href=#__codelineno-13-65></a>    <span class=p>},</span>
</span><span id=__span-13-66><a id=__codelineno-13-66 name=__codelineno-13-66 href=#__codelineno-13-66></a>    <span class=s1>&#39;database&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-13-67><a id=__codelineno-13-67 name=__codelineno-13-67 href=#__codelineno-13-67></a>        <span class=s1>&#39;host&#39;</span><span class=p>:</span> <span class=s1>&#39;db.example.com&#39;</span><span class=p>,</span>
</span><span id=__span-13-68><a id=__codelineno-13-68 name=__codelineno-13-68 href=#__codelineno-13-68></a>        <span class=s1>&#39;port&#39;</span><span class=p>:</span> <span class=mi>5432</span><span class=p>,</span>
</span><span id=__span-13-69><a id=__codelineno-13-69 name=__codelineno-13-69 href=#__codelineno-13-69></a>        <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;production_db&#39;</span><span class=p>,</span>
</span><span id=__span-13-70><a id=__codelineno-13-70 name=__codelineno-13-70 href=#__codelineno-13-70></a>        <span class=s1>&#39;credentials&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-13-71><a id=__codelineno-13-71 name=__codelineno-13-71 href=#__codelineno-13-71></a>            <span class=s1>&#39;username&#39;</span><span class=p>:</span> <span class=s1>&#39;app_user&#39;</span><span class=p>,</span>
</span><span id=__span-13-72><a id=__codelineno-13-72 name=__codelineno-13-72 href=#__codelineno-13-72></a>            <span class=s1>&#39;password&#39;</span><span class=p>:</span> <span class=s1>&#39;secret123&#39;</span>
</span><span id=__span-13-73><a id=__codelineno-13-73 name=__codelineno-13-73 href=#__codelineno-13-73></a>        <span class=p>},</span>
</span><span id=__span-13-74><a id=__codelineno-13-74 name=__codelineno-13-74 href=#__codelineno-13-74></a>        <span class=s1>&#39;ssl&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-13-75><a id=__codelineno-13-75 name=__codelineno-13-75 href=#__codelineno-13-75></a>            <span class=s1>&#39;enabled&#39;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-13-76><a id=__codelineno-13-76 name=__codelineno-13-76 href=#__codelineno-13-76></a>            <span class=s1>&#39;cert_path&#39;</span><span class=p>:</span> <span class=s1>&#39;/path/to/cert&#39;</span>
</span><span id=__span-13-77><a id=__codelineno-13-77 name=__codelineno-13-77 href=#__codelineno-13-77></a>        <span class=p>}</span>
</span><span id=__span-13-78><a id=__codelineno-13-78 name=__codelineno-13-78 href=#__codelineno-13-78></a>    <span class=p>},</span>
</span><span id=__span-13-79><a id=__codelineno-13-79 name=__codelineno-13-79 href=#__codelineno-13-79></a>    <span class=s1>&#39;api&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-13-80><a id=__codelineno-13-80 name=__codelineno-13-80 href=#__codelineno-13-80></a>        <span class=s1>&#39;base_url&#39;</span><span class=p>:</span> <span class=s1>&#39;https://api.myapp.com&#39;</span><span class=p>,</span>
</span><span id=__span-13-81><a id=__codelineno-13-81 name=__codelineno-13-81 href=#__codelineno-13-81></a>        <span class=s1>&#39;timeout&#39;</span><span class=p>:</span> <span class=mi>60</span><span class=p>,</span>
</span><span id=__span-13-82><a id=__codelineno-13-82 name=__codelineno-13-82 href=#__codelineno-13-82></a>        <span class=s1>&#39;auth&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-13-83><a id=__codelineno-13-83 name=__codelineno-13-83 href=#__codelineno-13-83></a>            <span class=s1>&#39;method&#39;</span><span class=p>:</span> <span class=s1>&#39;bearer&#39;</span><span class=p>,</span>
</span><span id=__span-13-84><a id=__codelineno-13-84 name=__codelineno-13-84 href=#__codelineno-13-84></a>            <span class=s1>&#39;token&#39;</span><span class=p>:</span> <span class=s1>&#39;abc123xyz&#39;</span>
</span><span id=__span-13-85><a id=__codelineno-13-85 name=__codelineno-13-85 href=#__codelineno-13-85></a>        <span class=p>},</span>
</span><span id=__span-13-86><a id=__codelineno-13-86 name=__codelineno-13-86 href=#__codelineno-13-86></a>        <span class=s1>&#39;rate_limit&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-13-87><a id=__codelineno-13-87 name=__codelineno-13-87 href=#__codelineno-13-87></a>            <span class=s1>&#39;requests_per_minute&#39;</span><span class=p>:</span> <span class=mi>100</span>
</span><span id=__span-13-88><a id=__codelineno-13-88 name=__codelineno-13-88 href=#__codelineno-13-88></a>        <span class=p>}</span>
</span><span id=__span-13-89><a id=__codelineno-13-89 name=__codelineno-13-89 href=#__codelineno-13-89></a>    <span class=p>}</span>
</span><span id=__span-13-90><a id=__codelineno-13-90 name=__codelineno-13-90 href=#__codelineno-13-90></a><span class=p>}</span>
</span><span id=__span-13-91><a id=__codelineno-13-91 name=__codelineno-13-91 href=#__codelineno-13-91></a>
</span><span id=__span-13-92><a id=__codelineno-13-92 name=__codelineno-13-92 href=#__codelineno-13-92></a><span class=c1># Use configuration manager</span>
</span><span id=__span-13-93><a id=__codelineno-13-93 name=__codelineno-13-93 href=#__codelineno-13-93></a><span class=n>config_manager</span> <span class=o>=</span> <span class=n>ConfigManager</span><span class=p>(</span><span class=n>app_config</span><span class=p>)</span>
</span><span id=__span-13-94><a id=__codelineno-13-94 name=__codelineno-13-94 href=#__codelineno-13-94></a>
</span><span id=__span-13-95><a id=__codelineno-13-95 name=__codelineno-13-95 href=#__codelineno-13-95></a><span class=c1># Get database configuration</span>
</span><span id=__span-13-96><a id=__codelineno-13-96 name=__codelineno-13-96 href=#__codelineno-13-96></a><span class=n>db_config</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>get_database_config</span><span class=p>()</span>
</span><span id=__span-13-97><a id=__codelineno-13-97 name=__codelineno-13-97 href=#__codelineno-13-97></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Database Configuration:&quot;</span><span class=p>)</span>
</span><span id=__span-13-98><a id=__codelineno-13-98 name=__codelineno-13-98 href=#__codelineno-13-98></a><span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>db_config</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-13-99><a id=__codelineno-13-99 name=__codelineno-13-99 href=#__codelineno-13-99></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-13-100><a id=__codelineno-13-100 name=__codelineno-13-100 href=#__codelineno-13-100></a>
</span><span id=__span-13-101><a id=__codelineno-13-101 name=__codelineno-13-101 href=#__codelineno-13-101></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>API Configuration:&quot;</span><span class=p>)</span>
</span><span id=__span-13-102><a id=__codelineno-13-102 name=__codelineno-13-102 href=#__codelineno-13-102></a><span class=n>api_config</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>get_api_config</span><span class=p>()</span>
</span><span id=__span-13-103><a id=__codelineno-13-103 name=__codelineno-13-103 href=#__codelineno-13-103></a><span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>api_config</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-13-104><a id=__codelineno-13-104 name=__codelineno-13-104 href=#__codelineno-13-104></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-13-105><a id=__codelineno-13-105 name=__codelineno-13-105 href=#__codelineno-13-105></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>:&quot;</span><span class=p>)</span>
</span><span id=__span-13-106><a id=__codelineno-13-106 name=__codelineno-13-106 href=#__codelineno-13-106></a>        <span class=k>for</span> <span class=n>sub_key</span><span class=p>,</span> <span class=n>sub_value</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-13-107><a id=__codelineno-13-107 name=__codelineno-13-107 href=#__codelineno-13-107></a>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;    </span><span class=si>{</span><span class=n>sub_key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>sub_value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-13-108><a id=__codelineno-13-108 name=__codelineno-13-108 href=#__codelineno-13-108></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-13-109><a id=__codelineno-13-109 name=__codelineno-13-109 href=#__codelineno-13-109></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-13-110><a id=__codelineno-13-110 name=__codelineno-13-110 href=#__codelineno-13-110></a>
</span><span id=__span-13-111><a id=__codelineno-13-111 name=__codelineno-13-111 href=#__codelineno-13-111></a><span class=c1># Validate required configuration</span>
</span><span id=__span-13-112><a id=__codelineno-13-112 name=__codelineno-13-112 href=#__codelineno-13-112></a><span class=n>required_config</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-13-113><a id=__codelineno-13-113 name=__codelineno-13-113 href=#__codelineno-13-113></a>    <span class=p>[</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;host&#39;</span><span class=p>],</span>
</span><span id=__span-13-114><a id=__codelineno-13-114 name=__codelineno-13-114 href=#__codelineno-13-114></a>    <span class=p>[</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;credentials&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>],</span>
</span><span id=__span-13-115><a id=__codelineno-13-115 name=__codelineno-13-115 href=#__codelineno-13-115></a>    <span class=p>[</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;base_url&#39;</span><span class=p>]</span>
</span><span id=__span-13-116><a id=__codelineno-13-116 name=__codelineno-13-116 href=#__codelineno-13-116></a><span class=p>]</span>
</span><span id=__span-13-117><a id=__codelineno-13-117 name=__codelineno-13-117 href=#__codelineno-13-117></a>
</span><span id=__span-13-118><a id=__codelineno-13-118 name=__codelineno-13-118 href=#__codelineno-13-118></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-13-119><a id=__codelineno-13-119 name=__codelineno-13-119 href=#__codelineno-13-119></a>    <span class=n>config_manager</span><span class=o>.</span><span class=n>validate_required_config</span><span class=p>(</span><span class=n>required_config</span><span class=p>)</span>
</span><span id=__span-13-120><a id=__codelineno-13-120 name=__codelineno-13-120 href=#__codelineno-13-120></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2> All required configuration is present&quot;</span><span class=p>)</span>
</span><span id=__span-13-121><a id=__codelineno-13-121 name=__codelineno-13-121 href=#__codelineno-13-121></a><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-13-122><a id=__codelineno-13-122 name=__codelineno-13-122 href=#__codelineno-13-122></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2> Configuration validation failed: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div> <h2 id=best-practices>Best Practices<a class=headerlink href=#best-practices title="Permanent link">&para;</a></h2> <h3 id=1-choose-the-right-method-for-your-use-case>1. Choose the Right Method for Your Use Case<a class=headerlink href=#1-choose-the-right-method-for-your-use-case title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1># For simple, known paths with good error handling</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=k>def</span><span class=w> </span><span class=nf>simple_case</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>    <span class=k>return</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>)</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=c1># For dynamic paths or complex logic</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=k>def</span><span class=w> </span><span class=nf>complex_case</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>    <span class=k>return</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=s1>&#39;default_value&#39;</span><span class=p>)</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=c1># For performance-critical code with known paths</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=k>def</span><span class=w> </span><span class=nf>performance_critical</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-14-12><a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a>        <span class=k>return</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>][</span><span class=s1>&#39;profile&#39;</span><span class=p>][</span><span class=s1>&#39;name&#39;</span><span class=p>]</span>
</span><span id=__span-14-13><a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a>    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
</span><span id=__span-14-14><a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a>        <span class=k>return</span> <span class=kc>None</span>
</span></code></pre></div> <h3 id=2-use-type-hints-and-documentation>2. Use Type Hints and Documentation<a class=headerlink href=#2-use-type-hints-and-documentation title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Any</span><span class=p>,</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Union</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=k>def</span><span class=w> </span><span class=nf>safe_nested_get</span><span class=p>(</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>    <span class=n>data</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>    <span class=n>path</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>    <span class=n>default</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=sd>    Safely retrieve a nested value from a dictionary.</span>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=sd>    Args:</span>
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=sd>        data: The dictionary to search</span>
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a><span class=sd>        path: List of keys representing the path</span>
</span><span id=__span-15-14><a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a><span class=sd>        default: Value to return if path is not found</span>
</span><span id=__span-15-15><a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a>
</span><span id=__span-15-16><a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a><span class=sd>    Returns:</span>
</span><span id=__span-15-17><a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a><span class=sd>        The value at the specified path, or default if not found</span>
</span><span id=__span-15-18><a id=__codelineno-15-18 name=__codelineno-15-18 href=#__codelineno-15-18></a>
</span><span id=__span-15-19><a id=__codelineno-15-19 name=__codelineno-15-19 href=#__codelineno-15-19></a><span class=sd>    Example:</span>
</span><span id=__span-15-20><a id=__codelineno-15-20 name=__codelineno-15-20 href=#__codelineno-15-20></a><span class=sd>        &gt;&gt;&gt; data = {&#39;a&#39;: {&#39;b&#39;: {&#39;c&#39;: 42}}}</span>
</span><span id=__span-15-21><a id=__codelineno-15-21 name=__codelineno-15-21 href=#__codelineno-15-21></a><span class=sd>        &gt;&gt;&gt; safe_nested_get(data, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])</span>
</span><span id=__span-15-22><a id=__codelineno-15-22 name=__codelineno-15-22 href=#__codelineno-15-22></a><span class=sd>        42</span>
</span><span id=__span-15-23><a id=__codelineno-15-23 name=__codelineno-15-23 href=#__codelineno-15-23></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-15-24><a id=__codelineno-15-24 name=__codelineno-15-24 href=#__codelineno-15-24></a>    <span class=k>return</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span>
</span></code></pre></div> <h3 id=3-consider-using-libraries-for-complex-cases>3. Consider Using Libraries for Complex Cases<a class=headerlink href=#3-consider-using-libraries-for-complex-cases title="Permanent link">&para;</a></h3> <p>For very complex nested data manipulation, consider using specialized libraries:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=c1># Using jsonpath-ng for JSONPath-style queries</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=c1># pip install jsonpath-ng</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>    <span class=kn>from</span><span class=w> </span><span class=nn>jsonpath_ng</span><span class=w> </span><span class=kn>import</span> <span class=n>parse</span>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>jsonpath_lookup</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path_expression</span><span class=p>):</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Use JSONPath for complex queries.&quot;&quot;&quot;</span>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>        <span class=n>jsonpath_expr</span> <span class=o>=</span> <span class=n>parse</span><span class=p>(</span><span class=n>path_expression</span><span class=p>)</span>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a>        <span class=n>matches</span> <span class=o>=</span> <span class=p>[</span><span class=n>match</span><span class=o>.</span><span class=n>value</span> <span class=k>for</span> <span class=n>match</span> <span class=ow>in</span> <span class=n>jsonpath_expr</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=n>data</span><span class=p>)]</span>
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a>        <span class=k>return</span> <span class=n>matches</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>if</span> <span class=n>matches</span> <span class=k>else</span> <span class=kc>None</span>
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a>
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a>    <span class=c1># Example usage</span>
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a>    <span class=c1># jsonpath_lookup(data, &#39;$.user.profile.preferences.*.email&#39;)</span>
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a>
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a><span class=k>except</span> <span class=ne>ImportError</span><span class=p>:</span>
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a>    <span class=k>pass</span>  <span class=c1># Library not available</span>
</span><span id=__span-16-18><a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a>
</span><span id=__span-16-19><a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a><span class=c1># Using toolz for functional programming approach</span>
</span><span id=__span-16-20><a id=__codelineno-16-20 name=__codelineno-16-20 href=#__codelineno-16-20></a><span class=c1># pip install toolz</span>
</span><span id=__span-16-21><a id=__codelineno-16-21 name=__codelineno-16-21 href=#__codelineno-16-21></a>
</span><span id=__span-16-22><a id=__codelineno-16-22 name=__codelineno-16-22 href=#__codelineno-16-22></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-16-23><a id=__codelineno-16-23 name=__codelineno-16-23 href=#__codelineno-16-23></a>    <span class=kn>from</span><span class=w> </span><span class=nn>toolz</span><span class=w> </span><span class=kn>import</span> <span class=n>get_in</span>
</span><span id=__span-16-24><a id=__codelineno-16-24 name=__codelineno-16-24 href=#__codelineno-16-24></a>
</span><span id=__span-16-25><a id=__codelineno-16-25 name=__codelineno-16-25 href=#__codelineno-16-25></a>    <span class=k>def</span><span class=w> </span><span class=nf>toolz_lookup</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-16-26><a id=__codelineno-16-26 name=__codelineno-16-26 href=#__codelineno-16-26></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Use toolz.get_in for nested access.&quot;&quot;&quot;</span>
</span><span id=__span-16-27><a id=__codelineno-16-27 name=__codelineno-16-27 href=#__codelineno-16-27></a>        <span class=k>return</span> <span class=n>get_in</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-16-28><a id=__codelineno-16-28 name=__codelineno-16-28 href=#__codelineno-16-28></a>
</span><span id=__span-16-29><a id=__codelineno-16-29 name=__codelineno-16-29 href=#__codelineno-16-29></a><span class=k>except</span> <span class=ne>ImportError</span><span class=p>:</span>
</span><span id=__span-16-30><a id=__codelineno-16-30 name=__codelineno-16-30 href=#__codelineno-16-30></a>    <span class=k>pass</span>  <span class=c1># Library not available</span>
</span></code></pre></div> <h3 id=4-implement-caching-for-repeated-lookups>4. Implement Caching for Repeated Lookups<a class=headerlink href=#4-implement-caching-for-repeated-lookups title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>lru_cache</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=k>class</span><span class=w> </span><span class=nc>CachedNestedLookup</span><span class=p>:</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Cached nested lookup for performance.&quot;&quot;&quot;</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a>
</span><span id=__span-17-9><a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a>    <span class=nd>@lru_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=mi>256</span><span class=p>)</span>
</span><span id=__span-17-10><a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a>    <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>path_tuple</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-17-11><a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Cached lookup using tuple path (hashable).&quot;&quot;&quot;</span>
</span><span id=__span-17-12><a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a>        <span class=k>return</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=nb>list</span><span class=p>(</span><span class=n>path_tuple</span><span class=p>),</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-17-13><a id=__codelineno-17-13 name=__codelineno-17-13 href=#__codelineno-17-13></a>
</span><span id=__span-17-14><a id=__codelineno-17-14 name=__codelineno-17-14 href=#__codelineno-17-14></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>path_list</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-17-15><a id=__codelineno-17-15 name=__codelineno-17-15 href=#__codelineno-17-15></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert list to tuple for caching.&quot;&quot;&quot;</span>
</span><span id=__span-17-16><a id=__codelineno-17-16 name=__codelineno-17-16 href=#__codelineno-17-16></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>tuple</span><span class=p>(</span><span class=n>path_list</span><span class=p>),</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-17-17><a id=__codelineno-17-17 name=__codelineno-17-17 href=#__codelineno-17-17></a>
</span><span id=__span-17-18><a id=__codelineno-17-18 name=__codelineno-17-18 href=#__codelineno-17-18></a><span class=c1># Usage</span>
</span><span id=__span-17-19><a id=__codelineno-17-19 name=__codelineno-17-19 href=#__codelineno-17-19></a><span class=n>lookup</span> <span class=o>=</span> <span class=n>CachedNestedLookup</span><span class=p>(</span><span class=n>large_nested_data</span><span class=p>)</span>
</span><span id=__span-17-20><a id=__codelineno-17-20 name=__codelineno-17-20 href=#__codelineno-17-20></a><span class=n>result1</span> <span class=o>=</span> <span class=n>lookup</span><span class=o>.</span><span class=n>get_path</span><span class=p>([</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>])</span>  <span class=c1># Computed</span>
</span><span id=__span-17-21><a id=__codelineno-17-21 name=__codelineno-17-21 href=#__codelineno-17-21></a><span class=n>result2</span> <span class=o>=</span> <span class=n>lookup</span><span class=o>.</span><span class=n>get_path</span><span class=p>([</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>])</span>  <span class=c1># Cached</span>
</span></code></pre></div> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>Nested dictionary lookups are a common challenge in Python programming. The best approach depends on your specific requirements:</p> <ul> <li><strong>Use chained <code>.get()</code> calls</strong> for simple, known paths with minimal nesting</li> <li><strong>Use the walrus operator</strong> for efficient short-circuiting in Python 3.8+</li> <li><strong>Use programmatic depth search</strong> for dynamic paths and maximum flexibility</li> <li><strong>Use try/except</strong> only when you need maximum performance for known-good paths</li> <li><strong>Consider specialized libraries</strong> for complex query requirements</li> </ul> <p>Key principles to remember:</p> <ol> <li><strong>Safety first</strong>: Always handle missing keys gracefully</li> <li><strong>Performance matters</strong>: Choose the right method for your use case</li> <li><strong>Maintainability</strong>: Prefer readable code over micro-optimizations</li> <li><strong>Reusability</strong>: Create general-purpose functions for repeated use</li> <li><strong>Documentation</strong>: Clearly document expected data structures and behaviors</li> </ol> <p>The <code>programmatic_depth_search</code> function presented here provides a robust, reusable solution that handles edge cases while maintaining good performance. Use it as a starting point and adapt it to your specific needs.</p> <p>By mastering these techniques, you'll be well-equipped to handle complex nested data structures safely and efficiently in your Python applications.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023-2025 Matthew Martz </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/mutaku target=_blank rel=noopener title=GitHub class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://twitter.com/backpropagating target=_blank rel=noopener title=Twitter class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> <a href=https://linkedin.com/in/matthew-martz-phd target=_blank rel=noopener title=LinkedIn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=mailto:matthew@mutaku.io target=_blank rel=noopener title=Email class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.top", "search.highlight", "search.suggest", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../../../../javascripts/extra.js></script> </body> </html>