<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Expert in AI, machine learning, and data science with focus on clinical applications and digital health innovation"><meta name=author content="Matthew Martz"><link href=https://mutaku.io/blog/category/aiml/ rel=canonical><link href=../../ rel=prev><link href=../data-science/ rel=next><link rel=icon href=../../../assets/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>AI/ML - Matthew Martz, PhD - Data Science & AI Leader</title><link rel=stylesheet href=../../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#aiml class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="Matthew Martz, PhD - Data Science & AI Leader" class="md-header__button md-logo" aria-label="Matthew Martz, PhD - Data Science & AI Leader" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.23 7.23 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Matthew Martz, PhD - Data Science & AI Leader </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> AI/ML </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=deep-purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue-grey data-md-color-accent=deep-purple aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/mutaku/mutaku.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> mutaku/mutaku.github.io </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../about/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../../../research/ class=md-tabs__link> Research Focus </a> </li> <li class=md-tabs__item> <a href=../../../experience/current/ class=md-tabs__link> Experience </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../../projects/ class=md-tabs__link> Projects </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Matthew Martz, PhD - Data Science & AI Leader" class="md-nav__button md-logo" aria-label="Matthew Martz, PhD - Data Science & AI Leader" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.23 7.23 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"/></svg> </a> Matthew Martz, PhD - Data Science & AI Leader </label> <div class=md-nav__source> <a href=https://github.com/mutaku/mutaku.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> mutaku/mutaku.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../../../research/ class=md-nav__link> <span class=md-ellipsis> Research Focus </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Experience </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Experience </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../experience/current/ class=md-nav__link> <span class=md-ellipsis> Current Role </span> </a> </li> <li class=md-nav__item> <a href=../../../experience/previous/ class=md-nav__link> <span class=md-ellipsis> Previous Positions </span> </a> </li> <li class=md-nav__item> <a href=../../../experience/achievements/ class=md-nav__link> <span class=md-ellipsis> Patents & Publications </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> <li class=md-nav__item> <a href=../../archive/2020/ class=md-nav__link> <span class=md-ellipsis> 2020 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3 checked> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=true> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> AI/ML </span> </a> </li> <li class=md-nav__item> <a href=../data-science/ class=md-nav__link> <span class=md-ellipsis> Data Science </span> </a> </li> <li class=md-nav__item> <a href=../research/ class=md-nav__link> <span class=md-ellipsis> Research </span> </a> </li> <li class=md-nav__item> <a href=../technology/ class=md-nav__link> <span class=md-ellipsis> Technology </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../projects/ class=md-nav__link> <span class=md-ellipsis> Projects </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <div class=md-content__inner> <header class=md-typeset> <h1 id=aiml>AI/ML<a class=headerlink href=#aiml title="Permanent link">&para;</a></h1> </header> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/mutaku.png alt="Matthew Martz, PhD"> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2023-11-09 00:00:00+00:00">Thursday, November 9, 2023</time></li> <li class=md-meta__item> in <a href=./ class=md-meta__link>AI/ML</a>, <a href=../research/ class=md-meta__link>Research</a></li> <li class=md-meta__item> 7 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=summer-of-ai-an-agbiome-perspective><a href=../../2023/11/09/summer_of_ai_-_an_agbiome_perspective/ class=toclink>Summer of AI - An AgBiome Perspective</a></h2> <p>This is an interview that served as the starting point for a podcast wherein we discussed Artificial Intelligence with an AgBiome perspective. The podcast went beyond what is below and looked at the broader societal perspective; I will link the podcast shortly.</p> <nav class=md-post__action> <a href=../../2023/11/09/summer_of_ai_-_an_agbiome_perspective/ > Continue reading </a> </nav> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/mutaku.png alt="Matthew Martz, PhD"> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2023-09-15 00:00:00+00:00">Friday, September 15, 2023</time></li> <li class=md-meta__item> in <a href=./ class=md-meta__link>AI/ML</a>, <a href=../technology/ class=md-meta__link>Technology</a></li> <li class=md-meta__item> 18 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=notes-on-mlops-industry-analysis-and-practical-insights><a href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/ class=toclink>Notes on MLOps: Industry Analysis and Practical Insights</a></h2> <p><em>Originally written in response to industry discussions about MLOps maturity and adoption challenges</em></p> <p>This piece examines the current state of MLOps (Machine Learning Operations) through the lens of practical experience implementing ML systems in production environments. Written during my time at Firstleaf, these observations reflect real-world challenges and solutions in operationalizing machine learning at scale.</p> <h3 id=table-of-contents><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#table-of-contents>Table of Contents</a></h3> <ol> <li><a href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#mlops-maturity>The MLOps Maturity Question</a></li> <li><a href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#loop-closure>Loop Closure: The Foundation of Reliable ML</a></li> <li><a href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#declarative-systems>Declarative Systems vs. Imperative Approaches</a></li> <li><a href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#real-time-ml>Real-Time ML: Challenges and Solutions</a></li> <li><a href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#data-management>Data Management in Production ML</a></li> <li><a href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#business-integration>Business Integration and Value Realization</a></li> <li><a href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#talent-shortage>The Talent Shortage Reality</a></li> <li><a href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#cultural-adoption>Cultural Adoption and Organizational Change</a></li> <li><a href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#practical-recommendations>Practical Recommendations</a></li> </ol> <h3 id=mlops-maturity><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#mlops-maturity>The MLOps Maturity Question</a></h3> <p>The question of MLOps maturity in the industry is multifaceted. While many organizations claim to be "doing MLOps," the reality is that most are still in the early stages of true operational machine learning maturity.</p> <h4 id=current-state-assessment><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#current-state-assessment>Current State Assessment</a></h4> <p>From my experience implementing recommendation systems and ML pipelines at scale, I've observed that most organizations fall into one of three categories:</p> <ol> <li><strong>ML Experimentation Phase</strong>: Teams have data scientists building models in notebooks, but deployment is ad-hoc and monitoring is minimal</li> <li><strong>Basic Production ML</strong>: Models are deployed to production, but without proper versioning, monitoring, or automated retraining</li> <li><strong>Mature MLOps</strong>: Full lifecycle management with automated pipelines, comprehensive monitoring, and integrated feedback loops</li> </ol> <p>The majority of organizations I've encountered are still in categories 1 or 2, despite claims of having "mature MLOps practices."</p> <h4 id=the-complexity-challenge><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#the-complexity-challenge>The Complexity Challenge</a></h4> <p>MLOps is inherently more complex than traditional DevOps because:</p> <ul> <li><strong>Data drift</strong>: Models degrade over time as underlying data distributions change</li> <li><strong>Model complexity</strong>: Understanding and debugging ML models requires specialized knowledge</li> <li><strong>Feedback loops</strong>: The time between deployment and outcome measurement can be weeks or months</li> <li><strong>Regulatory requirements</strong>: Many industries have strict requirements for model explainability and audit trails</li> </ul> <div class="language-python highlight"><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=c1># Example: Simple model monitoring for data drift</span>
</span><span id=__span-48-2><a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a><span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
</span><span id=__span-48-3><a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a><span class=kn>from</span><span class=w> </span><span class=nn>scipy</span><span class=w> </span><span class=kn>import</span> <span class=n>stats</span>
</span><span id=__span-48-4><a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a>
</span><span id=__span-48-5><a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a><span class=k>class</span><span class=w> </span><span class=nc>DataDriftMonitor</span><span class=p>:</span>
</span><span id=__span-48-6><a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>reference_data</span><span class=p>,</span> <span class=n>threshold</span><span class=o>=</span><span class=mf>0.05</span><span class=p>):</span>
</span><span id=__span-48-7><a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a>        <span class=bp>self</span><span class=o>.</span><span class=n>reference_data</span> <span class=o>=</span> <span class=n>reference_data</span>
</span><span id=__span-48-8><a id=__codelineno-48-8 name=__codelineno-48-8 href=#__codelineno-48-8></a>        <span class=bp>self</span><span class=o>.</span><span class=n>threshold</span> <span class=o>=</span> <span class=n>threshold</span>
</span><span id=__span-48-9><a id=__codelineno-48-9 name=__codelineno-48-9 href=#__codelineno-48-9></a>        <span class=bp>self</span><span class=o>.</span><span class=n>reference_stats</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_calculate_stats</span><span class=p>(</span><span class=n>reference_data</span><span class=p>)</span>
</span><span id=__span-48-10><a id=__codelineno-48-10 name=__codelineno-48-10 href=#__codelineno-48-10></a>
</span><span id=__span-48-11><a id=__codelineno-48-11 name=__codelineno-48-11 href=#__codelineno-48-11></a>    <span class=k>def</span><span class=w> </span><span class=nf>_calculate_stats</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span><span id=__span-48-12><a id=__codelineno-48-12 name=__codelineno-48-12 href=#__codelineno-48-12></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-48-13><a id=__codelineno-48-13 name=__codelineno-48-13 href=#__codelineno-48-13></a>            <span class=s1>&#39;mean&#39;</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>),</span>
</span><span id=__span-48-14><a id=__codelineno-48-14 name=__codelineno-48-14 href=#__codelineno-48-14></a>            <span class=s1>&#39;std&#39;</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>std</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>),</span>
</span><span id=__span-48-15><a id=__codelineno-48-15 name=__codelineno-48-15 href=#__codelineno-48-15></a>            <span class=s1>&#39;percentiles&#39;</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>percentile</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=p>[</span><span class=mi>25</span><span class=p>,</span> <span class=mi>50</span><span class=p>,</span> <span class=mi>75</span><span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-48-16><a id=__codelineno-48-16 name=__codelineno-48-16 href=#__codelineno-48-16></a>        <span class=p>}</span>
</span><span id=__span-48-17><a id=__codelineno-48-17 name=__codelineno-48-17 href=#__codelineno-48-17></a>
</span><span id=__span-48-18><a id=__codelineno-48-18 name=__codelineno-48-18 href=#__codelineno-48-18></a>    <span class=k>def</span><span class=w> </span><span class=nf>detect_drift</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>new_data</span><span class=p>):</span>
</span><span id=__span-48-19><a id=__codelineno-48-19 name=__codelineno-48-19 href=#__codelineno-48-19></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Detect data drift using statistical tests.&quot;&quot;&quot;</span>
</span><span id=__span-48-20><a id=__codelineno-48-20 name=__codelineno-48-20 href=#__codelineno-48-20></a>        <span class=n>drift_detected</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-48-21><a id=__codelineno-48-21 name=__codelineno-48-21 href=#__codelineno-48-21></a>        <span class=n>drift_features</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-48-22><a id=__codelineno-48-22 name=__codelineno-48-22 href=#__codelineno-48-22></a>
</span><span id=__span-48-23><a id=__codelineno-48-23 name=__codelineno-48-23 href=#__codelineno-48-23></a>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>new_data</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>]):</span>
</span><span id=__span-48-24><a id=__codelineno-48-24 name=__codelineno-48-24 href=#__codelineno-48-24></a>            <span class=n>ref_feature</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>reference_data</span><span class=p>[:,</span> <span class=n>i</span><span class=p>]</span>
</span><span id=__span-48-25><a id=__codelineno-48-25 name=__codelineno-48-25 href=#__codelineno-48-25></a>            <span class=n>new_feature</span> <span class=o>=</span> <span class=n>new_data</span><span class=p>[:,</span> <span class=n>i</span><span class=p>]</span>
</span><span id=__span-48-26><a id=__codelineno-48-26 name=__codelineno-48-26 href=#__codelineno-48-26></a>
</span><span id=__span-48-27><a id=__codelineno-48-27 name=__codelineno-48-27 href=#__codelineno-48-27></a>            <span class=c1># Perform Kolmogorov-Smirnov test</span>
</span><span id=__span-48-28><a id=__codelineno-48-28 name=__codelineno-48-28 href=#__codelineno-48-28></a>            <span class=n>statistic</span><span class=p>,</span> <span class=n>p_value</span> <span class=o>=</span> <span class=n>stats</span><span class=o>.</span><span class=n>ks_2samp</span><span class=p>(</span><span class=n>ref_feature</span><span class=p>,</span> <span class=n>new_feature</span><span class=p>)</span>
</span><span id=__span-48-29><a id=__codelineno-48-29 name=__codelineno-48-29 href=#__codelineno-48-29></a>
</span><span id=__span-48-30><a id=__codelineno-48-30 name=__codelineno-48-30 href=#__codelineno-48-30></a>            <span class=k>if</span> <span class=n>p_value</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>threshold</span><span class=p>:</span>
</span><span id=__span-48-31><a id=__codelineno-48-31 name=__codelineno-48-31 href=#__codelineno-48-31></a>                <span class=n>drift_detected</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-48-32><a id=__codelineno-48-32 name=__codelineno-48-32 href=#__codelineno-48-32></a>                <span class=n>drift_features</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span><span id=__span-48-33><a id=__codelineno-48-33 name=__codelineno-48-33 href=#__codelineno-48-33></a>
</span><span id=__span-48-34><a id=__codelineno-48-34 name=__codelineno-48-34 href=#__codelineno-48-34></a>        <span class=k>return</span> <span class=n>drift_detected</span><span class=p>,</span> <span class=n>drift_features</span>
</span></code></pre></div> <h3 id=loop-closure><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#loop-closure>Loop Closure: The Foundation of Reliable ML</a></h3> <p>One of the most critical aspects of MLOps that many organizations struggle with is achieving proper "loop closure" - the ability to automatically detect when models are performing poorly and take corrective action.</p> <h4 id=the-feedback-loop-challenge><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#the-feedback-loop-challenge>The Feedback Loop Challenge</a></h4> <p>In traditional software, errors are typically immediate and obvious. A web application either loads or it doesn't. In machine learning, model degradation can be subtle and gradual:</p> <ul> <li>A recommendation system might slowly become less relevant</li> <li>A fraud detection model might miss new attack patterns</li> <li>A demand forecasting model might become less accurate due to market changes</li> </ul> <h4 id=implementing-effective-monitoring><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#implementing-effective-monitoring>Implementing Effective Monitoring</a></h4> <p>At Firstleaf, we implemented a comprehensive monitoring system for our recommendation engine that tracked multiple metrics:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-49-1><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a><span class=k>class</span><span class=w> </span><span class=nc>ModelPerformanceMonitor</span><span class=p>:</span>
</span><span id=__span-49-2><a id=__codelineno-49-2 name=__codelineno-49-2 href=#__codelineno-49-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model_name</span><span class=p>,</span> <span class=n>metrics_config</span><span class=p>):</span>
</span><span id=__span-49-3><a id=__codelineno-49-3 name=__codelineno-49-3 href=#__codelineno-49-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>model_name</span> <span class=o>=</span> <span class=n>model_name</span>
</span><span id=__span-49-4><a id=__codelineno-49-4 name=__codelineno-49-4 href=#__codelineno-49-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>metrics_config</span> <span class=o>=</span> <span class=n>metrics_config</span>
</span><span id=__span-49-5><a id=__codelineno-49-5 name=__codelineno-49-5 href=#__codelineno-49-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>alert_thresholds</span> <span class=o>=</span> <span class=n>metrics_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;alert_thresholds&#39;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-49-6><a id=__codelineno-49-6 name=__codelineno-49-6 href=#__codelineno-49-6></a>
</span><span id=__span-49-7><a id=__codelineno-49-7 name=__codelineno-49-7 href=#__codelineno-49-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>log_prediction</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>prediction_id</span><span class=p>,</span> <span class=n>features</span><span class=p>,</span> <span class=n>prediction</span><span class=p>,</span> <span class=n>timestamp</span><span class=p>):</span>
</span><span id=__span-49-8><a id=__codelineno-49-8 name=__codelineno-49-8 href=#__codelineno-49-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Log a prediction for later evaluation.&quot;&quot;&quot;</span>
</span><span id=__span-49-9><a id=__codelineno-49-9 name=__codelineno-49-9 href=#__codelineno-49-9></a>        <span class=bp>self</span><span class=o>.</span><span class=n>prediction_store</span><span class=o>.</span><span class=n>save</span><span class=p>({</span>
</span><span id=__span-49-10><a id=__codelineno-49-10 name=__codelineno-49-10 href=#__codelineno-49-10></a>            <span class=s1>&#39;prediction_id&#39;</span><span class=p>:</span> <span class=n>prediction_id</span><span class=p>,</span>
</span><span id=__span-49-11><a id=__codelineno-49-11 name=__codelineno-49-11 href=#__codelineno-49-11></a>            <span class=s1>&#39;model_name&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>model_name</span><span class=p>,</span>
</span><span id=__span-49-12><a id=__codelineno-49-12 name=__codelineno-49-12 href=#__codelineno-49-12></a>            <span class=s1>&#39;features&#39;</span><span class=p>:</span> <span class=n>features</span><span class=p>,</span>
</span><span id=__span-49-13><a id=__codelineno-49-13 name=__codelineno-49-13 href=#__codelineno-49-13></a>            <span class=s1>&#39;prediction&#39;</span><span class=p>:</span> <span class=n>prediction</span><span class=p>,</span>
</span><span id=__span-49-14><a id=__codelineno-49-14 name=__codelineno-49-14 href=#__codelineno-49-14></a>            <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=n>timestamp</span>
</span><span id=__span-49-15><a id=__codelineno-49-15 name=__codelineno-49-15 href=#__codelineno-49-15></a>        <span class=p>})</span>
</span><span id=__span-49-16><a id=__codelineno-49-16 name=__codelineno-49-16 href=#__codelineno-49-16></a>
</span><span id=__span-49-17><a id=__codelineno-49-17 name=__codelineno-49-17 href=#__codelineno-49-17></a>    <span class=k>def</span><span class=w> </span><span class=nf>log_outcome</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>prediction_id</span><span class=p>,</span> <span class=n>actual_outcome</span><span class=p>,</span> <span class=n>timestamp</span><span class=p>):</span>
</span><span id=__span-49-18><a id=__codelineno-49-18 name=__codelineno-49-18 href=#__codelineno-49-18></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Log the actual outcome for a prediction.&quot;&quot;&quot;</span>
</span><span id=__span-49-19><a id=__codelineno-49-19 name=__codelineno-49-19 href=#__codelineno-49-19></a>        <span class=bp>self</span><span class=o>.</span><span class=n>outcome_store</span><span class=o>.</span><span class=n>save</span><span class=p>({</span>
</span><span id=__span-49-20><a id=__codelineno-49-20 name=__codelineno-49-20 href=#__codelineno-49-20></a>            <span class=s1>&#39;prediction_id&#39;</span><span class=p>:</span> <span class=n>prediction_id</span><span class=p>,</span>
</span><span id=__span-49-21><a id=__codelineno-49-21 name=__codelineno-49-21 href=#__codelineno-49-21></a>            <span class=s1>&#39;actual_outcome&#39;</span><span class=p>:</span> <span class=n>actual_outcome</span><span class=p>,</span>
</span><span id=__span-49-22><a id=__codelineno-49-22 name=__codelineno-49-22 href=#__codelineno-49-22></a>            <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=n>timestamp</span>
</span><span id=__span-49-23><a id=__codelineno-49-23 name=__codelineno-49-23 href=#__codelineno-49-23></a>        <span class=p>})</span>
</span><span id=__span-49-24><a id=__codelineno-49-24 name=__codelineno-49-24 href=#__codelineno-49-24></a>
</span><span id=__span-49-25><a id=__codelineno-49-25 name=__codelineno-49-25 href=#__codelineno-49-25></a>    <span class=k>def</span><span class=w> </span><span class=nf>calculate_performance_metrics</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>time_window</span><span class=o>=</span><span class=s1>&#39;1d&#39;</span><span class=p>):</span>
</span><span id=__span-49-26><a id=__codelineno-49-26 name=__codelineno-49-26 href=#__codelineno-49-26></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Calculate performance metrics over a time window.&quot;&quot;&quot;</span>
</span><span id=__span-49-27><a id=__codelineno-49-27 name=__codelineno-49-27 href=#__codelineno-49-27></a>        <span class=n>predictions</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_predictions_with_outcomes</span><span class=p>(</span><span class=n>time_window</span><span class=p>)</span>
</span><span id=__span-49-28><a id=__codelineno-49-28 name=__codelineno-49-28 href=#__codelineno-49-28></a>
</span><span id=__span-49-29><a id=__codelineno-49-29 name=__codelineno-49-29 href=#__codelineno-49-29></a>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>predictions</span><span class=p>)</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>metrics_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;min_samples&#39;</span><span class=p>,</span> <span class=mi>100</span><span class=p>):</span>
</span><span id=__span-49-30><a id=__codelineno-49-30 name=__codelineno-49-30 href=#__codelineno-49-30></a>            <span class=k>return</span> <span class=kc>None</span>  <span class=c1># Not enough data for reliable metrics</span>
</span><span id=__span-49-31><a id=__codelineno-49-31 name=__codelineno-49-31 href=#__codelineno-49-31></a>
</span><span id=__span-49-32><a id=__codelineno-49-32 name=__codelineno-49-32 href=#__codelineno-49-32></a>        <span class=n>metrics</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-49-33><a id=__codelineno-49-33 name=__codelineno-49-33 href=#__codelineno-49-33></a>
</span><span id=__span-49-34><a id=__codelineno-49-34 name=__codelineno-49-34 href=#__codelineno-49-34></a>        <span class=c1># Calculate accuracy metrics</span>
</span><span id=__span-49-35><a id=__codelineno-49-35 name=__codelineno-49-35 href=#__codelineno-49-35></a>        <span class=k>if</span> <span class=s1>&#39;accuracy&#39;</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>metrics_config</span><span class=p>[</span><span class=s1>&#39;metrics&#39;</span><span class=p>]:</span>
</span><span id=__span-49-36><a id=__codelineno-49-36 name=__codelineno-49-36 href=#__codelineno-49-36></a>            <span class=n>correct</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=mi>1</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>predictions</span> <span class=k>if</span> <span class=n>p</span><span class=p>[</span><span class=s1>&#39;prediction&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=n>p</span><span class=p>[</span><span class=s1>&#39;actual&#39;</span><span class=p>])</span>
</span><span id=__span-49-37><a id=__codelineno-49-37 name=__codelineno-49-37 href=#__codelineno-49-37></a>            <span class=n>metrics</span><span class=p>[</span><span class=s1>&#39;accuracy&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>correct</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>predictions</span><span class=p>)</span>
</span><span id=__span-49-38><a id=__codelineno-49-38 name=__codelineno-49-38 href=#__codelineno-49-38></a>
</span><span id=__span-49-39><a id=__codelineno-49-39 name=__codelineno-49-39 href=#__codelineno-49-39></a>        <span class=c1># Calculate business metrics (e.g., click-through rate)</span>
</span><span id=__span-49-40><a id=__codelineno-49-40 name=__codelineno-49-40 href=#__codelineno-49-40></a>        <span class=k>if</span> <span class=s1>&#39;ctr&#39;</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>metrics_config</span><span class=p>[</span><span class=s1>&#39;metrics&#39;</span><span class=p>]:</span>
</span><span id=__span-49-41><a id=__codelineno-49-41 name=__codelineno-49-41 href=#__codelineno-49-41></a>            <span class=n>clicks</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=mi>1</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>predictions</span> <span class=k>if</span> <span class=n>p</span><span class=p>[</span><span class=s1>&#39;actual&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;click&#39;</span><span class=p>)</span>
</span><span id=__span-49-42><a id=__codelineno-49-42 name=__codelineno-49-42 href=#__codelineno-49-42></a>            <span class=n>metrics</span><span class=p>[</span><span class=s1>&#39;ctr&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>clicks</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>predictions</span><span class=p>)</span>
</span><span id=__span-49-43><a id=__codelineno-49-43 name=__codelineno-49-43 href=#__codelineno-49-43></a>
</span><span id=__span-49-44><a id=__codelineno-49-44 name=__codelineno-49-44 href=#__codelineno-49-44></a>        <span class=k>return</span> <span class=n>metrics</span>
</span><span id=__span-49-45><a id=__codelineno-49-45 name=__codelineno-49-45 href=#__codelineno-49-45></a>
</span><span id=__span-49-46><a id=__codelineno-49-46 name=__codelineno-49-46 href=#__codelineno-49-46></a>    <span class=k>def</span><span class=w> </span><span class=nf>check_alerts</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>current_metrics</span><span class=p>):</span>
</span><span id=__span-49-47><a id=__codelineno-49-47 name=__codelineno-49-47 href=#__codelineno-49-47></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Check if current metrics trigger any alerts.&quot;&quot;&quot;</span>
</span><span id=__span-49-48><a id=__codelineno-49-48 name=__codelineno-49-48 href=#__codelineno-49-48></a>        <span class=n>alerts</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-49-49><a id=__codelineno-49-49 name=__codelineno-49-49 href=#__codelineno-49-49></a>
</span><span id=__span-49-50><a id=__codelineno-49-50 name=__codelineno-49-50 href=#__codelineno-49-50></a>        <span class=k>for</span> <span class=n>metric_name</span><span class=p>,</span> <span class=n>threshold</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>alert_thresholds</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-49-51><a id=__codelineno-49-51 name=__codelineno-49-51 href=#__codelineno-49-51></a>            <span class=k>if</span> <span class=n>metric_name</span> <span class=ow>in</span> <span class=n>current_metrics</span><span class=p>:</span>
</span><span id=__span-49-52><a id=__codelineno-49-52 name=__codelineno-49-52 href=#__codelineno-49-52></a>                <span class=k>if</span> <span class=n>current_metrics</span><span class=p>[</span><span class=n>metric_name</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>threshold</span><span class=p>:</span>
</span><span id=__span-49-53><a id=__codelineno-49-53 name=__codelineno-49-53 href=#__codelineno-49-53></a>                    <span class=n>alerts</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
</span><span id=__span-49-54><a id=__codelineno-49-54 name=__codelineno-49-54 href=#__codelineno-49-54></a>                        <span class=s1>&#39;metric&#39;</span><span class=p>:</span> <span class=n>metric_name</span><span class=p>,</span>
</span><span id=__span-49-55><a id=__codelineno-49-55 name=__codelineno-49-55 href=#__codelineno-49-55></a>                        <span class=s1>&#39;current_value&#39;</span><span class=p>:</span> <span class=n>current_metrics</span><span class=p>[</span><span class=n>metric_name</span><span class=p>],</span>
</span><span id=__span-49-56><a id=__codelineno-49-56 name=__codelineno-49-56 href=#__codelineno-49-56></a>                        <span class=s1>&#39;threshold&#39;</span><span class=p>:</span> <span class=n>threshold</span><span class=p>,</span>
</span><span id=__span-49-57><a id=__codelineno-49-57 name=__codelineno-49-57 href=#__codelineno-49-57></a>                        <span class=s1>&#39;severity&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span> <span class=k>if</span> <span class=n>current_metrics</span><span class=p>[</span><span class=n>metric_name</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>threshold</span> <span class=o>*</span> <span class=mf>0.8</span> <span class=k>else</span> <span class=s1>&#39;medium&#39;</span>
</span><span id=__span-49-58><a id=__codelineno-49-58 name=__codelineno-49-58 href=#__codelineno-49-58></a>                    <span class=p>})</span>
</span><span id=__span-49-59><a id=__codelineno-49-59 name=__codelineno-49-59 href=#__codelineno-49-59></a>
</span><span id=__span-49-60><a id=__codelineno-49-60 name=__codelineno-49-60 href=#__codelineno-49-60></a>        <span class=k>return</span> <span class=n>alerts</span>
</span></code></pre></div> <h4 id=automated-response-systems><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#automated-response-systems>Automated Response Systems</a></h4> <p>The key to effective loop closure is not just detection, but automated response:</p> <ol> <li><strong>Automatic retraining</strong>: When performance drops below thresholds, trigger retraining with recent data</li> <li><strong>Model rollback</strong>: Automatically revert to the previous model version if performance degrades</li> <li><strong>Feature engineering alerts</strong>: Notify data engineers when feature distributions change significantly</li> <li><strong>Business impact assessment</strong>: Calculate the business cost of model degradation</li> </ol> <h3 id=declarative-systems><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#declarative-systems>Declarative Systems vs. Imperative Approaches</a></h3> <p>One of the key architectural decisions in MLOps is whether to use declarative or imperative approaches to pipeline management.</p> <h4 id=the-declarative-advantage><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#the-declarative-advantage>The Declarative Advantage</a></h4> <p>Declarative systems, where you specify what you want rather than how to achieve it, offer several advantages for ML pipelines:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-50-1><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=c1># Example: Declarative ML pipeline configuration</span>
</span><span id=__span-50-2><a id=__codelineno-50-2 name=__codelineno-50-2 href=#__codelineno-50-2></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ml/v1</span>
</span><span id=__span-50-3><a id=__codelineno-50-3 name=__codelineno-50-3 href=#__codelineno-50-3></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MLPipeline</span>
</span><span id=__span-50-4><a id=__codelineno-50-4 name=__codelineno-50-4 href=#__codelineno-50-4></a><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-50-5><a id=__codelineno-50-5 name=__codelineno-50-5 href=#__codelineno-50-5></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">recommendation-pipeline</span>
</span><span id=__span-50-6><a id=__codelineno-50-6 name=__codelineno-50-6 href=#__codelineno-50-6></a><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-50-7><a id=__codelineno-50-7 name=__codelineno-50-7 href=#__codelineno-50-7></a><span class=w>  </span><span class=nt>schedule</span><span class=p>:</span><span class=w> </span><span class=s>&quot;0</span><span class=nv> </span><span class=s>2</span><span class=nv> </span><span class=s>*</span><span class=nv> </span><span class=s>*</span><span class=nv> </span><span class=s>*&quot;</span><span class=w>  </span><span class=c1># Daily at 2 AM</span>
</span><span id=__span-50-8><a id=__codelineno-50-8 name=__codelineno-50-8 href=#__codelineno-50-8></a><span class=w>  </span><span class=nt>stages</span><span class=p>:</span>
</span><span id=__span-50-9><a id=__codelineno-50-9 name=__codelineno-50-9 href=#__codelineno-50-9></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">data-extraction</span>
</span><span id=__span-50-10><a id=__codelineno-50-10 name=__codelineno-50-10 href=#__codelineno-50-10></a><span class=w>      </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">data-extractor:v1.2.0</span>
</span><span id=__span-50-11><a id=__codelineno-50-11 name=__codelineno-50-11 href=#__codelineno-50-11></a><span class=w>      </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-50-12><a id=__codelineno-50-12 name=__codelineno-50-12 href=#__codelineno-50-12></a><span class=w>        </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;2&quot;</span>
</span><span id=__span-50-13><a id=__codelineno-50-13 name=__codelineno-50-13 href=#__codelineno-50-13></a><span class=w>        </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class=s>&quot;4Gi&quot;</span>
</span><span id=__span-50-14><a id=__codelineno-50-14 name=__codelineno-50-14 href=#__codelineno-50-14></a><span class=w>      </span><span class=nt>inputs</span><span class=p>:</span>
</span><span id=__span-50-15><a id=__codelineno-50-15 name=__codelineno-50-15 href=#__codelineno-50-15></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">date_range</span>
</span><span id=__span-50-16><a id=__codelineno-50-16 name=__codelineno-50-16 href=#__codelineno-50-16></a><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>.Date.AddDays(-7)</span><span class=nv> </span><span class=s>}}</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>.Date</span><span class=nv> </span><span class=s>}}&quot;</span>
</span><span id=__span-50-17><a id=__codelineno-50-17 name=__codelineno-50-17 href=#__codelineno-50-17></a><span class=w>      </span><span class=nt>outputs</span><span class=p>:</span>
</span><span id=__span-50-18><a id=__codelineno-50-18 name=__codelineno-50-18 href=#__codelineno-50-18></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">raw_data</span>
</span><span id=__span-50-19><a id=__codelineno-50-19 name=__codelineno-50-19 href=#__codelineno-50-19></a><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/data/raw/</span>
</span><span id=__span-50-20><a id=__codelineno-50-20 name=__codelineno-50-20 href=#__codelineno-50-20></a>
</span><span id=__span-50-21><a id=__codelineno-50-21 name=__codelineno-50-21 href=#__codelineno-50-21></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">feature-engineering</span>
</span><span id=__span-50-22><a id=__codelineno-50-22 name=__codelineno-50-22 href=#__codelineno-50-22></a><span class=w>      </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">feature-engineer:v2.1.0</span>
</span><span id=__span-50-23><a id=__codelineno-50-23 name=__codelineno-50-23 href=#__codelineno-50-23></a><span class=w>      </span><span class=nt>dependsOn</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>data-extraction</span><span class="p p-Indicator">]</span>
</span><span id=__span-50-24><a id=__codelineno-50-24 name=__codelineno-50-24 href=#__codelineno-50-24></a><span class=w>      </span><span class=nt>inputs</span><span class=p>:</span>
</span><span id=__span-50-25><a id=__codelineno-50-25 name=__codelineno-50-25 href=#__codelineno-50-25></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">raw_data</span>
</span><span id=__span-50-26><a id=__codelineno-50-26 name=__codelineno-50-26 href=#__codelineno-50-26></a><span class=w>          </span><span class=nt>from</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">data-extraction.raw_data</span>
</span><span id=__span-50-27><a id=__codelineno-50-27 name=__codelineno-50-27 href=#__codelineno-50-27></a><span class=w>      </span><span class=nt>outputs</span><span class=p>:</span>
</span><span id=__span-50-28><a id=__codelineno-50-28 name=__codelineno-50-28 href=#__codelineno-50-28></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">features</span>
</span><span id=__span-50-29><a id=__codelineno-50-29 name=__codelineno-50-29 href=#__codelineno-50-29></a><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/data/features/</span>
</span><span id=__span-50-30><a id=__codelineno-50-30 name=__codelineno-50-30 href=#__codelineno-50-30></a>
</span><span id=__span-50-31><a id=__codelineno-50-31 name=__codelineno-50-31 href=#__codelineno-50-31></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model-training</span>
</span><span id=__span-50-32><a id=__codelineno-50-32 name=__codelineno-50-32 href=#__codelineno-50-32></a><span class=w>      </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model-trainer:v1.5.0</span>
</span><span id=__span-50-33><a id=__codelineno-50-33 name=__codelineno-50-33 href=#__codelineno-50-33></a><span class=w>      </span><span class=nt>dependsOn</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>feature-engineering</span><span class="p p-Indicator">]</span>
</span><span id=__span-50-34><a id=__codelineno-50-34 name=__codelineno-50-34 href=#__codelineno-50-34></a><span class=w>      </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-50-35><a id=__codelineno-50-35 name=__codelineno-50-35 href=#__codelineno-50-35></a><span class=w>        </span><span class=nt>gpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;1&quot;</span>
</span><span id=__span-50-36><a id=__codelineno-50-36 name=__codelineno-50-36 href=#__codelineno-50-36></a><span class=w>        </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class=s>&quot;8Gi&quot;</span>
</span><span id=__span-50-37><a id=__codelineno-50-37 name=__codelineno-50-37 href=#__codelineno-50-37></a><span class=w>      </span><span class=nt>inputs</span><span class=p>:</span>
</span><span id=__span-50-38><a id=__codelineno-50-38 name=__codelineno-50-38 href=#__codelineno-50-38></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">features</span>
</span><span id=__span-50-39><a id=__codelineno-50-39 name=__codelineno-50-39 href=#__codelineno-50-39></a><span class=w>          </span><span class=nt>from</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">feature-engineering.features</span>
</span><span id=__span-50-40><a id=__codelineno-50-40 name=__codelineno-50-40 href=#__codelineno-50-40></a><span class=w>      </span><span class=nt>outputs</span><span class=p>:</span>
</span><span id=__span-50-41><a id=__codelineno-50-41 name=__codelineno-50-41 href=#__codelineno-50-41></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model</span>
</span><span id=__span-50-42><a id=__codelineno-50-42 name=__codelineno-50-42 href=#__codelineno-50-42></a><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/models/</span>
</span><span id=__span-50-43><a id=__codelineno-50-43 name=__codelineno-50-43 href=#__codelineno-50-43></a><span class=w>      </span><span class=nt>hyperparameters</span><span class=p>:</span>
</span><span id=__span-50-44><a id=__codelineno-50-44 name=__codelineno-50-44 href=#__codelineno-50-44></a><span class=w>        </span><span class=nt>learning_rate</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0.001</span>
</span><span id=__span-50-45><a id=__codelineno-50-45 name=__codelineno-50-45 href=#__codelineno-50-45></a><span class=w>        </span><span class=nt>batch_size</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">256</span>
</span><span id=__span-50-46><a id=__codelineno-50-46 name=__codelineno-50-46 href=#__codelineno-50-46></a><span class=w>        </span><span class=nt>epochs</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
</span><span id=__span-50-47><a id=__codelineno-50-47 name=__codelineno-50-47 href=#__codelineno-50-47></a>
</span><span id=__span-50-48><a id=__codelineno-50-48 name=__codelineno-50-48 href=#__codelineno-50-48></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model-validation</span>
</span><span id=__span-50-49><a id=__codelineno-50-49 name=__codelineno-50-49 href=#__codelineno-50-49></a><span class=w>      </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model-validator:v1.0.0</span>
</span><span id=__span-50-50><a id=__codelineno-50-50 name=__codelineno-50-50 href=#__codelineno-50-50></a><span class=w>      </span><span class=nt>dependsOn</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>model-training</span><span class="p p-Indicator">]</span>
</span><span id=__span-50-51><a id=__codelineno-50-51 name=__codelineno-50-51 href=#__codelineno-50-51></a><span class=w>      </span><span class=nt>inputs</span><span class=p>:</span>
</span><span id=__span-50-52><a id=__codelineno-50-52 name=__codelineno-50-52 href=#__codelineno-50-52></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model</span>
</span><span id=__span-50-53><a id=__codelineno-50-53 name=__codelineno-50-53 href=#__codelineno-50-53></a><span class=w>          </span><span class=nt>from</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model-training.model</span>
</span><span id=__span-50-54><a id=__codelineno-50-54 name=__codelineno-50-54 href=#__codelineno-50-54></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">validation_data</span>
</span><span id=__span-50-55><a id=__codelineno-50-55 name=__codelineno-50-55 href=#__codelineno-50-55></a><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/data/validation/</span>
</span><span id=__span-50-56><a id=__codelineno-50-56 name=__codelineno-50-56 href=#__codelineno-50-56></a><span class=w>      </span><span class=nt>validationRules</span><span class=p>:</span>
</span><span id=__span-50-57><a id=__codelineno-50-57 name=__codelineno-50-57 href=#__codelineno-50-57></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>metric</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">accuracy</span>
</span><span id=__span-50-58><a id=__codelineno-50-58 name=__codelineno-50-58 href=#__codelineno-50-58></a><span class=w>          </span><span class=nt>threshold</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0.85</span>
</span><span id=__span-50-59><a id=__codelineno-50-59 name=__codelineno-50-59 href=#__codelineno-50-59></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>metric</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">auc</span>
</span><span id=__span-50-60><a id=__codelineno-50-60 name=__codelineno-50-60 href=#__codelineno-50-60></a><span class=w>          </span><span class=nt>threshold</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0.90</span>
</span><span id=__span-50-61><a id=__codelineno-50-61 name=__codelineno-50-61 href=#__codelineno-50-61></a>
</span><span id=__span-50-62><a id=__codelineno-50-62 name=__codelineno-50-62 href=#__codelineno-50-62></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model-deployment</span>
</span><span id=__span-50-63><a id=__codelineno-50-63 name=__codelineno-50-63 href=#__codelineno-50-63></a><span class=w>      </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model-deployer:v1.3.0</span>
</span><span id=__span-50-64><a id=__codelineno-50-64 name=__codelineno-50-64 href=#__codelineno-50-64></a><span class=w>      </span><span class=nt>dependsOn</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>model-validation</span><span class="p p-Indicator">]</span>
</span><span id=__span-50-65><a id=__codelineno-50-65 name=__codelineno-50-65 href=#__codelineno-50-65></a><span class=w>      </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>.Stages.model-validation.Success</span><span class=nv> </span><span class=s>}}&quot;</span>
</span><span id=__span-50-66><a id=__codelineno-50-66 name=__codelineno-50-66 href=#__codelineno-50-66></a><span class=w>      </span><span class=nt>inputs</span><span class=p>:</span>
</span><span id=__span-50-67><a id=__codelineno-50-67 name=__codelineno-50-67 href=#__codelineno-50-67></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model</span>
</span><span id=__span-50-68><a id=__codelineno-50-68 name=__codelineno-50-68 href=#__codelineno-50-68></a><span class=w>          </span><span class=nt>from</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">model-training.model</span>
</span><span id=__span-50-69><a id=__codelineno-50-69 name=__codelineno-50-69 href=#__codelineno-50-69></a><span class=w>      </span><span class=nt>deployment</span><span class=p>:</span>
</span><span id=__span-50-70><a id=__codelineno-50-70 name=__codelineno-50-70 href=#__codelineno-50-70></a><span class=w>        </span><span class=nt>strategy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">blue-green</span>
</span><span id=__span-50-71><a id=__codelineno-50-71 name=__codelineno-50-71 href=#__codelineno-50-71></a><span class=w>        </span><span class=nt>environment</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">production</span>
</span></code></pre></div> <h4 id=benefits-of-declarative-mlops><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#benefits-of-declarative-mlops>Benefits of Declarative MLOps</a></h4> <ol> <li><strong>Reproducibility</strong>: The same declaration always produces the same pipeline</li> <li><strong>Version control</strong>: Pipeline definitions can be versioned and reviewed</li> <li><strong>Auditability</strong>: Clear record of what was intended vs. what actually happened</li> <li><strong>Portability</strong>: Pipelines can run on different infrastructure without modification</li> </ol> <h4 id=implementation-challenges><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#implementation-challenges>Implementation Challenges</a></h4> <p>However, declarative systems also present challenges:</p> <ul> <li><strong>Debugging complexity</strong>: When something goes wrong, it can be harder to understand why</li> <li><strong>Limited flexibility</strong>: Some edge cases require imperative logic</li> <li><strong>Tooling maturity</strong>: Declarative ML tools are still evolving</li> </ul> <h3 id=real-time-ml><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#real-time-ml>Real-Time ML: Challenges and Solutions</a></h3> <p>Real-time machine learning presents unique challenges that many organizations underestimate.</p> <h4 id=the-latency-challenge><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#the-latency-challenge>The Latency Challenge</a></h4> <p>At Firstleaf, our recommendation system needed to serve personalized recommendations with latency under 100ms. This required several architectural decisions:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-51-1><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class=k>class</span><span class=w> </span><span class=nc>RealTimeModelServer</span><span class=p>:</span>
</span><span id=__span-51-2><a id=__codelineno-51-2 name=__codelineno-51-2 href=#__codelineno-51-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model_path</span><span class=p>,</span> <span class=n>feature_store_config</span><span class=p>):</span>
</span><span id=__span-51-3><a id=__codelineno-51-3 name=__codelineno-51-3 href=#__codelineno-51-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>model</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>load_model</span><span class=p>(</span><span class=n>model_path</span><span class=p>)</span>
</span><span id=__span-51-4><a id=__codelineno-51-4 name=__codelineno-51-4 href=#__codelineno-51-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>feature_store</span> <span class=o>=</span> <span class=n>FeatureStore</span><span class=p>(</span><span class=n>feature_store_config</span><span class=p>)</span>
</span><span id=__span-51-5><a id=__codelineno-51-5 name=__codelineno-51-5 href=#__codelineno-51-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span> <span class=o>=</span> <span class=n>RedisCache</span><span class=p>()</span>
</span><span id=__span-51-6><a id=__codelineno-51-6 name=__codelineno-51-6 href=#__codelineno-51-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>metrics</span> <span class=o>=</span> <span class=n>MetricsCollector</span><span class=p>()</span>
</span><span id=__span-51-7><a id=__codelineno-51-7 name=__codelineno-51-7 href=#__codelineno-51-7></a>
</span><span id=__span-51-8><a id=__codelineno-51-8 name=__codelineno-51-8 href=#__codelineno-51-8></a>    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>predict</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span><span id=__span-51-9><a id=__codelineno-51-9 name=__codelineno-51-9 href=#__codelineno-51-9></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Generate real-time predictions with caching and fallbacks.&quot;&quot;&quot;</span>
</span><span id=__span-51-10><a id=__codelineno-51-10 name=__codelineno-51-10 href=#__codelineno-51-10></a>        <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span><span id=__span-51-11><a id=__codelineno-51-11 name=__codelineno-51-11 href=#__codelineno-51-11></a>
</span><span id=__span-51-12><a id=__codelineno-51-12 name=__codelineno-51-12 href=#__codelineno-51-12></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-51-13><a id=__codelineno-51-13 name=__codelineno-51-13 href=#__codelineno-51-13></a>            <span class=c1># Check cache first</span>
</span><span id=__span-51-14><a id=__codelineno-51-14 name=__codelineno-51-14 href=#__codelineno-51-14></a>            <span class=n>cache_key</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;prediction:</span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=nb>hash</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>context</span><span class=p>))</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-51-15><a id=__codelineno-51-15 name=__codelineno-51-15 href=#__codelineno-51-15></a>            <span class=n>cached_result</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>cache_key</span><span class=p>)</span>
</span><span id=__span-51-16><a id=__codelineno-51-16 name=__codelineno-51-16 href=#__codelineno-51-16></a>            <span class=k>if</span> <span class=n>cached_result</span><span class=p>:</span>
</span><span id=__span-51-17><a id=__codelineno-51-17 name=__codelineno-51-17 href=#__codelineno-51-17></a>                <span class=bp>self</span><span class=o>.</span><span class=n>metrics</span><span class=o>.</span><span class=n>record_cache_hit</span><span class=p>()</span>
</span><span id=__span-51-18><a id=__codelineno-51-18 name=__codelineno-51-18 href=#__codelineno-51-18></a>                <span class=k>return</span> <span class=n>cached_result</span>
</span><span id=__span-51-19><a id=__codelineno-51-19 name=__codelineno-51-19 href=#__codelineno-51-19></a>
</span><span id=__span-51-20><a id=__codelineno-51-20 name=__codelineno-51-20 href=#__codelineno-51-20></a>            <span class=c1># Fetch features (with timeout)</span>
</span><span id=__span-51-21><a id=__codelineno-51-21 name=__codelineno-51-21 href=#__codelineno-51-21></a>            <span class=n>features</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>wait_for</span><span class=p>(</span>
</span><span id=__span-51-22><a id=__codelineno-51-22 name=__codelineno-51-22 href=#__codelineno-51-22></a>                <span class=bp>self</span><span class=o>.</span><span class=n>feature_store</span><span class=o>.</span><span class=n>get_user_features</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>context</span><span class=p>),</span>
</span><span id=__span-51-23><a id=__codelineno-51-23 name=__codelineno-51-23 href=#__codelineno-51-23></a>                <span class=n>timeout</span><span class=o>=</span><span class=mf>0.050</span>  <span class=c1># 50ms timeout for feature fetching</span>
</span><span id=__span-51-24><a id=__codelineno-51-24 name=__codelineno-51-24 href=#__codelineno-51-24></a>            <span class=p>)</span>
</span><span id=__span-51-25><a id=__codelineno-51-25 name=__codelineno-51-25 href=#__codelineno-51-25></a>
</span><span id=__span-51-26><a id=__codelineno-51-26 name=__codelineno-51-26 href=#__codelineno-51-26></a>            <span class=c1># Generate prediction</span>
</span><span id=__span-51-27><a id=__codelineno-51-27 name=__codelineno-51-27 href=#__codelineno-51-27></a>            <span class=n>prediction</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>predict</span><span class=p>(</span><span class=n>features</span><span class=p>)</span>
</span><span id=__span-51-28><a id=__codelineno-51-28 name=__codelineno-51-28 href=#__codelineno-51-28></a>
</span><span id=__span-51-29><a id=__codelineno-51-29 name=__codelineno-51-29 href=#__codelineno-51-29></a>            <span class=c1># Cache result</span>
</span><span id=__span-51-30><a id=__codelineno-51-30 name=__codelineno-51-30 href=#__codelineno-51-30></a>            <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=n>cache_key</span><span class=p>,</span> <span class=n>prediction</span><span class=p>,</span> <span class=n>ttl</span><span class=o>=</span><span class=mi>300</span><span class=p>)</span>  <span class=c1># 5 min TTL</span>
</span><span id=__span-51-31><a id=__codelineno-51-31 name=__codelineno-51-31 href=#__codelineno-51-31></a>
</span><span id=__span-51-32><a id=__codelineno-51-32 name=__codelineno-51-32 href=#__codelineno-51-32></a>            <span class=c1># Record metrics</span>
</span><span id=__span-51-33><a id=__codelineno-51-33 name=__codelineno-51-33 href=#__codelineno-51-33></a>            <span class=n>latency</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span>
</span><span id=__span-51-34><a id=__codelineno-51-34 name=__codelineno-51-34 href=#__codelineno-51-34></a>            <span class=bp>self</span><span class=o>.</span><span class=n>metrics</span><span class=o>.</span><span class=n>record_prediction_latency</span><span class=p>(</span><span class=n>latency</span><span class=p>)</span>
</span><span id=__span-51-35><a id=__codelineno-51-35 name=__codelineno-51-35 href=#__codelineno-51-35></a>
</span><span id=__span-51-36><a id=__codelineno-51-36 name=__codelineno-51-36 href=#__codelineno-51-36></a>            <span class=k>return</span> <span class=n>prediction</span>
</span><span id=__span-51-37><a id=__codelineno-51-37 name=__codelineno-51-37 href=#__codelineno-51-37></a>
</span><span id=__span-51-38><a id=__codelineno-51-38 name=__codelineno-51-38 href=#__codelineno-51-38></a>        <span class=k>except</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>TimeoutError</span><span class=p>:</span>
</span><span id=__span-51-39><a id=__codelineno-51-39 name=__codelineno-51-39 href=#__codelineno-51-39></a>            <span class=c1># Feature fetching timeout - return fallback</span>
</span><span id=__span-51-40><a id=__codelineno-51-40 name=__codelineno-51-40 href=#__codelineno-51-40></a>            <span class=bp>self</span><span class=o>.</span><span class=n>metrics</span><span class=o>.</span><span class=n>record_fallback_used</span><span class=p>(</span><span class=s2>&quot;feature_timeout&quot;</span><span class=p>)</span>
</span><span id=__span-51-41><a id=__codelineno-51-41 name=__codelineno-51-41 href=#__codelineno-51-41></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_fallback_prediction</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>context</span><span class=p>)</span>
</span><span id=__span-51-42><a id=__codelineno-51-42 name=__codelineno-51-42 href=#__codelineno-51-42></a>
</span><span id=__span-51-43><a id=__codelineno-51-43 name=__codelineno-51-43 href=#__codelineno-51-43></a>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-51-44><a id=__codelineno-51-44 name=__codelineno-51-44 href=#__codelineno-51-44></a>            <span class=c1># Model prediction error - return fallback</span>
</span><span id=__span-51-45><a id=__codelineno-51-45 name=__codelineno-51-45 href=#__codelineno-51-45></a>            <span class=bp>self</span><span class=o>.</span><span class=n>metrics</span><span class=o>.</span><span class=n>record_error</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>))</span>
</span><span id=__span-51-46><a id=__codelineno-51-46 name=__codelineno-51-46 href=#__codelineno-51-46></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_fallback_prediction</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>context</span><span class=p>)</span>
</span><span id=__span-51-47><a id=__codelineno-51-47 name=__codelineno-51-47 href=#__codelineno-51-47></a>
</span><span id=__span-51-48><a id=__codelineno-51-48 name=__codelineno-51-48 href=#__codelineno-51-48></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_fallback_prediction</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span><span id=__span-51-49><a id=__codelineno-51-49 name=__codelineno-51-49 href=#__codelineno-51-49></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Return a safe fallback prediction.&quot;&quot;&quot;</span>
</span><span id=__span-51-50><a id=__codelineno-51-50 name=__codelineno-51-50 href=#__codelineno-51-50></a>        <span class=c1># Use simple heuristics or popular items</span>
</span><span id=__span-51-51><a id=__codelineno-51-51 name=__codelineno-51-51 href=#__codelineno-51-51></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>popular_items_cache</span><span class=o>.</span><span class=n>get_popular_for_user_segment</span><span class=p>(</span>
</span><span id=__span-51-52><a id=__codelineno-51-52 name=__codelineno-51-52 href=#__codelineno-51-52></a>            <span class=bp>self</span><span class=o>.</span><span class=n>get_user_segment</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span><span id=__span-51-53><a id=__codelineno-51-53 name=__codelineno-51-53 href=#__codelineno-51-53></a>        <span class=p>)</span>
</span></code></pre></div> <h4 id=feature-stores-for-real-time-ml><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#feature-stores-for-real-time-ml>Feature Stores for Real-Time ML</a></h4> <p>One of the biggest challenges in real-time ML is ensuring that the features used in training are the same as those used in inference. Feature stores help solve this problem:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-52-1><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a><span class=k>class</span><span class=w> </span><span class=nc>ProductionFeatureStore</span><span class=p>:</span>
</span><span id=__span-52-2><a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>):</span>
</span><span id=__span-52-3><a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>offline_store</span> <span class=o>=</span> <span class=n>config</span><span class=p>[</span><span class=s1>&#39;offline_store&#39;</span><span class=p>]</span>  <span class=c1># For training</span>
</span><span id=__span-52-4><a id=__codelineno-52-4 name=__codelineno-52-4 href=#__codelineno-52-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>online_store</span> <span class=o>=</span> <span class=n>config</span><span class=p>[</span><span class=s1>&#39;online_store&#39;</span><span class=p>]</span>    <span class=c1># For serving</span>
</span><span id=__span-52-5><a id=__codelineno-52-5 name=__codelineno-52-5 href=#__codelineno-52-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>feature_definitions</span> <span class=o>=</span> <span class=n>config</span><span class=p>[</span><span class=s1>&#39;features&#39;</span><span class=p>]</span>
</span><span id=__span-52-6><a id=__codelineno-52-6 name=__codelineno-52-6 href=#__codelineno-52-6></a>
</span><span id=__span-52-7><a id=__codelineno-52-7 name=__codelineno-52-7 href=#__codelineno-52-7></a>    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>get_user_features</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span><span id=__span-52-8><a id=__codelineno-52-8 name=__codelineno-52-8 href=#__codelineno-52-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get real-time features for a user.&quot;&quot;&quot;</span>
</span><span id=__span-52-9><a id=__codelineno-52-9 name=__codelineno-52-9 href=#__codelineno-52-9></a>        <span class=n>features</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-52-10><a id=__codelineno-52-10 name=__codelineno-52-10 href=#__codelineno-52-10></a>
</span><span id=__span-52-11><a id=__codelineno-52-11 name=__codelineno-52-11 href=#__codelineno-52-11></a>        <span class=c1># Get static user features (cached)</span>
</span><span id=__span-52-12><a id=__codelineno-52-12 name=__codelineno-52-12 href=#__codelineno-52-12></a>        <span class=n>user_profile</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>online_store</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;user:</span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-52-13><a id=__codelineno-52-13 name=__codelineno-52-13 href=#__codelineno-52-13></a>        <span class=k>if</span> <span class=n>user_profile</span><span class=p>:</span>
</span><span id=__span-52-14><a id=__codelineno-52-14 name=__codelineno-52-14 href=#__codelineno-52-14></a>            <span class=n>features</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>user_profile</span><span class=p>)</span>
</span><span id=__span-52-15><a id=__codelineno-52-15 name=__codelineno-52-15 href=#__codelineno-52-15></a>
</span><span id=__span-52-16><a id=__codelineno-52-16 name=__codelineno-52-16 href=#__codelineno-52-16></a>        <span class=c1># Get dynamic context features</span>
</span><span id=__span-52-17><a id=__codelineno-52-17 name=__codelineno-52-17 href=#__codelineno-52-17></a>        <span class=k>if</span> <span class=n>context</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;timestamp&#39;</span><span class=p>):</span>
</span><span id=__span-52-18><a id=__codelineno-52-18 name=__codelineno-52-18 href=#__codelineno-52-18></a>            <span class=n>features</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get_temporal_features</span><span class=p>(</span><span class=n>context</span><span class=p>[</span><span class=s1>&#39;timestamp&#39;</span><span class=p>]))</span>
</span><span id=__span-52-19><a id=__codelineno-52-19 name=__codelineno-52-19 href=#__codelineno-52-19></a>
</span><span id=__span-52-20><a id=__codelineno-52-20 name=__codelineno-52-20 href=#__codelineno-52-20></a>        <span class=k>if</span> <span class=n>context</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;location&#39;</span><span class=p>):</span>
</span><span id=__span-52-21><a id=__codelineno-52-21 name=__codelineno-52-21 href=#__codelineno-52-21></a>            <span class=n>features</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get_location_features</span><span class=p>(</span><span class=n>context</span><span class=p>[</span><span class=s1>&#39;location&#39;</span><span class=p>]))</span>
</span><span id=__span-52-22><a id=__codelineno-52-22 name=__codelineno-52-22 href=#__codelineno-52-22></a>
</span><span id=__span-52-23><a id=__codelineno-52-23 name=__codelineno-52-23 href=#__codelineno-52-23></a>        <span class=c1># Get real-time computed features</span>
</span><span id=__span-52-24><a id=__codelineno-52-24 name=__codelineno-52-24 href=#__codelineno-52-24></a>        <span class=n>recent_behavior</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_recent_user_behavior</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span><span id=__span-52-25><a id=__codelineno-52-25 name=__codelineno-52-25 href=#__codelineno-52-25></a>        <span class=n>features</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>compute_behavior_features</span><span class=p>(</span><span class=n>recent_behavior</span><span class=p>))</span>
</span><span id=__span-52-26><a id=__codelineno-52-26 name=__codelineno-52-26 href=#__codelineno-52-26></a>
</span><span id=__span-52-27><a id=__codelineno-52-27 name=__codelineno-52-27 href=#__codelineno-52-27></a>        <span class=k>return</span> <span class=n>features</span>
</span><span id=__span-52-28><a id=__codelineno-52-28 name=__codelineno-52-28 href=#__codelineno-52-28></a>
</span><span id=__span-52-29><a id=__codelineno-52-29 name=__codelineno-52-29 href=#__codelineno-52-29></a>    <span class=k>def</span><span class=w> </span><span class=nf>compute_behavior_features</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>recent_behavior</span><span class=p>):</span>
</span><span id=__span-52-30><a id=__codelineno-52-30 name=__codelineno-52-30 href=#__codelineno-52-30></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Compute features from recent user behavior.&quot;&quot;&quot;</span>
</span><span id=__span-52-31><a id=__codelineno-52-31 name=__codelineno-52-31 href=#__codelineno-52-31></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>recent_behavior</span><span class=p>:</span>
</span><span id=__span-52-32><a id=__codelineno-52-32 name=__codelineno-52-32 href=#__codelineno-52-32></a>            <span class=k>return</span> <span class=p>{}</span>
</span><span id=__span-52-33><a id=__codelineno-52-33 name=__codelineno-52-33 href=#__codelineno-52-33></a>
</span><span id=__span-52-34><a id=__codelineno-52-34 name=__codelineno-52-34 href=#__codelineno-52-34></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-52-35><a id=__codelineno-52-35 name=__codelineno-52-35 href=#__codelineno-52-35></a>            <span class=s1>&#39;recent_click_count&#39;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>recent_behavior</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;clicks&#39;</span><span class=p>,</span> <span class=p>[])),</span>
</span><span id=__span-52-36><a id=__codelineno-52-36 name=__codelineno-52-36 href=#__codelineno-52-36></a>            <span class=s1>&#39;recent_purchase_count&#39;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>recent_behavior</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;purchases&#39;</span><span class=p>,</span> <span class=p>[])),</span>
</span><span id=__span-52-37><a id=__codelineno-52-37 name=__codelineno-52-37 href=#__codelineno-52-37></a>            <span class=s1>&#39;avg_session_duration&#39;</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>([</span>
</span><span id=__span-52-38><a id=__codelineno-52-38 name=__codelineno-52-38 href=#__codelineno-52-38></a>                <span class=n>s</span><span class=p>[</span><span class=s1>&#39;duration&#39;</span><span class=p>]</span> <span class=k>for</span> <span class=n>s</span> <span class=ow>in</span> <span class=n>recent_behavior</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;sessions&#39;</span><span class=p>,</span> <span class=p>[])</span>
</span><span id=__span-52-39><a id=__codelineno-52-39 name=__codelineno-52-39 href=#__codelineno-52-39></a>            <span class=p>])</span> <span class=k>if</span> <span class=n>recent_behavior</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;sessions&#39;</span><span class=p>)</span> <span class=k>else</span> <span class=mi>0</span><span class=p>,</span>
</span><span id=__span-52-40><a id=__codelineno-52-40 name=__codelineno-52-40 href=#__codelineno-52-40></a>            <span class=s1>&#39;time_since_last_action&#39;</span><span class=p>:</span> <span class=p>(</span>
</span><span id=__span-52-41><a id=__codelineno-52-41 name=__codelineno-52-41 href=#__codelineno-52-41></a>                <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>recent_behavior</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;last_action_time&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span><span id=__span-52-42><a id=__codelineno-52-42 name=__codelineno-52-42 href=#__codelineno-52-42></a>            <span class=p>)</span> <span class=k>if</span> <span class=n>recent_behavior</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;last_action_time&#39;</span><span class=p>)</span> <span class=k>else</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>)</span>
</span><span id=__span-52-43><a id=__codelineno-52-43 name=__codelineno-52-43 href=#__codelineno-52-43></a>        <span class=p>}</span>
</span></code></pre></div> <h4 id=monitoring-real-time-systems><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#monitoring-real-time-systems>Monitoring Real-Time Systems</a></h4> <p>Real-time ML systems require specialized monitoring:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-53-1><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class=k>class</span><span class=w> </span><span class=nc>RealTimeMonitor</span><span class=p>:</span>
</span><span id=__span-53-2><a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-53-3><a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>metrics_buffer</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-53-4><a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>alert_rules</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-53-5><a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a>
</span><span id=__span-53-6><a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a>    <span class=k>def</span><span class=w> </span><span class=nf>record_prediction_metrics</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>prediction_data</span><span class=p>):</span>
</span><span id=__span-53-7><a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Record metrics for a single prediction.&quot;&quot;&quot;</span>
</span><span id=__span-53-8><a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a>        <span class=n>metrics</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-53-9><a id=__codelineno-53-9 name=__codelineno-53-9 href=#__codelineno-53-9></a>            <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>(),</span>
</span><span id=__span-53-10><a id=__codelineno-53-10 name=__codelineno-53-10 href=#__codelineno-53-10></a>            <span class=s1>&#39;user_id&#39;</span><span class=p>:</span> <span class=n>prediction_data</span><span class=p>[</span><span class=s1>&#39;user_id&#39;</span><span class=p>],</span>
</span><span id=__span-53-11><a id=__codelineno-53-11 name=__codelineno-53-11 href=#__codelineno-53-11></a>            <span class=s1>&#39;latency&#39;</span><span class=p>:</span> <span class=n>prediction_data</span><span class=p>[</span><span class=s1>&#39;latency&#39;</span><span class=p>],</span>
</span><span id=__span-53-12><a id=__codelineno-53-12 name=__codelineno-53-12 href=#__codelineno-53-12></a>            <span class=s1>&#39;cache_hit&#39;</span><span class=p>:</span> <span class=n>prediction_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;cache_hit&#39;</span><span class=p>,</span> <span class=kc>False</span><span class=p>),</span>
</span><span id=__span-53-13><a id=__codelineno-53-13 name=__codelineno-53-13 href=#__codelineno-53-13></a>            <span class=s1>&#39;fallback_used&#39;</span><span class=p>:</span> <span class=n>prediction_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;fallback_used&#39;</span><span class=p>,</span> <span class=kc>False</span><span class=p>),</span>
</span><span id=__span-53-14><a id=__codelineno-53-14 name=__codelineno-53-14 href=#__codelineno-53-14></a>            <span class=s1>&#39;feature_fetch_time&#39;</span><span class=p>:</span> <span class=n>prediction_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;feature_fetch_time&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-53-15><a id=__codelineno-53-15 name=__codelineno-53-15 href=#__codelineno-53-15></a>            <span class=s1>&#39;model_inference_time&#39;</span><span class=p>:</span> <span class=n>prediction_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;model_inference_time&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span><span id=__span-53-16><a id=__codelineno-53-16 name=__codelineno-53-16 href=#__codelineno-53-16></a>        <span class=p>}</span>
</span><span id=__span-53-17><a id=__codelineno-53-17 name=__codelineno-53-17 href=#__codelineno-53-17></a>
</span><span id=__span-53-18><a id=__codelineno-53-18 name=__codelineno-53-18 href=#__codelineno-53-18></a>        <span class=bp>self</span><span class=o>.</span><span class=n>metrics_buffer</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>metrics</span><span class=p>)</span>
</span><span id=__span-53-19><a id=__codelineno-53-19 name=__codelineno-53-19 href=#__codelineno-53-19></a>
</span><span id=__span-53-20><a id=__codelineno-53-20 name=__codelineno-53-20 href=#__codelineno-53-20></a>        <span class=c1># Check for immediate alerts</span>
</span><span id=__span-53-21><a id=__codelineno-53-21 name=__codelineno-53-21 href=#__codelineno-53-21></a>        <span class=k>if</span> <span class=n>metrics</span><span class=p>[</span><span class=s1>&#39;latency&#39;</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mf>0.200</span><span class=p>:</span>  <span class=c1># 200ms threshold</span>
</span><span id=__span-53-22><a id=__codelineno-53-22 name=__codelineno-53-22 href=#__codelineno-53-22></a>            <span class=bp>self</span><span class=o>.</span><span class=n>trigger_alert</span><span class=p>(</span><span class=s1>&#39;high_latency&#39;</span><span class=p>,</span> <span class=n>metrics</span><span class=p>)</span>
</span><span id=__span-53-23><a id=__codelineno-53-23 name=__codelineno-53-23 href=#__codelineno-53-23></a>
</span><span id=__span-53-24><a id=__codelineno-53-24 name=__codelineno-53-24 href=#__codelineno-53-24></a>        <span class=k>if</span> <span class=n>metrics</span><span class=p>[</span><span class=s1>&#39;fallback_used&#39;</span><span class=p>]:</span>
</span><span id=__span-53-25><a id=__codelineno-53-25 name=__codelineno-53-25 href=#__codelineno-53-25></a>            <span class=bp>self</span><span class=o>.</span><span class=n>trigger_alert</span><span class=p>(</span><span class=s1>&#39;fallback_used&#39;</span><span class=p>,</span> <span class=n>metrics</span><span class=p>)</span>
</span><span id=__span-53-26><a id=__codelineno-53-26 name=__codelineno-53-26 href=#__codelineno-53-26></a>
</span><span id=__span-53-27><a id=__codelineno-53-27 name=__codelineno-53-27 href=#__codelineno-53-27></a>    <span class=k>def</span><span class=w> </span><span class=nf>calculate_real_time_metrics</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>window_seconds</span><span class=o>=</span><span class=mi>60</span><span class=p>):</span>
</span><span id=__span-53-28><a id=__codelineno-53-28 name=__codelineno-53-28 href=#__codelineno-53-28></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Calculate metrics over a rolling time window.&quot;&quot;&quot;</span>
</span><span id=__span-53-29><a id=__codelineno-53-29 name=__codelineno-53-29 href=#__codelineno-53-29></a>        <span class=n>current_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span><span id=__span-53-30><a id=__codelineno-53-30 name=__codelineno-53-30 href=#__codelineno-53-30></a>        <span class=n>window_start</span> <span class=o>=</span> <span class=n>current_time</span> <span class=o>-</span> <span class=n>window_seconds</span>
</span><span id=__span-53-31><a id=__codelineno-53-31 name=__codelineno-53-31 href=#__codelineno-53-31></a>
</span><span id=__span-53-32><a id=__codelineno-53-32 name=__codelineno-53-32 href=#__codelineno-53-32></a>        <span class=n>window_metrics</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-53-33><a id=__codelineno-53-33 name=__codelineno-53-33 href=#__codelineno-53-33></a>            <span class=n>m</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>metrics_buffer</span>
</span><span id=__span-53-34><a id=__codelineno-53-34 name=__codelineno-53-34 href=#__codelineno-53-34></a>            <span class=k>if</span> <span class=n>m</span><span class=p>[</span><span class=s1>&#39;timestamp&#39;</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>window_start</span>
</span><span id=__span-53-35><a id=__codelineno-53-35 name=__codelineno-53-35 href=#__codelineno-53-35></a>        <span class=p>]</span>
</span><span id=__span-53-36><a id=__codelineno-53-36 name=__codelineno-53-36 href=#__codelineno-53-36></a>
</span><span id=__span-53-37><a id=__codelineno-53-37 name=__codelineno-53-37 href=#__codelineno-53-37></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>window_metrics</span><span class=p>:</span>
</span><span id=__span-53-38><a id=__codelineno-53-38 name=__codelineno-53-38 href=#__codelineno-53-38></a>            <span class=k>return</span> <span class=p>{}</span>
</span><span id=__span-53-39><a id=__codelineno-53-39 name=__codelineno-53-39 href=#__codelineno-53-39></a>
</span><span id=__span-53-40><a id=__codelineno-53-40 name=__codelineno-53-40 href=#__codelineno-53-40></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-53-41><a id=__codelineno-53-41 name=__codelineno-53-41 href=#__codelineno-53-41></a>            <span class=s1>&#39;request_count&#39;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>window_metrics</span><span class=p>),</span>
</span><span id=__span-53-42><a id=__codelineno-53-42 name=__codelineno-53-42 href=#__codelineno-53-42></a>            <span class=s1>&#39;avg_latency&#39;</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>([</span><span class=n>m</span><span class=p>[</span><span class=s1>&#39;latency&#39;</span><span class=p>]</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>window_metrics</span><span class=p>]),</span>
</span><span id=__span-53-43><a id=__codelineno-53-43 name=__codelineno-53-43 href=#__codelineno-53-43></a>            <span class=s1>&#39;p95_latency&#39;</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>percentile</span><span class=p>([</span><span class=n>m</span><span class=p>[</span><span class=s1>&#39;latency&#39;</span><span class=p>]</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>window_metrics</span><span class=p>],</span> <span class=mi>95</span><span class=p>),</span>
</span><span id=__span-53-44><a id=__codelineno-53-44 name=__codelineno-53-44 href=#__codelineno-53-44></a>            <span class=s1>&#39;cache_hit_rate&#39;</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>([</span><span class=n>m</span><span class=p>[</span><span class=s1>&#39;cache_hit&#39;</span><span class=p>]</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>window_metrics</span><span class=p>]),</span>
</span><span id=__span-53-45><a id=__codelineno-53-45 name=__codelineno-53-45 href=#__codelineno-53-45></a>            <span class=s1>&#39;fallback_rate&#39;</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>([</span><span class=n>m</span><span class=p>[</span><span class=s1>&#39;fallback_used&#39;</span><span class=p>]</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>window_metrics</span><span class=p>]),</span>
</span><span id=__span-53-46><a id=__codelineno-53-46 name=__codelineno-53-46 href=#__codelineno-53-46></a>            <span class=s1>&#39;error_rate&#39;</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>([</span><span class=n>m</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;error&#39;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>window_metrics</span><span class=p>])</span>
</span><span id=__span-53-47><a id=__codelineno-53-47 name=__codelineno-53-47 href=#__codelineno-53-47></a>        <span class=p>}</span>
</span></code></pre></div> <h3 id=data-management><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#data-management>Data Management in Production ML</a></h3> <p>Data management is often the most underestimated aspect of MLOps. Poor data management can undermine even the best ML models.</p> <h4 id=data-versioning-and-lineage><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#data-versioning-and-lineage>Data Versioning and Lineage</a></h4> <p>One of the critical challenges we faced at Firstleaf was ensuring reproducibility of model training. This required comprehensive data versioning:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=k>class</span><span class=w> </span><span class=nc>DataVersionManager</span><span class=p>:</span>
</span><span id=__span-54-2><a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>storage_backend</span><span class=p>,</span> <span class=n>metadata_store</span><span class=p>):</span>
</span><span id=__span-54-3><a id=__codelineno-54-3 name=__codelineno-54-3 href=#__codelineno-54-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>storage</span> <span class=o>=</span> <span class=n>storage_backend</span>
</span><span id=__span-54-4><a id=__codelineno-54-4 name=__codelineno-54-4 href=#__codelineno-54-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>metadata</span> <span class=o>=</span> <span class=n>metadata_store</span>
</span><span id=__span-54-5><a id=__codelineno-54-5 name=__codelineno-54-5 href=#__codelineno-54-5></a>
</span><span id=__span-54-6><a id=__codelineno-54-6 name=__codelineno-54-6 href=#__codelineno-54-6></a>    <span class=k>def</span><span class=w> </span><span class=nf>create_dataset_version</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>dataset_name</span><span class=p>,</span> <span class=n>data_sources</span><span class=p>,</span> <span class=n>transformations</span><span class=p>):</span>
</span><span id=__span-54-7><a id=__codelineno-54-7 name=__codelineno-54-7 href=#__codelineno-54-7></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a new version of a dataset.&quot;&quot;&quot;</span>
</span><span id=__span-54-8><a id=__codelineno-54-8 name=__codelineno-54-8 href=#__codelineno-54-8></a>        <span class=n>version_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_version_id</span><span class=p>()</span>
</span><span id=__span-54-9><a id=__codelineno-54-9 name=__codelineno-54-9 href=#__codelineno-54-9></a>
</span><span id=__span-54-10><a id=__codelineno-54-10 name=__codelineno-54-10 href=#__codelineno-54-10></a>        <span class=c1># Apply transformations and store data</span>
</span><span id=__span-54-11><a id=__codelineno-54-11 name=__codelineno-54-11 href=#__codelineno-54-11></a>        <span class=n>processed_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>apply_transformations</span><span class=p>(</span><span class=n>data_sources</span><span class=p>,</span> <span class=n>transformations</span><span class=p>)</span>
</span><span id=__span-54-12><a id=__codelineno-54-12 name=__codelineno-54-12 href=#__codelineno-54-12></a>        <span class=n>data_path</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;datasets/</span><span class=si>{</span><span class=n>dataset_name</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=n>version_id</span><span class=si>}</span><span class=s2>/&quot;</span>
</span><span id=__span-54-13><a id=__codelineno-54-13 name=__codelineno-54-13 href=#__codelineno-54-13></a>        <span class=bp>self</span><span class=o>.</span><span class=n>storage</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>processed_data</span><span class=p>,</span> <span class=n>data_path</span><span class=p>)</span>
</span><span id=__span-54-14><a id=__codelineno-54-14 name=__codelineno-54-14 href=#__codelineno-54-14></a>
</span><span id=__span-54-15><a id=__codelineno-54-15 name=__codelineno-54-15 href=#__codelineno-54-15></a>        <span class=c1># Store metadata</span>
</span><span id=__span-54-16><a id=__codelineno-54-16 name=__codelineno-54-16 href=#__codelineno-54-16></a>        <span class=n>metadata</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-54-17><a id=__codelineno-54-17 name=__codelineno-54-17 href=#__codelineno-54-17></a>            <span class=s1>&#39;version_id&#39;</span><span class=p>:</span> <span class=n>version_id</span><span class=p>,</span>
</span><span id=__span-54-18><a id=__codelineno-54-18 name=__codelineno-54-18 href=#__codelineno-54-18></a>            <span class=s1>&#39;dataset_name&#39;</span><span class=p>:</span> <span class=n>dataset_name</span><span class=p>,</span>
</span><span id=__span-54-19><a id=__codelineno-54-19 name=__codelineno-54-19 href=#__codelineno-54-19></a>            <span class=s1>&#39;created_at&#39;</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>isoformat</span><span class=p>(),</span>
</span><span id=__span-54-20><a id=__codelineno-54-20 name=__codelineno-54-20 href=#__codelineno-54-20></a>            <span class=s1>&#39;data_sources&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-54-21><a id=__codelineno-54-21 name=__codelineno-54-21 href=#__codelineno-54-21></a>                <span class=p>{</span>
</span><span id=__span-54-22><a id=__codelineno-54-22 name=__codelineno-54-22 href=#__codelineno-54-22></a>                    <span class=s1>&#39;source&#39;</span><span class=p>:</span> <span class=n>source</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>],</span>
</span><span id=__span-54-23><a id=__codelineno-54-23 name=__codelineno-54-23 href=#__codelineno-54-23></a>                    <span class=s1>&#39;version&#39;</span><span class=p>:</span> <span class=n>source</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;version&#39;</span><span class=p>),</span>
</span><span id=__span-54-24><a id=__codelineno-54-24 name=__codelineno-54-24 href=#__codelineno-54-24></a>                    <span class=s1>&#39;checksum&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>calculate_checksum</span><span class=p>(</span><span class=n>source</span><span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>])</span>
</span><span id=__span-54-25><a id=__codelineno-54-25 name=__codelineno-54-25 href=#__codelineno-54-25></a>                <span class=p>}</span>
</span><span id=__span-54-26><a id=__codelineno-54-26 name=__codelineno-54-26 href=#__codelineno-54-26></a>                <span class=k>for</span> <span class=n>source</span> <span class=ow>in</span> <span class=n>data_sources</span>
</span><span id=__span-54-27><a id=__codelineno-54-27 name=__codelineno-54-27 href=#__codelineno-54-27></a>            <span class=p>],</span>
</span><span id=__span-54-28><a id=__codelineno-54-28 name=__codelineno-54-28 href=#__codelineno-54-28></a>            <span class=s1>&#39;transformations&#39;</span><span class=p>:</span> <span class=n>transformations</span><span class=p>,</span>
</span><span id=__span-54-29><a id=__codelineno-54-29 name=__codelineno-54-29 href=#__codelineno-54-29></a>            <span class=s1>&#39;schema&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>infer_schema</span><span class=p>(</span><span class=n>processed_data</span><span class=p>),</span>
</span><span id=__span-54-30><a id=__codelineno-54-30 name=__codelineno-54-30 href=#__codelineno-54-30></a>            <span class=s1>&#39;statistics&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>calculate_statistics</span><span class=p>(</span><span class=n>processed_data</span><span class=p>),</span>
</span><span id=__span-54-31><a id=__codelineno-54-31 name=__codelineno-54-31 href=#__codelineno-54-31></a>            <span class=s1>&#39;lineage&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>build_lineage_graph</span><span class=p>(</span><span class=n>data_sources</span><span class=p>,</span> <span class=n>transformations</span><span class=p>)</span>
</span><span id=__span-54-32><a id=__codelineno-54-32 name=__codelineno-54-32 href=#__codelineno-54-32></a>        <span class=p>}</span>
</span><span id=__span-54-33><a id=__codelineno-54-33 name=__codelineno-54-33 href=#__codelineno-54-33></a>
</span><span id=__span-54-34><a id=__codelineno-54-34 name=__codelineno-54-34 href=#__codelineno-54-34></a>        <span class=bp>self</span><span class=o>.</span><span class=n>metadata</span><span class=o>.</span><span class=n>save_dataset_version</span><span class=p>(</span><span class=n>metadata</span><span class=p>)</span>
</span><span id=__span-54-35><a id=__codelineno-54-35 name=__codelineno-54-35 href=#__codelineno-54-35></a>        <span class=k>return</span> <span class=n>version_id</span>
</span><span id=__span-54-36><a id=__codelineno-54-36 name=__codelineno-54-36 href=#__codelineno-54-36></a>
</span><span id=__span-54-37><a id=__codelineno-54-37 name=__codelineno-54-37 href=#__codelineno-54-37></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_dataset_lineage</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>dataset_name</span><span class=p>,</span> <span class=n>version_id</span><span class=p>):</span>
</span><span id=__span-54-38><a id=__codelineno-54-38 name=__codelineno-54-38 href=#__codelineno-54-38></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the complete lineage for a dataset version.&quot;&quot;&quot;</span>
</span><span id=__span-54-39><a id=__codelineno-54-39 name=__codelineno-54-39 href=#__codelineno-54-39></a>        <span class=n>metadata</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>metadata</span><span class=o>.</span><span class=n>get_dataset_version</span><span class=p>(</span><span class=n>dataset_name</span><span class=p>,</span> <span class=n>version_id</span><span class=p>)</span>
</span><span id=__span-54-40><a id=__codelineno-54-40 name=__codelineno-54-40 href=#__codelineno-54-40></a>
</span><span id=__span-54-41><a id=__codelineno-54-41 name=__codelineno-54-41 href=#__codelineno-54-41></a>        <span class=n>lineage_graph</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-54-42><a id=__codelineno-54-42 name=__codelineno-54-42 href=#__codelineno-54-42></a>            <span class=s1>&#39;dataset&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-54-43><a id=__codelineno-54-43 name=__codelineno-54-43 href=#__codelineno-54-43></a>                <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=n>dataset_name</span><span class=p>,</span>
</span><span id=__span-54-44><a id=__codelineno-54-44 name=__codelineno-54-44 href=#__codelineno-54-44></a>                <span class=s1>&#39;version&#39;</span><span class=p>:</span> <span class=n>version_id</span>
</span><span id=__span-54-45><a id=__codelineno-54-45 name=__codelineno-54-45 href=#__codelineno-54-45></a>            <span class=p>},</span>
</span><span id=__span-54-46><a id=__codelineno-54-46 name=__codelineno-54-46 href=#__codelineno-54-46></a>            <span class=s1>&#39;sources&#39;</span><span class=p>:</span> <span class=p>[],</span>
</span><span id=__span-54-47><a id=__codelineno-54-47 name=__codelineno-54-47 href=#__codelineno-54-47></a>            <span class=s1>&#39;transformations&#39;</span><span class=p>:</span> <span class=n>metadata</span><span class=p>[</span><span class=s1>&#39;transformations&#39;</span><span class=p>]</span>
</span><span id=__span-54-48><a id=__codelineno-54-48 name=__codelineno-54-48 href=#__codelineno-54-48></a>        <span class=p>}</span>
</span><span id=__span-54-49><a id=__codelineno-54-49 name=__codelineno-54-49 href=#__codelineno-54-49></a>
</span><span id=__span-54-50><a id=__codelineno-54-50 name=__codelineno-54-50 href=#__codelineno-54-50></a>        <span class=k>for</span> <span class=n>source</span> <span class=ow>in</span> <span class=n>metadata</span><span class=p>[</span><span class=s1>&#39;data_sources&#39;</span><span class=p>]:</span>
</span><span id=__span-54-51><a id=__codelineno-54-51 name=__codelineno-54-51 href=#__codelineno-54-51></a>            <span class=n>source_lineage</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-54-52><a id=__codelineno-54-52 name=__codelineno-54-52 href=#__codelineno-54-52></a>                <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=n>source</span><span class=p>[</span><span class=s1>&#39;source&#39;</span><span class=p>],</span>
</span><span id=__span-54-53><a id=__codelineno-54-53 name=__codelineno-54-53 href=#__codelineno-54-53></a>                <span class=s1>&#39;version&#39;</span><span class=p>:</span> <span class=n>source</span><span class=p>[</span><span class=s1>&#39;version&#39;</span><span class=p>],</span>
</span><span id=__span-54-54><a id=__codelineno-54-54 name=__codelineno-54-54 href=#__codelineno-54-54></a>                <span class=s1>&#39;checksum&#39;</span><span class=p>:</span> <span class=n>source</span><span class=p>[</span><span class=s1>&#39;checksum&#39;</span><span class=p>]</span>
</span><span id=__span-54-55><a id=__codelineno-54-55 name=__codelineno-54-55 href=#__codelineno-54-55></a>            <span class=p>}</span>
</span><span id=__span-54-56><a id=__codelineno-54-56 name=__codelineno-54-56 href=#__codelineno-54-56></a>
</span><span id=__span-54-57><a id=__codelineno-54-57 name=__codelineno-54-57 href=#__codelineno-54-57></a>            <span class=c1># Recursively get source lineage if it&#39;s a derived dataset</span>
</span><span id=__span-54-58><a id=__codelineno-54-58 name=__codelineno-54-58 href=#__codelineno-54-58></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_derived_dataset</span><span class=p>(</span><span class=n>source</span><span class=p>[</span><span class=s1>&#39;source&#39;</span><span class=p>]):</span>
</span><span id=__span-54-59><a id=__codelineno-54-59 name=__codelineno-54-59 href=#__codelineno-54-59></a>                <span class=n>source_lineage</span><span class=p>[</span><span class=s1>&#39;upstream&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_dataset_lineage</span><span class=p>(</span>
</span><span id=__span-54-60><a id=__codelineno-54-60 name=__codelineno-54-60 href=#__codelineno-54-60></a>                    <span class=n>source</span><span class=p>[</span><span class=s1>&#39;source&#39;</span><span class=p>],</span> <span class=n>source</span><span class=p>[</span><span class=s1>&#39;version&#39;</span><span class=p>]</span>
</span><span id=__span-54-61><a id=__codelineno-54-61 name=__codelineno-54-61 href=#__codelineno-54-61></a>                <span class=p>)</span>
</span><span id=__span-54-62><a id=__codelineno-54-62 name=__codelineno-54-62 href=#__codelineno-54-62></a>
</span><span id=__span-54-63><a id=__codelineno-54-63 name=__codelineno-54-63 href=#__codelineno-54-63></a>            <span class=n>lineage_graph</span><span class=p>[</span><span class=s1>&#39;sources&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>source_lineage</span><span class=p>)</span>
</span><span id=__span-54-64><a id=__codelineno-54-64 name=__codelineno-54-64 href=#__codelineno-54-64></a>
</span><span id=__span-54-65><a id=__codelineno-54-65 name=__codelineno-54-65 href=#__codelineno-54-65></a>        <span class=k>return</span> <span class=n>lineage_graph</span>
</span></code></pre></div> <h4 id=data-quality-monitoring><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#data-quality-monitoring>Data Quality Monitoring</a></h4> <p>Automated data quality monitoring is essential for production ML systems:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=k>class</span><span class=w> </span><span class=nc>DataQualityMonitor</span><span class=p>:</span>
</span><span id=__span-55-2><a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>schema_config</span><span class=p>,</span> <span class=n>quality_rules</span><span class=p>):</span>
</span><span id=__span-55-3><a id=__codelineno-55-3 name=__codelineno-55-3 href=#__codelineno-55-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>schema</span> <span class=o>=</span> <span class=n>schema_config</span>
</span><span id=__span-55-4><a id=__codelineno-55-4 name=__codelineno-55-4 href=#__codelineno-55-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>quality_rules</span> <span class=o>=</span> <span class=n>quality_rules</span>
</span><span id=__span-55-5><a id=__codelineno-55-5 name=__codelineno-55-5 href=#__codelineno-55-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>baseline_stats</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-55-6><a id=__codelineno-55-6 name=__codelineno-55-6 href=#__codelineno-55-6></a>
</span><span id=__span-55-7><a id=__codelineno-55-7 name=__codelineno-55-7 href=#__codelineno-55-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>validate_data_batch</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data_batch</span><span class=p>,</span> <span class=n>dataset_name</span><span class=p>):</span>
</span><span id=__span-55-8><a id=__codelineno-55-8 name=__codelineno-55-8 href=#__codelineno-55-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate a batch of incoming data.&quot;&quot;&quot;</span>
</span><span id=__span-55-9><a id=__codelineno-55-9 name=__codelineno-55-9 href=#__codelineno-55-9></a>        <span class=n>validation_results</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-55-10><a id=__codelineno-55-10 name=__codelineno-55-10 href=#__codelineno-55-10></a>            <span class=s1>&#39;batch_id&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_batch_id</span><span class=p>(),</span>
</span><span id=__span-55-11><a id=__codelineno-55-11 name=__codelineno-55-11 href=#__codelineno-55-11></a>            <span class=s1>&#39;dataset_name&#39;</span><span class=p>:</span> <span class=n>dataset_name</span><span class=p>,</span>
</span><span id=__span-55-12><a id=__codelineno-55-12 name=__codelineno-55-12 href=#__codelineno-55-12></a>            <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>isoformat</span><span class=p>(),</span>
</span><span id=__span-55-13><a id=__codelineno-55-13 name=__codelineno-55-13 href=#__codelineno-55-13></a>            <span class=s1>&#39;record_count&#39;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>data_batch</span><span class=p>),</span>
</span><span id=__span-55-14><a id=__codelineno-55-14 name=__codelineno-55-14 href=#__codelineno-55-14></a>            <span class=s1>&#39;schema_violations&#39;</span><span class=p>:</span> <span class=p>[],</span>
</span><span id=__span-55-15><a id=__codelineno-55-15 name=__codelineno-55-15 href=#__codelineno-55-15></a>            <span class=s1>&#39;quality_violations&#39;</span><span class=p>:</span> <span class=p>[],</span>
</span><span id=__span-55-16><a id=__codelineno-55-16 name=__codelineno-55-16 href=#__codelineno-55-16></a>            <span class=s1>&#39;statistics&#39;</span><span class=p>:</span> <span class=p>{}</span>
</span><span id=__span-55-17><a id=__codelineno-55-17 name=__codelineno-55-17 href=#__codelineno-55-17></a>        <span class=p>}</span>
</span><span id=__span-55-18><a id=__codelineno-55-18 name=__codelineno-55-18 href=#__codelineno-55-18></a>
</span><span id=__span-55-19><a id=__codelineno-55-19 name=__codelineno-55-19 href=#__codelineno-55-19></a>        <span class=c1># Schema validation</span>
</span><span id=__span-55-20><a id=__codelineno-55-20 name=__codelineno-55-20 href=#__codelineno-55-20></a>        <span class=n>schema_violations</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>validate_schema</span><span class=p>(</span><span class=n>data_batch</span><span class=p>)</span>
</span><span id=__span-55-21><a id=__codelineno-55-21 name=__codelineno-55-21 href=#__codelineno-55-21></a>        <span class=n>validation_results</span><span class=p>[</span><span class=s1>&#39;schema_violations&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>schema_violations</span>
</span><span id=__span-55-22><a id=__codelineno-55-22 name=__codelineno-55-22 href=#__codelineno-55-22></a>
</span><span id=__span-55-23><a id=__codelineno-55-23 name=__codelineno-55-23 href=#__codelineno-55-23></a>        <span class=c1># Quality rule validation</span>
</span><span id=__span-55-24><a id=__codelineno-55-24 name=__codelineno-55-24 href=#__codelineno-55-24></a>        <span class=n>quality_violations</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>validate_quality_rules</span><span class=p>(</span><span class=n>data_batch</span><span class=p>)</span>
</span><span id=__span-55-25><a id=__codelineno-55-25 name=__codelineno-55-25 href=#__codelineno-55-25></a>        <span class=n>validation_results</span><span class=p>[</span><span class=s1>&#39;quality_violations&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>quality_violations</span>
</span><span id=__span-55-26><a id=__codelineno-55-26 name=__codelineno-55-26 href=#__codelineno-55-26></a>
</span><span id=__span-55-27><a id=__codelineno-55-27 name=__codelineno-55-27 href=#__codelineno-55-27></a>        <span class=c1># Statistical analysis</span>
</span><span id=__span-55-28><a id=__codelineno-55-28 name=__codelineno-55-28 href=#__codelineno-55-28></a>        <span class=n>current_stats</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>calculate_batch_statistics</span><span class=p>(</span><span class=n>data_batch</span><span class=p>)</span>
</span><span id=__span-55-29><a id=__codelineno-55-29 name=__codelineno-55-29 href=#__codelineno-55-29></a>        <span class=n>validation_results</span><span class=p>[</span><span class=s1>&#39;statistics&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>current_stats</span>
</span><span id=__span-55-30><a id=__codelineno-55-30 name=__codelineno-55-30 href=#__codelineno-55-30></a>
</span><span id=__span-55-31><a id=__codelineno-55-31 name=__codelineno-55-31 href=#__codelineno-55-31></a>        <span class=c1># Compare with baseline</span>
</span><span id=__span-55-32><a id=__codelineno-55-32 name=__codelineno-55-32 href=#__codelineno-55-32></a>        <span class=k>if</span> <span class=n>dataset_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>baseline_stats</span><span class=p>:</span>
</span><span id=__span-55-33><a id=__codelineno-55-33 name=__codelineno-55-33 href=#__codelineno-55-33></a>            <span class=n>drift_analysis</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>detect_statistical_drift</span><span class=p>(</span>
</span><span id=__span-55-34><a id=__codelineno-55-34 name=__codelineno-55-34 href=#__codelineno-55-34></a>                <span class=bp>self</span><span class=o>.</span><span class=n>baseline_stats</span><span class=p>[</span><span class=n>dataset_name</span><span class=p>],</span> <span class=n>current_stats</span>
</span><span id=__span-55-35><a id=__codelineno-55-35 name=__codelineno-55-35 href=#__codelineno-55-35></a>            <span class=p>)</span>
</span><span id=__span-55-36><a id=__codelineno-55-36 name=__codelineno-55-36 href=#__codelineno-55-36></a>            <span class=n>validation_results</span><span class=p>[</span><span class=s1>&#39;drift_analysis&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>drift_analysis</span>
</span><span id=__span-55-37><a id=__codelineno-55-37 name=__codelineno-55-37 href=#__codelineno-55-37></a>
</span><span id=__span-55-38><a id=__codelineno-55-38 name=__codelineno-55-38 href=#__codelineno-55-38></a>        <span class=c1># Update baseline if data is good</span>
</span><span id=__span-55-39><a id=__codelineno-55-39 name=__codelineno-55-39 href=#__codelineno-55-39></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>schema_violations</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>quality_violations</span><span class=p>:</span>
</span><span id=__span-55-40><a id=__codelineno-55-40 name=__codelineno-55-40 href=#__codelineno-55-40></a>            <span class=bp>self</span><span class=o>.</span><span class=n>update_baseline_stats</span><span class=p>(</span><span class=n>dataset_name</span><span class=p>,</span> <span class=n>current_stats</span><span class=p>)</span>
</span><span id=__span-55-41><a id=__codelineno-55-41 name=__codelineno-55-41 href=#__codelineno-55-41></a>
</span><span id=__span-55-42><a id=__codelineno-55-42 name=__codelineno-55-42 href=#__codelineno-55-42></a>        <span class=k>return</span> <span class=n>validation_results</span>
</span><span id=__span-55-43><a id=__codelineno-55-43 name=__codelineno-55-43 href=#__codelineno-55-43></a>
</span><span id=__span-55-44><a id=__codelineno-55-44 name=__codelineno-55-44 href=#__codelineno-55-44></a>    <span class=k>def</span><span class=w> </span><span class=nf>validate_quality_rules</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data_batch</span><span class=p>):</span>
</span><span id=__span-55-45><a id=__codelineno-55-45 name=__codelineno-55-45 href=#__codelineno-55-45></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Apply custom quality rules to data.&quot;&quot;&quot;</span>
</span><span id=__span-55-46><a id=__codelineno-55-46 name=__codelineno-55-46 href=#__codelineno-55-46></a>        <span class=n>violations</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-55-47><a id=__codelineno-55-47 name=__codelineno-55-47 href=#__codelineno-55-47></a>
</span><span id=__span-55-48><a id=__codelineno-55-48 name=__codelineno-55-48 href=#__codelineno-55-48></a>        <span class=k>for</span> <span class=n>rule</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>quality_rules</span><span class=p>:</span>
</span><span id=__span-55-49><a id=__codelineno-55-49 name=__codelineno-55-49 href=#__codelineno-55-49></a>            <span class=n>rule_name</span> <span class=o>=</span> <span class=n>rule</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span>
</span><span id=__span-55-50><a id=__codelineno-55-50 name=__codelineno-55-50 href=#__codelineno-55-50></a>            <span class=n>rule_type</span> <span class=o>=</span> <span class=n>rule</span><span class=p>[</span><span class=s1>&#39;type&#39;</span><span class=p>]</span>
</span><span id=__span-55-51><a id=__codelineno-55-51 name=__codelineno-55-51 href=#__codelineno-55-51></a>
</span><span id=__span-55-52><a id=__codelineno-55-52 name=__codelineno-55-52 href=#__codelineno-55-52></a>            <span class=k>if</span> <span class=n>rule_type</span> <span class=o>==</span> <span class=s1>&#39;completeness&#39;</span><span class=p>:</span>
</span><span id=__span-55-53><a id=__codelineno-55-53 name=__codelineno-55-53 href=#__codelineno-55-53></a>                <span class=c1># Check for null values</span>
</span><span id=__span-55-54><a id=__codelineno-55-54 name=__codelineno-55-54 href=#__codelineno-55-54></a>                <span class=n>null_threshold</span> <span class=o>=</span> <span class=n>rule</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;null_threshold&#39;</span><span class=p>,</span> <span class=mf>0.05</span><span class=p>)</span>
</span><span id=__span-55-55><a id=__codelineno-55-55 name=__codelineno-55-55 href=#__codelineno-55-55></a>                <span class=k>for</span> <span class=n>column</span> <span class=ow>in</span> <span class=n>rule</span><span class=p>[</span><span class=s1>&#39;columns&#39;</span><span class=p>]:</span>
</span><span id=__span-55-56><a id=__codelineno-55-56 name=__codelineno-55-56 href=#__codelineno-55-56></a>                    <span class=n>null_rate</span> <span class=o>=</span> <span class=n>data_batch</span><span class=p>[</span><span class=n>column</span><span class=p>]</span><span class=o>.</span><span class=n>isnull</span><span class=p>()</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span><span id=__span-55-57><a id=__codelineno-55-57 name=__codelineno-55-57 href=#__codelineno-55-57></a>                    <span class=k>if</span> <span class=n>null_rate</span> <span class=o>&gt;</span> <span class=n>null_threshold</span><span class=p>:</span>
</span><span id=__span-55-58><a id=__codelineno-55-58 name=__codelineno-55-58 href=#__codelineno-55-58></a>                        <span class=n>violations</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
</span><span id=__span-55-59><a id=__codelineno-55-59 name=__codelineno-55-59 href=#__codelineno-55-59></a>                            <span class=s1>&#39;rule&#39;</span><span class=p>:</span> <span class=n>rule_name</span><span class=p>,</span>
</span><span id=__span-55-60><a id=__codelineno-55-60 name=__codelineno-55-60 href=#__codelineno-55-60></a>                            <span class=s1>&#39;column&#39;</span><span class=p>:</span> <span class=n>column</span><span class=p>,</span>
</span><span id=__span-55-61><a id=__codelineno-55-61 name=__codelineno-55-61 href=#__codelineno-55-61></a>                            <span class=s1>&#39;violation_type&#39;</span><span class=p>:</span> <span class=s1>&#39;high_null_rate&#39;</span><span class=p>,</span>
</span><span id=__span-55-62><a id=__codelineno-55-62 name=__codelineno-55-62 href=#__codelineno-55-62></a>                            <span class=s1>&#39;value&#39;</span><span class=p>:</span> <span class=n>null_rate</span><span class=p>,</span>
</span><span id=__span-55-63><a id=__codelineno-55-63 name=__codelineno-55-63 href=#__codelineno-55-63></a>                            <span class=s1>&#39;threshold&#39;</span><span class=p>:</span> <span class=n>null_threshold</span>
</span><span id=__span-55-64><a id=__codelineno-55-64 name=__codelineno-55-64 href=#__codelineno-55-64></a>                        <span class=p>})</span>
</span><span id=__span-55-65><a id=__codelineno-55-65 name=__codelineno-55-65 href=#__codelineno-55-65></a>
</span><span id=__span-55-66><a id=__codelineno-55-66 name=__codelineno-55-66 href=#__codelineno-55-66></a>            <span class=k>elif</span> <span class=n>rule_type</span> <span class=o>==</span> <span class=s1>&#39;uniqueness&#39;</span><span class=p>:</span>
</span><span id=__span-55-67><a id=__codelineno-55-67 name=__codelineno-55-67 href=#__codelineno-55-67></a>                <span class=c1># Check for duplicates</span>
</span><span id=__span-55-68><a id=__codelineno-55-68 name=__codelineno-55-68 href=#__codelineno-55-68></a>                <span class=n>duplicate_threshold</span> <span class=o>=</span> <span class=n>rule</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;duplicate_threshold&#39;</span><span class=p>,</span> <span class=mf>0.01</span><span class=p>)</span>
</span><span id=__span-55-69><a id=__codelineno-55-69 name=__codelineno-55-69 href=#__codelineno-55-69></a>                <span class=k>for</span> <span class=n>column</span> <span class=ow>in</span> <span class=n>rule</span><span class=p>[</span><span class=s1>&#39;columns&#39;</span><span class=p>]:</span>
</span><span id=__span-55-70><a id=__codelineno-55-70 name=__codelineno-55-70 href=#__codelineno-55-70></a>                    <span class=n>duplicate_rate</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>-</span> <span class=p>(</span><span class=n>data_batch</span><span class=p>[</span><span class=n>column</span><span class=p>]</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>data_batch</span><span class=p>))</span>
</span><span id=__span-55-71><a id=__codelineno-55-71 name=__codelineno-55-71 href=#__codelineno-55-71></a>                    <span class=k>if</span> <span class=n>duplicate_rate</span> <span class=o>&gt;</span> <span class=n>duplicate_threshold</span><span class=p>:</span>
</span><span id=__span-55-72><a id=__codelineno-55-72 name=__codelineno-55-72 href=#__codelineno-55-72></a>                        <span class=n>violations</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
</span><span id=__span-55-73><a id=__codelineno-55-73 name=__codelineno-55-73 href=#__codelineno-55-73></a>                            <span class=s1>&#39;rule&#39;</span><span class=p>:</span> <span class=n>rule_name</span><span class=p>,</span>
</span><span id=__span-55-74><a id=__codelineno-55-74 name=__codelineno-55-74 href=#__codelineno-55-74></a>                            <span class=s1>&#39;column&#39;</span><span class=p>:</span> <span class=n>column</span><span class=p>,</span>
</span><span id=__span-55-75><a id=__codelineno-55-75 name=__codelineno-55-75 href=#__codelineno-55-75></a>                            <span class=s1>&#39;violation_type&#39;</span><span class=p>:</span> <span class=s1>&#39;high_duplicate_rate&#39;</span><span class=p>,</span>
</span><span id=__span-55-76><a id=__codelineno-55-76 name=__codelineno-55-76 href=#__codelineno-55-76></a>                            <span class=s1>&#39;value&#39;</span><span class=p>:</span> <span class=n>duplicate_rate</span><span class=p>,</span>
</span><span id=__span-55-77><a id=__codelineno-55-77 name=__codelineno-55-77 href=#__codelineno-55-77></a>                            <span class=s1>&#39;threshold&#39;</span><span class=p>:</span> <span class=n>duplicate_threshold</span>
</span><span id=__span-55-78><a id=__codelineno-55-78 name=__codelineno-55-78 href=#__codelineno-55-78></a>                        <span class=p>})</span>
</span><span id=__span-55-79><a id=__codelineno-55-79 name=__codelineno-55-79 href=#__codelineno-55-79></a>
</span><span id=__span-55-80><a id=__codelineno-55-80 name=__codelineno-55-80 href=#__codelineno-55-80></a>            <span class=k>elif</span> <span class=n>rule_type</span> <span class=o>==</span> <span class=s1>&#39;range&#39;</span><span class=p>:</span>
</span><span id=__span-55-81><a id=__codelineno-55-81 name=__codelineno-55-81 href=#__codelineno-55-81></a>                <span class=c1># Check value ranges</span>
</span><span id=__span-55-82><a id=__codelineno-55-82 name=__codelineno-55-82 href=#__codelineno-55-82></a>                <span class=k>for</span> <span class=n>column</span> <span class=ow>in</span> <span class=n>rule</span><span class=p>[</span><span class=s1>&#39;columns&#39;</span><span class=p>]:</span>
</span><span id=__span-55-83><a id=__codelineno-55-83 name=__codelineno-55-83 href=#__codelineno-55-83></a>                    <span class=n>min_val</span><span class=p>,</span> <span class=n>max_val</span> <span class=o>=</span> <span class=n>rule</span><span class=p>[</span><span class=s1>&#39;range&#39;</span><span class=p>]</span>
</span><span id=__span-55-84><a id=__codelineno-55-84 name=__codelineno-55-84 href=#__codelineno-55-84></a>                    <span class=n>out_of_range</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-55-85><a id=__codelineno-55-85 name=__codelineno-55-85 href=#__codelineno-55-85></a>                        <span class=p>(</span><span class=n>data_batch</span><span class=p>[</span><span class=n>column</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>min_val</span><span class=p>)</span> <span class=o>|</span>
</span><span id=__span-55-86><a id=__codelineno-55-86 name=__codelineno-55-86 href=#__codelineno-55-86></a>                        <span class=p>(</span><span class=n>data_batch</span><span class=p>[</span><span class=n>column</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>max_val</span><span class=p>)</span>
</span><span id=__span-55-87><a id=__codelineno-55-87 name=__codelineno-55-87 href=#__codelineno-55-87></a>                    <span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span><span id=__span-55-88><a id=__codelineno-55-88 name=__codelineno-55-88 href=#__codelineno-55-88></a>
</span><span id=__span-55-89><a id=__codelineno-55-89 name=__codelineno-55-89 href=#__codelineno-55-89></a>                    <span class=k>if</span> <span class=n>out_of_range</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-55-90><a id=__codelineno-55-90 name=__codelineno-55-90 href=#__codelineno-55-90></a>                        <span class=n>violations</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
</span><span id=__span-55-91><a id=__codelineno-55-91 name=__codelineno-55-91 href=#__codelineno-55-91></a>                            <span class=s1>&#39;rule&#39;</span><span class=p>:</span> <span class=n>rule_name</span><span class=p>,</span>
</span><span id=__span-55-92><a id=__codelineno-55-92 name=__codelineno-55-92 href=#__codelineno-55-92></a>                            <span class=s1>&#39;column&#39;</span><span class=p>:</span> <span class=n>column</span><span class=p>,</span>
</span><span id=__span-55-93><a id=__codelineno-55-93 name=__codelineno-55-93 href=#__codelineno-55-93></a>                            <span class=s1>&#39;violation_type&#39;</span><span class=p>:</span> <span class=s1>&#39;out_of_range&#39;</span><span class=p>,</span>
</span><span id=__span-55-94><a id=__codelineno-55-94 name=__codelineno-55-94 href=#__codelineno-55-94></a>                            <span class=s1>&#39;count&#39;</span><span class=p>:</span> <span class=n>out_of_range</span><span class=p>,</span>
</span><span id=__span-55-95><a id=__codelineno-55-95 name=__codelineno-55-95 href=#__codelineno-55-95></a>                            <span class=s1>&#39;range&#39;</span><span class=p>:</span> <span class=p>[</span><span class=n>min_val</span><span class=p>,</span> <span class=n>max_val</span><span class=p>]</span>
</span><span id=__span-55-96><a id=__codelineno-55-96 name=__codelineno-55-96 href=#__codelineno-55-96></a>                        <span class=p>})</span>
</span><span id=__span-55-97><a id=__codelineno-55-97 name=__codelineno-55-97 href=#__codelineno-55-97></a>
</span><span id=__span-55-98><a id=__codelineno-55-98 name=__codelineno-55-98 href=#__codelineno-55-98></a>        <span class=k>return</span> <span class=n>violations</span>
</span></code></pre></div> <h3 id=business-integration><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#business-integration>Business Integration and Value Realization</a></h3> <p>One of the biggest challenges in MLOps is demonstrating and measuring business value. Technical metrics like model accuracy are important, but business stakeholders care about impact on revenue, customer satisfaction, and operational efficiency.</p> <h4 id=measuring-business-impact><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#measuring-business-impact>Measuring Business Impact</a></h4> <p>At Firstleaf, we developed a comprehensive system for measuring the business impact of our ML models:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=k>class</span><span class=w> </span><span class=nc>BusinessImpactTracker</span><span class=p>:</span>
</span><span id=__span-56-2><a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>):</span>
</span><span id=__span-56-3><a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>impact_metrics</span> <span class=o>=</span> <span class=n>config</span><span class=p>[</span><span class=s1>&#39;impact_metrics&#39;</span><span class=p>]</span>
</span><span id=__span-56-4><a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>attribution_window</span> <span class=o>=</span> <span class=n>config</span><span class=p>[</span><span class=s1>&#39;attribution_window&#39;</span><span class=p>]</span>
</span><span id=__span-56-5><a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>control_group_size</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;control_group_size&#39;</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>)</span>
</span><span id=__span-56-6><a id=__codelineno-56-6 name=__codelineno-56-6 href=#__codelineno-56-6></a>
</span><span id=__span-56-7><a id=__codelineno-56-7 name=__codelineno-56-7 href=#__codelineno-56-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>track_recommendation_impact</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>,</span> <span class=n>recommendations</span><span class=p>,</span> <span class=n>timestamp</span><span class=p>):</span>
</span><span id=__span-56-8><a id=__codelineno-56-8 name=__codelineno-56-8 href=#__codelineno-56-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Track the business impact of recommendations.&quot;&quot;&quot;</span>
</span><span id=__span-56-9><a id=__codelineno-56-9 name=__codelineno-56-9 href=#__codelineno-56-9></a>
</span><span id=__span-56-10><a id=__codelineno-56-10 name=__codelineno-56-10 href=#__codelineno-56-10></a>        <span class=c1># Store the recommendations</span>
</span><span id=__span-56-11><a id=__codelineno-56-11 name=__codelineno-56-11 href=#__codelineno-56-11></a>        <span class=bp>self</span><span class=o>.</span><span class=n>store_recommendation_event</span><span class=p>({</span>
</span><span id=__span-56-12><a id=__codelineno-56-12 name=__codelineno-56-12 href=#__codelineno-56-12></a>            <span class=s1>&#39;user_id&#39;</span><span class=p>:</span> <span class=n>user_id</span><span class=p>,</span>
</span><span id=__span-56-13><a id=__codelineno-56-13 name=__codelineno-56-13 href=#__codelineno-56-13></a>            <span class=s1>&#39;recommendations&#39;</span><span class=p>:</span> <span class=n>recommendations</span><span class=p>,</span>
</span><span id=__span-56-14><a id=__codelineno-56-14 name=__codelineno-56-14 href=#__codelineno-56-14></a>            <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=n>timestamp</span><span class=p>,</span>
</span><span id=__span-56-15><a id=__codelineno-56-15 name=__codelineno-56-15 href=#__codelineno-56-15></a>            <span class=s1>&#39;model_version&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_current_model_version</span><span class=p>(),</span>
</span><span id=__span-56-16><a id=__codelineno-56-16 name=__codelineno-56-16 href=#__codelineno-56-16></a>            <span class=s1>&#39;treatment_group&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_user_treatment_group</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>
</span><span id=__span-56-17><a id=__codelineno-56-17 name=__codelineno-56-17 href=#__codelineno-56-17></a>        <span class=p>})</span>
</span><span id=__span-56-18><a id=__codelineno-56-18 name=__codelineno-56-18 href=#__codelineno-56-18></a>
</span><span id=__span-56-19><a id=__codelineno-56-19 name=__codelineno-56-19 href=#__codelineno-56-19></a>        <span class=c1># Set up tracking for downstream events</span>
</span><span id=__span-56-20><a id=__codelineno-56-20 name=__codelineno-56-20 href=#__codelineno-56-20></a>        <span class=bp>self</span><span class=o>.</span><span class=n>setup_conversion_tracking</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>timestamp</span><span class=p>)</span>
</span><span id=__span-56-21><a id=__codelineno-56-21 name=__codelineno-56-21 href=#__codelineno-56-21></a>
</span><span id=__span-56-22><a id=__codelineno-56-22 name=__codelineno-56-22 href=#__codelineno-56-22></a>    <span class=k>def</span><span class=w> </span><span class=nf>calculate_recommendation_lift</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>time_period</span><span class=p>):</span>
</span><span id=__span-56-23><a id=__codelineno-56-23 name=__codelineno-56-23 href=#__codelineno-56-23></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Calculate the lift from ML recommendations vs. control group.&quot;&quot;&quot;</span>
</span><span id=__span-56-24><a id=__codelineno-56-24 name=__codelineno-56-24 href=#__codelineno-56-24></a>
</span><span id=__span-56-25><a id=__codelineno-56-25 name=__codelineno-56-25 href=#__codelineno-56-25></a>        <span class=c1># Get treatment and control group data</span>
</span><span id=__span-56-26><a id=__codelineno-56-26 name=__codelineno-56-26 href=#__codelineno-56-26></a>        <span class=n>treatment_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_user_events</span><span class=p>(</span>
</span><span id=__span-56-27><a id=__codelineno-56-27 name=__codelineno-56-27 href=#__codelineno-56-27></a>            <span class=n>time_period</span><span class=p>,</span>
</span><span id=__span-56-28><a id=__codelineno-56-28 name=__codelineno-56-28 href=#__codelineno-56-28></a>            <span class=n>treatment_group</span><span class=o>=</span><span class=s1>&#39;ml_recommendations&#39;</span>
</span><span id=__span-56-29><a id=__codelineno-56-29 name=__codelineno-56-29 href=#__codelineno-56-29></a>        <span class=p>)</span>
</span><span id=__span-56-30><a id=__codelineno-56-30 name=__codelineno-56-30 href=#__codelineno-56-30></a>        <span class=n>control_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_user_events</span><span class=p>(</span>
</span><span id=__span-56-31><a id=__codelineno-56-31 name=__codelineno-56-31 href=#__codelineno-56-31></a>            <span class=n>time_period</span><span class=p>,</span>
</span><span id=__span-56-32><a id=__codelineno-56-32 name=__codelineno-56-32 href=#__codelineno-56-32></a>            <span class=n>treatment_group</span><span class=o>=</span><span class=s1>&#39;non_personalized&#39;</span>
</span><span id=__span-56-33><a id=__codelineno-56-33 name=__codelineno-56-33 href=#__codelineno-56-33></a>        <span class=p>)</span>
</span><span id=__span-56-34><a id=__codelineno-56-34 name=__codelineno-56-34 href=#__codelineno-56-34></a>
</span><span id=__span-56-35><a id=__codelineno-56-35 name=__codelineno-56-35 href=#__codelineno-56-35></a>        <span class=c1># Calculate key metrics for both groups</span>
</span><span id=__span-56-36><a id=__codelineno-56-36 name=__codelineno-56-36 href=#__codelineno-56-36></a>        <span class=n>treatment_metrics</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>calculate_group_metrics</span><span class=p>(</span><span class=n>treatment_data</span><span class=p>)</span>
</span><span id=__span-56-37><a id=__codelineno-56-37 name=__codelineno-56-37 href=#__codelineno-56-37></a>        <span class=n>control_metrics</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>calculate_group_metrics</span><span class=p>(</span><span class=n>control_data</span><span class=p>)</span>
</span><span id=__span-56-38><a id=__codelineno-56-38 name=__codelineno-56-38 href=#__codelineno-56-38></a>
</span><span id=__span-56-39><a id=__codelineno-56-39 name=__codelineno-56-39 href=#__codelineno-56-39></a>        <span class=c1># Calculate lift</span>
</span><span id=__span-56-40><a id=__codelineno-56-40 name=__codelineno-56-40 href=#__codelineno-56-40></a>        <span class=n>lift_results</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-56-41><a id=__codelineno-56-41 name=__codelineno-56-41 href=#__codelineno-56-41></a>        <span class=k>for</span> <span class=n>metric_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>impact_metrics</span><span class=p>:</span>
</span><span id=__span-56-42><a id=__codelineno-56-42 name=__codelineno-56-42 href=#__codelineno-56-42></a>            <span class=n>treatment_value</span> <span class=o>=</span> <span class=n>treatment_metrics</span><span class=p>[</span><span class=n>metric_name</span><span class=p>]</span>
</span><span id=__span-56-43><a id=__codelineno-56-43 name=__codelineno-56-43 href=#__codelineno-56-43></a>            <span class=n>control_value</span> <span class=o>=</span> <span class=n>control_metrics</span><span class=p>[</span><span class=n>metric_name</span><span class=p>]</span>
</span><span id=__span-56-44><a id=__codelineno-56-44 name=__codelineno-56-44 href=#__codelineno-56-44></a>
</span><span id=__span-56-45><a id=__codelineno-56-45 name=__codelineno-56-45 href=#__codelineno-56-45></a>            <span class=k>if</span> <span class=n>control_value</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-56-46><a id=__codelineno-56-46 name=__codelineno-56-46 href=#__codelineno-56-46></a>                <span class=n>lift</span> <span class=o>=</span> <span class=p>(</span><span class=n>treatment_value</span> <span class=o>-</span> <span class=n>control_value</span><span class=p>)</span> <span class=o>/</span> <span class=n>control_value</span>
</span><span id=__span-56-47><a id=__codelineno-56-47 name=__codelineno-56-47 href=#__codelineno-56-47></a>                <span class=n>lift_results</span><span class=p>[</span><span class=n>metric_name</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-56-48><a id=__codelineno-56-48 name=__codelineno-56-48 href=#__codelineno-56-48></a>                    <span class=s1>&#39;treatment_value&#39;</span><span class=p>:</span> <span class=n>treatment_value</span><span class=p>,</span>
</span><span id=__span-56-49><a id=__codelineno-56-49 name=__codelineno-56-49 href=#__codelineno-56-49></a>                    <span class=s1>&#39;control_value&#39;</span><span class=p>:</span> <span class=n>control_value</span><span class=p>,</span>
</span><span id=__span-56-50><a id=__codelineno-56-50 name=__codelineno-56-50 href=#__codelineno-56-50></a>                    <span class=s1>&#39;lift_percentage&#39;</span><span class=p>:</span> <span class=n>lift</span> <span class=o>*</span> <span class=mi>100</span><span class=p>,</span>
</span><span id=__span-56-51><a id=__codelineno-56-51 name=__codelineno-56-51 href=#__codelineno-56-51></a>                    <span class=s1>&#39;absolute_difference&#39;</span><span class=p>:</span> <span class=n>treatment_value</span> <span class=o>-</span> <span class=n>control_value</span>
</span><span id=__span-56-52><a id=__codelineno-56-52 name=__codelineno-56-52 href=#__codelineno-56-52></a>                <span class=p>}</span>
</span><span id=__span-56-53><a id=__codelineno-56-53 name=__codelineno-56-53 href=#__codelineno-56-53></a>
</span><span id=__span-56-54><a id=__codelineno-56-54 name=__codelineno-56-54 href=#__codelineno-56-54></a>        <span class=k>return</span> <span class=n>lift_results</span>
</span><span id=__span-56-55><a id=__codelineno-56-55 name=__codelineno-56-55 href=#__codelineno-56-55></a>
</span><span id=__span-56-56><a id=__codelineno-56-56 name=__codelineno-56-56 href=#__codelineno-56-56></a>    <span class=k>def</span><span class=w> </span><span class=nf>calculate_group_metrics</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>group_data</span><span class=p>):</span>
</span><span id=__span-56-57><a id=__codelineno-56-57 name=__codelineno-56-57 href=#__codelineno-56-57></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Calculate business metrics for a group of users.&quot;&quot;&quot;</span>
</span><span id=__span-56-58><a id=__codelineno-56-58 name=__codelineno-56-58 href=#__codelineno-56-58></a>        <span class=n>metrics</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-56-59><a id=__codelineno-56-59 name=__codelineno-56-59 href=#__codelineno-56-59></a>
</span><span id=__span-56-60><a id=__codelineno-56-60 name=__codelineno-56-60 href=#__codelineno-56-60></a>        <span class=c1># Revenue metrics</span>
</span><span id=__span-56-61><a id=__codelineno-56-61 name=__codelineno-56-61 href=#__codelineno-56-61></a>        <span class=n>metrics</span><span class=p>[</span><span class=s1>&#39;revenue_per_user&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>group_data</span><span class=p>[</span><span class=s1>&#39;revenue&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span> <span class=o>/</span> <span class=n>group_data</span><span class=p>[</span><span class=s1>&#39;user_id&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>nunique</span><span class=p>()</span>
</span><span id=__span-56-62><a id=__codelineno-56-62 name=__codelineno-56-62 href=#__codelineno-56-62></a>        <span class=n>metrics</span><span class=p>[</span><span class=s1>&#39;conversion_rate&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=n>group_data</span><span class=p>[</span><span class=s1>&#39;converted&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span><span id=__span-56-63><a id=__codelineno-56-63 name=__codelineno-56-63 href=#__codelineno-56-63></a>        <span class=n>metrics</span><span class=p>[</span><span class=s1>&#39;average_order_value&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>group_data</span><span class=p>[</span><span class=n>group_data</span><span class=p>[</span><span class=s1>&#39;converted&#39;</span><span class=p>]][</span><span class=s1>&#39;revenue&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span><span id=__span-56-64><a id=__codelineno-56-64 name=__codelineno-56-64 href=#__codelineno-56-64></a>
</span><span id=__span-56-65><a id=__codelineno-56-65 name=__codelineno-56-65 href=#__codelineno-56-65></a>        <span class=c1># Engagement metrics</span>
</span><span id=__span-56-66><a id=__codelineno-56-66 name=__codelineno-56-66 href=#__codelineno-56-66></a>        <span class=n>metrics</span><span class=p>[</span><span class=s1>&#39;click_through_rate&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=n>group_data</span><span class=p>[</span><span class=s1>&#39;clicked&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span><span id=__span-56-67><a id=__codelineno-56-67 name=__codelineno-56-67 href=#__codelineno-56-67></a>        <span class=n>metrics</span><span class=p>[</span><span class=s1>&#39;time_to_conversion&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>group_data</span><span class=p>[</span><span class=n>group_data</span><span class=p>[</span><span class=s1>&#39;converted&#39;</span><span class=p>]][</span><span class=s1>&#39;time_to_conversion&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span><span id=__span-56-68><a id=__codelineno-56-68 name=__codelineno-56-68 href=#__codelineno-56-68></a>
</span><span id=__span-56-69><a id=__codelineno-56-69 name=__codelineno-56-69 href=#__codelineno-56-69></a>        <span class=c1># Retention metrics</span>
</span><span id=__span-56-70><a id=__codelineno-56-70 name=__codelineno-56-70 href=#__codelineno-56-70></a>        <span class=n>metrics</span><span class=p>[</span><span class=s1>&#39;repeat_purchase_rate&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>calculate_repeat_purchase_rate</span><span class=p>(</span><span class=n>group_data</span><span class=p>)</span>
</span><span id=__span-56-71><a id=__codelineno-56-71 name=__codelineno-56-71 href=#__codelineno-56-71></a>
</span><span id=__span-56-72><a id=__codelineno-56-72 name=__codelineno-56-72 href=#__codelineno-56-72></a>        <span class=k>return</span> <span class=n>metrics</span>
</span><span id=__span-56-73><a id=__codelineno-56-73 name=__codelineno-56-73 href=#__codelineno-56-73></a>
</span><span id=__span-56-74><a id=__codelineno-56-74 name=__codelineno-56-74 href=#__codelineno-56-74></a>    <span class=k>def</span><span class=w> </span><span class=nf>generate_business_report</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>time_period</span><span class=p>):</span>
</span><span id=__span-56-75><a id=__codelineno-56-75 name=__codelineno-56-75 href=#__codelineno-56-75></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Generate a comprehensive business impact report.&quot;&quot;&quot;</span>
</span><span id=__span-56-76><a id=__codelineno-56-76 name=__codelineno-56-76 href=#__codelineno-56-76></a>
</span><span id=__span-56-77><a id=__codelineno-56-77 name=__codelineno-56-77 href=#__codelineno-56-77></a>        <span class=n>lift_analysis</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>calculate_recommendation_lift</span><span class=p>(</span><span class=n>time_period</span><span class=p>)</span>
</span><span id=__span-56-78><a id=__codelineno-56-78 name=__codelineno-56-78 href=#__codelineno-56-78></a>
</span><span id=__span-56-79><a id=__codelineno-56-79 name=__codelineno-56-79 href=#__codelineno-56-79></a>        <span class=c1># Calculate total business impact</span>
</span><span id=__span-56-80><a id=__codelineno-56-80 name=__codelineno-56-80 href=#__codelineno-56-80></a>        <span class=n>total_users</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_total_users_in_treatment</span><span class=p>(</span><span class=n>time_period</span><span class=p>)</span>
</span><span id=__span-56-81><a id=__codelineno-56-81 name=__codelineno-56-81 href=#__codelineno-56-81></a>        <span class=n>control_baseline</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_control_group_baseline</span><span class=p>(</span><span class=n>time_period</span><span class=p>)</span>
</span><span id=__span-56-82><a id=__codelineno-56-82 name=__codelineno-56-82 href=#__codelineno-56-82></a>
</span><span id=__span-56-83><a id=__codelineno-56-83 name=__codelineno-56-83 href=#__codelineno-56-83></a>        <span class=n>total_impact</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-56-84><a id=__codelineno-56-84 name=__codelineno-56-84 href=#__codelineno-56-84></a>        <span class=k>for</span> <span class=n>metric_name</span><span class=p>,</span> <span class=n>lift_data</span> <span class=ow>in</span> <span class=n>lift_analysis</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-56-85><a id=__codelineno-56-85 name=__codelineno-56-85 href=#__codelineno-56-85></a>            <span class=k>if</span> <span class=s1>&#39;revenue&#39;</span> <span class=ow>in</span> <span class=n>metric_name</span><span class=p>:</span>
</span><span id=__span-56-86><a id=__codelineno-56-86 name=__codelineno-56-86 href=#__codelineno-56-86></a>                <span class=c1># Calculate total additional revenue</span>
</span><span id=__span-56-87><a id=__codelineno-56-87 name=__codelineno-56-87 href=#__codelineno-56-87></a>                <span class=n>additional_revenue</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-56-88><a id=__codelineno-56-88 name=__codelineno-56-88 href=#__codelineno-56-88></a>                    <span class=n>lift_data</span><span class=p>[</span><span class=s1>&#39;absolute_difference&#39;</span><span class=p>]</span> <span class=o>*</span> <span class=n>total_users</span>
</span><span id=__span-56-89><a id=__codelineno-56-89 name=__codelineno-56-89 href=#__codelineno-56-89></a>                <span class=p>)</span>
</span><span id=__span-56-90><a id=__codelineno-56-90 name=__codelineno-56-90 href=#__codelineno-56-90></a>                <span class=n>total_impact</span><span class=p>[</span><span class=sa>f</span><span class=s1>&#39;additional_</span><span class=si>{</span><span class=n>metric_name</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>additional_revenue</span>
</span><span id=__span-56-91><a id=__codelineno-56-91 name=__codelineno-56-91 href=#__codelineno-56-91></a>
</span><span id=__span-56-92><a id=__codelineno-56-92 name=__codelineno-56-92 href=#__codelineno-56-92></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-56-93><a id=__codelineno-56-93 name=__codelineno-56-93 href=#__codelineno-56-93></a>            <span class=s1>&#39;time_period&#39;</span><span class=p>:</span> <span class=n>time_period</span><span class=p>,</span>
</span><span id=__span-56-94><a id=__codelineno-56-94 name=__codelineno-56-94 href=#__codelineno-56-94></a>            <span class=s1>&#39;lift_analysis&#39;</span><span class=p>:</span> <span class=n>lift_analysis</span><span class=p>,</span>
</span><span id=__span-56-95><a id=__codelineno-56-95 name=__codelineno-56-95 href=#__codelineno-56-95></a>            <span class=s1>&#39;total_impact&#39;</span><span class=p>:</span> <span class=n>total_impact</span><span class=p>,</span>
</span><span id=__span-56-96><a id=__codelineno-56-96 name=__codelineno-56-96 href=#__codelineno-56-96></a>            <span class=s1>&#39;model_performance&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_model_performance_summary</span><span class=p>(</span><span class=n>time_period</span><span class=p>),</span>
</span><span id=__span-56-97><a id=__codelineno-56-97 name=__codelineno-56-97 href=#__codelineno-56-97></a>            <span class=s1>&#39;recommendations&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_recommendations_for_improvement</span><span class=p>()</span>
</span><span id=__span-56-98><a id=__codelineno-56-98 name=__codelineno-56-98 href=#__codelineno-56-98></a>        <span class=p>}</span>
</span></code></pre></div> <h4 id=ab-testing-for-ml-systems><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#ab-testing-for-ml-systems>A/B Testing for ML Systems</a></h4> <p>Proper A/B testing is crucial for measuring ML impact:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-57-1><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=k>class</span><span class=w> </span><span class=nc>MLABTestFramework</span><span class=p>:</span>
</span><span id=__span-57-2><a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>):</span>
</span><span id=__span-57-3><a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config</span>
</span><span id=__span-57-4><a id=__codelineno-57-4 name=__codelineno-57-4 href=#__codelineno-57-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>experiment_store</span> <span class=o>=</span> <span class=n>ExperimentStore</span><span class=p>()</span>
</span><span id=__span-57-5><a id=__codelineno-57-5 name=__codelineno-57-5 href=#__codelineno-57-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>assignment_service</span> <span class=o>=</span> <span class=n>UserAssignmentService</span><span class=p>()</span>
</span><span id=__span-57-6><a id=__codelineno-57-6 name=__codelineno-57-6 href=#__codelineno-57-6></a>
</span><span id=__span-57-7><a id=__codelineno-57-7 name=__codelineno-57-7 href=#__codelineno-57-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>create_experiment</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>experiment_config</span><span class=p>):</span>
</span><span id=__span-57-8><a id=__codelineno-57-8 name=__codelineno-57-8 href=#__codelineno-57-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a new ML A/B test experiment.&quot;&quot;&quot;</span>
</span><span id=__span-57-9><a id=__codelineno-57-9 name=__codelineno-57-9 href=#__codelineno-57-9></a>
</span><span id=__span-57-10><a id=__codelineno-57-10 name=__codelineno-57-10 href=#__codelineno-57-10></a>        <span class=n>experiment</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-57-11><a id=__codelineno-57-11 name=__codelineno-57-11 href=#__codelineno-57-11></a>            <span class=s1>&#39;experiment_id&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_experiment_id</span><span class=p>(),</span>
</span><span id=__span-57-12><a id=__codelineno-57-12 name=__codelineno-57-12 href=#__codelineno-57-12></a>            <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=n>experiment_config</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>],</span>
</span><span id=__span-57-13><a id=__codelineno-57-13 name=__codelineno-57-13 href=#__codelineno-57-13></a>            <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=n>experiment_config</span><span class=p>[</span><span class=s1>&#39;description&#39;</span><span class=p>],</span>
</span><span id=__span-57-14><a id=__codelineno-57-14 name=__codelineno-57-14 href=#__codelineno-57-14></a>            <span class=s1>&#39;start_date&#39;</span><span class=p>:</span> <span class=n>experiment_config</span><span class=p>[</span><span class=s1>&#39;start_date&#39;</span><span class=p>],</span>
</span><span id=__span-57-15><a id=__codelineno-57-15 name=__codelineno-57-15 href=#__codelineno-57-15></a>            <span class=s1>&#39;end_date&#39;</span><span class=p>:</span> <span class=n>experiment_config</span><span class=p>[</span><span class=s1>&#39;end_date&#39;</span><span class=p>],</span>
</span><span id=__span-57-16><a id=__codelineno-57-16 name=__codelineno-57-16 href=#__codelineno-57-16></a>            <span class=s1>&#39;traffic_allocation&#39;</span><span class=p>:</span> <span class=n>experiment_config</span><span class=p>[</span><span class=s1>&#39;traffic_allocation&#39;</span><span class=p>],</span>
</span><span id=__span-57-17><a id=__codelineno-57-17 name=__codelineno-57-17 href=#__codelineno-57-17></a>            <span class=s1>&#39;variants&#39;</span><span class=p>:</span> <span class=n>experiment_config</span><span class=p>[</span><span class=s1>&#39;variants&#39;</span><span class=p>],</span>
</span><span id=__span-57-18><a id=__codelineno-57-18 name=__codelineno-57-18 href=#__codelineno-57-18></a>            <span class=s1>&#39;success_metrics&#39;</span><span class=p>:</span> <span class=n>experiment_config</span><span class=p>[</span><span class=s1>&#39;success_metrics&#39;</span><span class=p>],</span>
</span><span id=__span-57-19><a id=__codelineno-57-19 name=__codelineno-57-19 href=#__codelineno-57-19></a>            <span class=s1>&#39;guardrail_metrics&#39;</span><span class=p>:</span> <span class=n>experiment_config</span><span class=p>[</span><span class=s1>&#39;guardrail_metrics&#39;</span><span class=p>],</span>
</span><span id=__span-57-20><a id=__codelineno-57-20 name=__codelineno-57-20 href=#__codelineno-57-20></a>            <span class=s1>&#39;minimum_detectable_effect&#39;</span><span class=p>:</span> <span class=n>experiment_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;mde&#39;</span><span class=p>,</span> <span class=mf>0.05</span><span class=p>),</span>
</span><span id=__span-57-21><a id=__codelineno-57-21 name=__codelineno-57-21 href=#__codelineno-57-21></a>            <span class=s1>&#39;statistical_power&#39;</span><span class=p>:</span> <span class=n>experiment_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;power&#39;</span><span class=p>,</span> <span class=mf>0.8</span><span class=p>)</span>
</span><span id=__span-57-22><a id=__codelineno-57-22 name=__codelineno-57-22 href=#__codelineno-57-22></a>        <span class=p>}</span>
</span><span id=__span-57-23><a id=__codelineno-57-23 name=__codelineno-57-23 href=#__codelineno-57-23></a>
</span><span id=__span-57-24><a id=__codelineno-57-24 name=__codelineno-57-24 href=#__codelineno-57-24></a>        <span class=c1># Calculate required sample size</span>
</span><span id=__span-57-25><a id=__codelineno-57-25 name=__codelineno-57-25 href=#__codelineno-57-25></a>        <span class=n>sample_size</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>calculate_sample_size</span><span class=p>(</span><span class=n>experiment</span><span class=p>)</span>
</span><span id=__span-57-26><a id=__codelineno-57-26 name=__codelineno-57-26 href=#__codelineno-57-26></a>        <span class=n>experiment</span><span class=p>[</span><span class=s1>&#39;required_sample_size&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>sample_size</span>
</span><span id=__span-57-27><a id=__codelineno-57-27 name=__codelineno-57-27 href=#__codelineno-57-27></a>
</span><span id=__span-57-28><a id=__codelineno-57-28 name=__codelineno-57-28 href=#__codelineno-57-28></a>        <span class=c1># Store experiment configuration</span>
</span><span id=__span-57-29><a id=__codelineno-57-29 name=__codelineno-57-29 href=#__codelineno-57-29></a>        <span class=bp>self</span><span class=o>.</span><span class=n>experiment_store</span><span class=o>.</span><span class=n>save_experiment</span><span class=p>(</span><span class=n>experiment</span><span class=p>)</span>
</span><span id=__span-57-30><a id=__codelineno-57-30 name=__codelineno-57-30 href=#__codelineno-57-30></a>
</span><span id=__span-57-31><a id=__codelineno-57-31 name=__codelineno-57-31 href=#__codelineno-57-31></a>        <span class=k>return</span> <span class=n>experiment</span><span class=p>[</span><span class=s1>&#39;experiment_id&#39;</span><span class=p>]</span>
</span><span id=__span-57-32><a id=__codelineno-57-32 name=__codelineno-57-32 href=#__codelineno-57-32></a>
</span><span id=__span-57-33><a id=__codelineno-57-33 name=__codelineno-57-33 href=#__codelineno-57-33></a>    <span class=k>def</span><span class=w> </span><span class=nf>assign_user_to_variant</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>,</span> <span class=n>experiment_id</span><span class=p>):</span>
</span><span id=__span-57-34><a id=__codelineno-57-34 name=__codelineno-57-34 href=#__codelineno-57-34></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Assign a user to an experiment variant.&quot;&quot;&quot;</span>
</span><span id=__span-57-35><a id=__codelineno-57-35 name=__codelineno-57-35 href=#__codelineno-57-35></a>
</span><span id=__span-57-36><a id=__codelineno-57-36 name=__codelineno-57-36 href=#__codelineno-57-36></a>        <span class=n>experiment</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>experiment_store</span><span class=o>.</span><span class=n>get_experiment</span><span class=p>(</span><span class=n>experiment_id</span><span class=p>)</span>
</span><span id=__span-57-37><a id=__codelineno-57-37 name=__codelineno-57-37 href=#__codelineno-57-37></a>
</span><span id=__span-57-38><a id=__codelineno-57-38 name=__codelineno-57-38 href=#__codelineno-57-38></a>        <span class=c1># Check if experiment is active</span>
</span><span id=__span-57-39><a id=__codelineno-57-39 name=__codelineno-57-39 href=#__codelineno-57-39></a>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_experiment_active</span><span class=p>(</span><span class=n>experiment</span><span class=p>):</span>
</span><span id=__span-57-40><a id=__codelineno-57-40 name=__codelineno-57-40 href=#__codelineno-57-40></a>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-57-41><a id=__codelineno-57-41 name=__codelineno-57-41 href=#__codelineno-57-41></a>
</span><span id=__span-57-42><a id=__codelineno-57-42 name=__codelineno-57-42 href=#__codelineno-57-42></a>        <span class=c1># Check if user is eligible</span>
</span><span id=__span-57-43><a id=__codelineno-57-43 name=__codelineno-57-43 href=#__codelineno-57-43></a>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_user_eligible</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>experiment</span><span class=p>):</span>
</span><span id=__span-57-44><a id=__codelineno-57-44 name=__codelineno-57-44 href=#__codelineno-57-44></a>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-57-45><a id=__codelineno-57-45 name=__codelineno-57-45 href=#__codelineno-57-45></a>
</span><span id=__span-57-46><a id=__codelineno-57-46 name=__codelineno-57-46 href=#__codelineno-57-46></a>        <span class=c1># Get or create assignment</span>
</span><span id=__span-57-47><a id=__codelineno-57-47 name=__codelineno-57-47 href=#__codelineno-57-47></a>        <span class=n>assignment</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>assignment_service</span><span class=o>.</span><span class=n>get_assignment</span><span class=p>(</span><span class=n>user_id</span><span class=p>,</span> <span class=n>experiment_id</span><span class=p>)</span>
</span><span id=__span-57-48><a id=__codelineno-57-48 name=__codelineno-57-48 href=#__codelineno-57-48></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>assignment</span><span class=p>:</span>
</span><span id=__span-57-49><a id=__codelineno-57-49 name=__codelineno-57-49 href=#__codelineno-57-49></a>            <span class=n>assignment</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>assignment_service</span><span class=o>.</span><span class=n>create_assignment</span><span class=p>(</span>
</span><span id=__span-57-50><a id=__codelineno-57-50 name=__codelineno-57-50 href=#__codelineno-57-50></a>                <span class=n>user_id</span><span class=p>,</span> <span class=n>experiment_id</span><span class=p>,</span> <span class=n>experiment</span><span class=p>[</span><span class=s1>&#39;variants&#39;</span><span class=p>]</span>
</span><span id=__span-57-51><a id=__codelineno-57-51 name=__codelineno-57-51 href=#__codelineno-57-51></a>            <span class=p>)</span>
</span><span id=__span-57-52><a id=__codelineno-57-52 name=__codelineno-57-52 href=#__codelineno-57-52></a>
</span><span id=__span-57-53><a id=__codelineno-57-53 name=__codelineno-57-53 href=#__codelineno-57-53></a>        <span class=k>return</span> <span class=n>assignment</span><span class=p>[</span><span class=s1>&#39;variant&#39;</span><span class=p>]</span>
</span><span id=__span-57-54><a id=__codelineno-57-54 name=__codelineno-57-54 href=#__codelineno-57-54></a>
</span><span id=__span-57-55><a id=__codelineno-57-55 name=__codelineno-57-55 href=#__codelineno-57-55></a>    <span class=k>def</span><span class=w> </span><span class=nf>analyze_experiment_results</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>experiment_id</span><span class=p>):</span>
</span><span id=__span-57-56><a id=__codelineno-57-56 name=__codelineno-57-56 href=#__codelineno-57-56></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Analyze the results of an A/B test experiment.&quot;&quot;&quot;</span>
</span><span id=__span-57-57><a id=__codelineno-57-57 name=__codelineno-57-57 href=#__codelineno-57-57></a>
</span><span id=__span-57-58><a id=__codelineno-57-58 name=__codelineno-57-58 href=#__codelineno-57-58></a>        <span class=n>experiment</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>experiment_store</span><span class=o>.</span><span class=n>get_experiment</span><span class=p>(</span><span class=n>experiment_id</span><span class=p>)</span>
</span><span id=__span-57-59><a id=__codelineno-57-59 name=__codelineno-57-59 href=#__codelineno-57-59></a>        <span class=n>assignments</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>assignment_service</span><span class=o>.</span><span class=n>get_experiment_assignments</span><span class=p>(</span><span class=n>experiment_id</span><span class=p>)</span>
</span><span id=__span-57-60><a id=__codelineno-57-60 name=__codelineno-57-60 href=#__codelineno-57-60></a>
</span><span id=__span-57-61><a id=__codelineno-57-61 name=__codelineno-57-61 href=#__codelineno-57-61></a>        <span class=c1># Collect metrics for each variant</span>
</span><span id=__span-57-62><a id=__codelineno-57-62 name=__codelineno-57-62 href=#__codelineno-57-62></a>        <span class=n>variant_results</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-57-63><a id=__codelineno-57-63 name=__codelineno-57-63 href=#__codelineno-57-63></a>        <span class=k>for</span> <span class=n>variant</span> <span class=ow>in</span> <span class=n>experiment</span><span class=p>[</span><span class=s1>&#39;variants&#39;</span><span class=p>]:</span>
</span><span id=__span-57-64><a id=__codelineno-57-64 name=__codelineno-57-64 href=#__codelineno-57-64></a>            <span class=n>variant_users</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-57-65><a id=__codelineno-57-65 name=__codelineno-57-65 href=#__codelineno-57-65></a>                <span class=n>a</span><span class=p>[</span><span class=s1>&#39;user_id&#39;</span><span class=p>]</span> <span class=k>for</span> <span class=n>a</span> <span class=ow>in</span> <span class=n>assignments</span>
</span><span id=__span-57-66><a id=__codelineno-57-66 name=__codelineno-57-66 href=#__codelineno-57-66></a>                <span class=k>if</span> <span class=n>a</span><span class=p>[</span><span class=s1>&#39;variant&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=n>variant</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span>
</span><span id=__span-57-67><a id=__codelineno-57-67 name=__codelineno-57-67 href=#__codelineno-57-67></a>            <span class=p>]</span>
</span><span id=__span-57-68><a id=__codelineno-57-68 name=__codelineno-57-68 href=#__codelineno-57-68></a>
</span><span id=__span-57-69><a id=__codelineno-57-69 name=__codelineno-57-69 href=#__codelineno-57-69></a>            <span class=n>variant_metrics</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>collect_user_metrics</span><span class=p>(</span>
</span><span id=__span-57-70><a id=__codelineno-57-70 name=__codelineno-57-70 href=#__codelineno-57-70></a>                <span class=n>variant_users</span><span class=p>,</span>
</span><span id=__span-57-71><a id=__codelineno-57-71 name=__codelineno-57-71 href=#__codelineno-57-71></a>                <span class=n>experiment</span><span class=p>[</span><span class=s1>&#39;start_date&#39;</span><span class=p>],</span>
</span><span id=__span-57-72><a id=__codelineno-57-72 name=__codelineno-57-72 href=#__codelineno-57-72></a>                <span class=n>experiment</span><span class=p>[</span><span class=s1>&#39;end_date&#39;</span><span class=p>]</span>
</span><span id=__span-57-73><a id=__codelineno-57-73 name=__codelineno-57-73 href=#__codelineno-57-73></a>            <span class=p>)</span>
</span><span id=__span-57-74><a id=__codelineno-57-74 name=__codelineno-57-74 href=#__codelineno-57-74></a>
</span><span id=__span-57-75><a id=__codelineno-57-75 name=__codelineno-57-75 href=#__codelineno-57-75></a>            <span class=n>variant_results</span><span class=p>[</span><span class=n>variant</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]]</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-57-76><a id=__codelineno-57-76 name=__codelineno-57-76 href=#__codelineno-57-76></a>                <span class=s1>&#39;user_count&#39;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>variant_users</span><span class=p>),</span>
</span><span id=__span-57-77><a id=__codelineno-57-77 name=__codelineno-57-77 href=#__codelineno-57-77></a>                <span class=s1>&#39;metrics&#39;</span><span class=p>:</span> <span class=n>variant_metrics</span>
</span><span id=__span-57-78><a id=__codelineno-57-78 name=__codelineno-57-78 href=#__codelineno-57-78></a>            <span class=p>}</span>
</span><span id=__span-57-79><a id=__codelineno-57-79 name=__codelineno-57-79 href=#__codelineno-57-79></a>
</span><span id=__span-57-80><a id=__codelineno-57-80 name=__codelineno-57-80 href=#__codelineno-57-80></a>        <span class=c1># Perform statistical analysis</span>
</span><span id=__span-57-81><a id=__codelineno-57-81 name=__codelineno-57-81 href=#__codelineno-57-81></a>        <span class=n>statistical_results</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>perform_statistical_tests</span><span class=p>(</span>
</span><span id=__span-57-82><a id=__codelineno-57-82 name=__codelineno-57-82 href=#__codelineno-57-82></a>            <span class=n>variant_results</span><span class=p>,</span> <span class=n>experiment</span><span class=p>[</span><span class=s1>&#39;success_metrics&#39;</span><span class=p>]</span>
</span><span id=__span-57-83><a id=__codelineno-57-83 name=__codelineno-57-83 href=#__codelineno-57-83></a>        <span class=p>)</span>
</span><span id=__span-57-84><a id=__codelineno-57-84 name=__codelineno-57-84 href=#__codelineno-57-84></a>
</span><span id=__span-57-85><a id=__codelineno-57-85 name=__codelineno-57-85 href=#__codelineno-57-85></a>        <span class=c1># Check guardrail metrics</span>
</span><span id=__span-57-86><a id=__codelineno-57-86 name=__codelineno-57-86 href=#__codelineno-57-86></a>        <span class=n>guardrail_results</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>check_guardrail_metrics</span><span class=p>(</span>
</span><span id=__span-57-87><a id=__codelineno-57-87 name=__codelineno-57-87 href=#__codelineno-57-87></a>            <span class=n>variant_results</span><span class=p>,</span> <span class=n>experiment</span><span class=p>[</span><span class=s1>&#39;guardrail_metrics&#39;</span><span class=p>]</span>
</span><span id=__span-57-88><a id=__codelineno-57-88 name=__codelineno-57-88 href=#__codelineno-57-88></a>        <span class=p>)</span>
</span><span id=__span-57-89><a id=__codelineno-57-89 name=__codelineno-57-89 href=#__codelineno-57-89></a>
</span><span id=__span-57-90><a id=__codelineno-57-90 name=__codelineno-57-90 href=#__codelineno-57-90></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-57-91><a id=__codelineno-57-91 name=__codelineno-57-91 href=#__codelineno-57-91></a>            <span class=s1>&#39;experiment_id&#39;</span><span class=p>:</span> <span class=n>experiment_id</span><span class=p>,</span>
</span><span id=__span-57-92><a id=__codelineno-57-92 name=__codelineno-57-92 href=#__codelineno-57-92></a>            <span class=s1>&#39;variant_results&#39;</span><span class=p>:</span> <span class=n>variant_results</span><span class=p>,</span>
</span><span id=__span-57-93><a id=__codelineno-57-93 name=__codelineno-57-93 href=#__codelineno-57-93></a>            <span class=s1>&#39;statistical_results&#39;</span><span class=p>:</span> <span class=n>statistical_results</span><span class=p>,</span>
</span><span id=__span-57-94><a id=__codelineno-57-94 name=__codelineno-57-94 href=#__codelineno-57-94></a>            <span class=s1>&#39;guardrail_results&#39;</span><span class=p>:</span> <span class=n>guardrail_results</span><span class=p>,</span>
</span><span id=__span-57-95><a id=__codelineno-57-95 name=__codelineno-57-95 href=#__codelineno-57-95></a>            <span class=s1>&#39;recommendation&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>generate_experiment_recommendation</span><span class=p>(</span>
</span><span id=__span-57-96><a id=__codelineno-57-96 name=__codelineno-57-96 href=#__codelineno-57-96></a>                <span class=n>statistical_results</span><span class=p>,</span> <span class=n>guardrail_results</span>
</span><span id=__span-57-97><a id=__codelineno-57-97 name=__codelineno-57-97 href=#__codelineno-57-97></a>            <span class=p>)</span>
</span><span id=__span-57-98><a id=__codelineno-57-98 name=__codelineno-57-98 href=#__codelineno-57-98></a>        <span class=p>}</span>
</span></code></pre></div> <h3 id=talent-shortage><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#talent-shortage>The Talent Shortage Reality</a></h3> <p>One of the biggest challenges facing MLOps adoption is the shortage of qualified talent. This isn't just about finding data scientists - it's about finding people who understand both ML and operations at scale.</p> <h4 id=the-skills-gap><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#the-skills-gap>The Skills Gap</a></h4> <p>From my experience hiring and building ML teams, the talent shortage manifests in several ways:</p> <ol> <li><strong>ML Engineers</strong>: People who can build and deploy ML systems at scale are rare</li> <li><strong>MLOps Engineers</strong>: Even rarer are people who understand both ML and DevOps practices</li> <li><strong>Product-Aware Data Scientists</strong>: Many data scientists lack understanding of how their models will be used in production</li> <li><strong>Business-Technical Bridge</strong>: Few people can translate between technical ML capabilities and business requirements</li> </ol> <h4 id=building-internal-capability><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#building-internal-capability>Building Internal Capability</a></h4> <p>Rather than competing for scarce external talent, many organizations are better served by building internal capabilities:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-58-1><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=k>class</span><span class=w> </span><span class=nc>MLOpsTrainingProgram</span><span class=p>:</span>
</span><span id=__span-58-2><a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-58-3><a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>curriculum</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>define_curriculum</span><span class=p>()</span>
</span><span id=__span-58-4><a id=__codelineno-58-4 name=__codelineno-58-4 href=#__codelineno-58-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>hands_on_projects</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>define_projects</span><span class=p>()</span>
</span><span id=__span-58-5><a id=__codelineno-58-5 name=__codelineno-58-5 href=#__codelineno-58-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>mentorship_program</span> <span class=o>=</span> <span class=n>MentorshipProgram</span><span class=p>()</span>
</span><span id=__span-58-6><a id=__codelineno-58-6 name=__codelineno-58-6 href=#__codelineno-58-6></a>
</span><span id=__span-58-7><a id=__codelineno-58-7 name=__codelineno-58-7 href=#__codelineno-58-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>define_curriculum</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-58-8><a id=__codelineno-58-8 name=__codelineno-58-8 href=#__codelineno-58-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Define the MLOps training curriculum.&quot;&quot;&quot;</span>
</span><span id=__span-58-9><a id=__codelineno-58-9 name=__codelineno-58-9 href=#__codelineno-58-9></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-58-10><a id=__codelineno-58-10 name=__codelineno-58-10 href=#__codelineno-58-10></a>            <span class=s1>&#39;fundamentals&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-58-11><a id=__codelineno-58-11 name=__codelineno-58-11 href=#__codelineno-58-11></a>                <span class=s1>&#39;ML Lifecycle Management&#39;</span><span class=p>,</span>
</span><span id=__span-58-12><a id=__codelineno-58-12 name=__codelineno-58-12 href=#__codelineno-58-12></a>                <span class=s1>&#39;Model Versioning and Reproducibility&#39;</span><span class=p>,</span>
</span><span id=__span-58-13><a id=__codelineno-58-13 name=__codelineno-58-13 href=#__codelineno-58-13></a>                <span class=s1>&#39;Data Pipeline Design&#39;</span><span class=p>,</span>
</span><span id=__span-58-14><a id=__codelineno-58-14 name=__codelineno-58-14 href=#__codelineno-58-14></a>                <span class=s1>&#39;Model Monitoring and Alerting&#39;</span>
</span><span id=__span-58-15><a id=__codelineno-58-15 name=__codelineno-58-15 href=#__codelineno-58-15></a>            <span class=p>],</span>
</span><span id=__span-58-16><a id=__codelineno-58-16 name=__codelineno-58-16 href=#__codelineno-58-16></a>            <span class=s1>&#39;infrastructure&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-58-17><a id=__codelineno-58-17 name=__codelineno-58-17 href=#__codelineno-58-17></a>                <span class=s1>&#39;Container Orchestration for ML&#39;</span><span class=p>,</span>
</span><span id=__span-58-18><a id=__codelineno-58-18 name=__codelineno-58-18 href=#__codelineno-58-18></a>                <span class=s1>&#39;Feature Store Architecture&#39;</span><span class=p>,</span>
</span><span id=__span-58-19><a id=__codelineno-58-19 name=__codelineno-58-19 href=#__codelineno-58-19></a>                <span class=s1>&#39;Model Serving Patterns&#39;</span><span class=p>,</span>
</span><span id=__span-58-20><a id=__codelineno-58-20 name=__codelineno-58-20 href=#__codelineno-58-20></a>                <span class=s1>&#39;Scalable Training Infrastructure&#39;</span>
</span><span id=__span-58-21><a id=__codelineno-58-21 name=__codelineno-58-21 href=#__codelineno-58-21></a>            <span class=p>],</span>
</span><span id=__span-58-22><a id=__codelineno-58-22 name=__codelineno-58-22 href=#__codelineno-58-22></a>            <span class=s1>&#39;governance&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-58-23><a id=__codelineno-58-23 name=__codelineno-58-23 href=#__codelineno-58-23></a>                <span class=s1>&#39;Model Risk Management&#39;</span><span class=p>,</span>
</span><span id=__span-58-24><a id=__codelineno-58-24 name=__codelineno-58-24 href=#__codelineno-58-24></a>                <span class=s1>&#39;Bias Detection and Mitigation&#39;</span><span class=p>,</span>
</span><span id=__span-58-25><a id=__codelineno-58-25 name=__codelineno-58-25 href=#__codelineno-58-25></a>                <span class=s1>&#39;Explainability and Interpretability&#39;</span><span class=p>,</span>
</span><span id=__span-58-26><a id=__codelineno-58-26 name=__codelineno-58-26 href=#__codelineno-58-26></a>                <span class=s1>&#39;Regulatory Compliance&#39;</span>
</span><span id=__span-58-27><a id=__codelineno-58-27 name=__codelineno-58-27 href=#__codelineno-58-27></a>            <span class=p>],</span>
</span><span id=__span-58-28><a id=__codelineno-58-28 name=__codelineno-58-28 href=#__codelineno-58-28></a>            <span class=s1>&#39;business_integration&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-58-29><a id=__codelineno-58-29 name=__codelineno-58-29 href=#__codelineno-58-29></a>                <span class=s1>&#39;A/B Testing for ML&#39;</span><span class=p>,</span>
</span><span id=__span-58-30><a id=__codelineno-58-30 name=__codelineno-58-30 href=#__codelineno-58-30></a>                <span class=s1>&#39;Business Impact Measurement&#39;</span><span class=p>,</span>
</span><span id=__span-58-31><a id=__codelineno-58-31 name=__codelineno-58-31 href=#__codelineno-58-31></a>                <span class=s1>&#39;Stakeholder Communication&#39;</span><span class=p>,</span>
</span><span id=__span-58-32><a id=__codelineno-58-32 name=__codelineno-58-32 href=#__codelineno-58-32></a>                <span class=s1>&#39;ROI Analysis for ML Projects&#39;</span>
</span><span id=__span-58-33><a id=__codelineno-58-33 name=__codelineno-58-33 href=#__codelineno-58-33></a>            <span class=p>]</span>
</span><span id=__span-58-34><a id=__codelineno-58-34 name=__codelineno-58-34 href=#__codelineno-58-34></a>        <span class=p>}</span>
</span><span id=__span-58-35><a id=__codelineno-58-35 name=__codelineno-58-35 href=#__codelineno-58-35></a>
</span><span id=__span-58-36><a id=__codelineno-58-36 name=__codelineno-58-36 href=#__codelineno-58-36></a>    <span class=k>def</span><span class=w> </span><span class=nf>create_learning_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>employee_background</span><span class=p>,</span> <span class=n>target_role</span><span class=p>):</span>
</span><span id=__span-58-37><a id=__codelineno-58-37 name=__codelineno-58-37 href=#__codelineno-58-37></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Create a personalized learning path.&quot;&quot;&quot;</span>
</span><span id=__span-58-38><a id=__codelineno-58-38 name=__codelineno-58-38 href=#__codelineno-58-38></a>
</span><span id=__span-58-39><a id=__codelineno-58-39 name=__codelineno-58-39 href=#__codelineno-58-39></a>        <span class=k>if</span> <span class=n>employee_background</span> <span class=o>==</span> <span class=s1>&#39;software_engineer&#39;</span><span class=p>:</span>
</span><span id=__span-58-40><a id=__codelineno-58-40 name=__codelineno-58-40 href=#__codelineno-58-40></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>software_engineer_to_mlopsdeveloper</span><span class=p>()</span>
</span><span id=__span-58-41><a id=__codelineno-58-41 name=__codelineno-58-41 href=#__codelineno-58-41></a>        <span class=k>elif</span> <span class=n>employee_background</span> <span class=o>==</span> <span class=s1>&#39;data_scientist&#39;</span><span class=p>:</span>
</span><span id=__span-58-42><a id=__codelineno-58-42 name=__codelineno-58-42 href=#__codelineno-58-42></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data_scientist_to_ml_engineer</span><span class=p>()</span>
</span><span id=__span-58-43><a id=__codelineno-58-43 name=__codelineno-58-43 href=#__codelineno-58-43></a>        <span class=k>elif</span> <span class=n>employee_background</span> <span class=o>==</span> <span class=s1>&#39;devops_engineer&#39;</span><span class=p>:</span>
</span><span id=__span-58-44><a id=__codelineno-58-44 name=__codelineno-58-44 href=#__codelineno-58-44></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>devops_to_mlops_engineer</span><span class=p>()</span>
</span><span id=__span-58-45><a id=__codelineno-58-45 name=__codelineno-58-45 href=#__codelineno-58-45></a>
</span><span id=__span-58-46><a id=__codelineno-58-46 name=__codelineno-58-46 href=#__codelineno-58-46></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>general_mlops_path</span><span class=p>()</span>
</span><span id=__span-58-47><a id=__codelineno-58-47 name=__codelineno-58-47 href=#__codelineno-58-47></a>
</span><span id=__span-58-48><a id=__codelineno-58-48 name=__codelineno-58-48 href=#__codelineno-58-48></a>    <span class=k>def</span><span class=w> </span><span class=nf>software_engineer_to_mlopsdeveloper</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-58-49><a id=__codelineno-58-49 name=__codelineno-58-49 href=#__codelineno-58-49></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Learning path for software engineers transitioning to MLOps.&quot;&quot;&quot;</span>
</span><span id=__span-58-50><a id=__codelineno-58-50 name=__codelineno-58-50 href=#__codelineno-58-50></a>        <span class=k>return</span> <span class=p>[</span>
</span><span id=__span-58-51><a id=__codelineno-58-51 name=__codelineno-58-51 href=#__codelineno-58-51></a>            <span class=c1># Build on existing software engineering skills</span>
</span><span id=__span-58-52><a id=__codelineno-58-52 name=__codelineno-58-52 href=#__codelineno-58-52></a>            <span class=s1>&#39;ML Fundamentals for Engineers&#39;</span><span class=p>,</span>
</span><span id=__span-58-53><a id=__codelineno-58-53 name=__codelineno-58-53 href=#__codelineno-58-53></a>            <span class=s1>&#39;Data Pipeline Architecture&#39;</span><span class=p>,</span>
</span><span id=__span-58-54><a id=__codelineno-58-54 name=__codelineno-58-54 href=#__codelineno-58-54></a>            <span class=s1>&#39;Model Serving and APIs&#39;</span><span class=p>,</span>
</span><span id=__span-58-55><a id=__codelineno-58-55 name=__codelineno-58-55 href=#__codelineno-58-55></a>            <span class=s1>&#39;ML System Design Patterns&#39;</span><span class=p>,</span>
</span><span id=__span-58-56><a id=__codelineno-58-56 name=__codelineno-58-56 href=#__codelineno-58-56></a>            <span class=c1># New skills specific to ML</span>
</span><span id=__span-58-57><a id=__codelineno-58-57 name=__codelineno-58-57 href=#__codelineno-58-57></a>            <span class=s1>&#39;Feature Engineering Patterns&#39;</span><span class=p>,</span>
</span><span id=__span-58-58><a id=__codelineno-58-58 name=__codelineno-58-58 href=#__codelineno-58-58></a>            <span class=s1>&#39;Model Monitoring and Observability&#39;</span><span class=p>,</span>
</span><span id=__span-58-59><a id=__codelineno-58-59 name=__codelineno-58-59 href=#__codelineno-58-59></a>            <span class=s1>&#39;ML Testing Strategies&#39;</span><span class=p>,</span>
</span><span id=__span-58-60><a id=__codelineno-58-60 name=__codelineno-58-60 href=#__codelineno-58-60></a>            <span class=s1>&#39;Business Impact Measurement&#39;</span>
</span><span id=__span-58-61><a id=__codelineno-58-61 name=__codelineno-58-61 href=#__codelineno-58-61></a>        <span class=p>]</span>
</span></code></pre></div> <h4 id=creating-cross-functional-teams><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#creating-cross-functional-teams>Creating Cross-Functional Teams</a></h4> <p>Successful MLOps often requires cross-functional collaboration rather than individual expertise:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-59-1><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=k>class</span><span class=w> </span><span class=nc>CrossFunctionalMLTeam</span><span class=p>:</span>
</span><span id=__span-59-2><a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>team_composition</span><span class=p>):</span>
</span><span id=__span-59-3><a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>team_members</span> <span class=o>=</span> <span class=n>team_composition</span>
</span><span id=__span-59-4><a id=__codelineno-59-4 name=__codelineno-59-4 href=#__codelineno-59-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>collaboration_tools</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>setup_collaboration_tools</span><span class=p>()</span>
</span><span id=__span-59-5><a id=__codelineno-59-5 name=__codelineno-59-5 href=#__codelineno-59-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>shared_responsibilities</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>define_shared_responsibilities</span><span class=p>()</span>
</span><span id=__span-59-6><a id=__codelineno-59-6 name=__codelineno-59-6 href=#__codelineno-59-6></a>
</span><span id=__span-59-7><a id=__codelineno-59-7 name=__codelineno-59-7 href=#__codelineno-59-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>define_shared_responsibilities</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-59-8><a id=__codelineno-59-8 name=__codelineno-59-8 href=#__codelineno-59-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Define how responsibilities are shared across the team.&quot;&quot;&quot;</span>
</span><span id=__span-59-9><a id=__codelineno-59-9 name=__codelineno-59-9 href=#__codelineno-59-9></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-59-10><a id=__codelineno-59-10 name=__codelineno-59-10 href=#__codelineno-59-10></a>            <span class=s1>&#39;model_development&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-59-11><a id=__codelineno-59-11 name=__codelineno-59-11 href=#__codelineno-59-11></a>                <span class=s1>&#39;primary&#39;</span><span class=p>:</span> <span class=s1>&#39;data_scientist&#39;</span><span class=p>,</span>
</span><span id=__span-59-12><a id=__codelineno-59-12 name=__codelineno-59-12 href=#__codelineno-59-12></a>                <span class=s1>&#39;supporting&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;ml_engineer&#39;</span><span class=p>,</span> <span class=s1>&#39;domain_expert&#39;</span><span class=p>],</span>
</span><span id=__span-59-13><a id=__codelineno-59-13 name=__codelineno-59-13 href=#__codelineno-59-13></a>                <span class=s1>&#39;review&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;senior_data_scientist&#39;</span><span class=p>,</span> <span class=s1>&#39;ml_architect&#39;</span><span class=p>]</span>
</span><span id=__span-59-14><a id=__codelineno-59-14 name=__codelineno-59-14 href=#__codelineno-59-14></a>            <span class=p>},</span>
</span><span id=__span-59-15><a id=__codelineno-59-15 name=__codelineno-59-15 href=#__codelineno-59-15></a>            <span class=s1>&#39;deployment_pipeline&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-59-16><a id=__codelineno-59-16 name=__codelineno-59-16 href=#__codelineno-59-16></a>                <span class=s1>&#39;primary&#39;</span><span class=p>:</span> <span class=s1>&#39;ml_engineer&#39;</span><span class=p>,</span>
</span><span id=__span-59-17><a id=__codelineno-59-17 name=__codelineno-59-17 href=#__codelineno-59-17></a>                <span class=s1>&#39;supporting&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;devops_engineer&#39;</span><span class=p>,</span> <span class=s1>&#39;data_scientist&#39;</span><span class=p>],</span>
</span><span id=__span-59-18><a id=__codelineno-59-18 name=__codelineno-59-18 href=#__codelineno-59-18></a>                <span class=s1>&#39;review&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;platform_engineer&#39;</span><span class=p>]</span>
</span><span id=__span-59-19><a id=__codelineno-59-19 name=__codelineno-59-19 href=#__codelineno-59-19></a>            <span class=p>},</span>
</span><span id=__span-59-20><a id=__codelineno-59-20 name=__codelineno-59-20 href=#__codelineno-59-20></a>            <span class=s1>&#39;monitoring_setup&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-59-21><a id=__codelineno-59-21 name=__codelineno-59-21 href=#__codelineno-59-21></a>                <span class=s1>&#39;primary&#39;</span><span class=p>:</span> <span class=s1>&#39;ml_engineer&#39;</span><span class=p>,</span>
</span><span id=__span-59-22><a id=__codelineno-59-22 name=__codelineno-59-22 href=#__codelineno-59-22></a>                <span class=s1>&#39;supporting&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;devops_engineer&#39;</span><span class=p>,</span> <span class=s1>&#39;data_scientist&#39;</span><span class=p>],</span>
</span><span id=__span-59-23><a id=__codelineno-59-23 name=__codelineno-59-23 href=#__codelineno-59-23></a>                <span class=s1>&#39;review&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;sre_engineer&#39;</span><span class=p>]</span>
</span><span id=__span-59-24><a id=__codelineno-59-24 name=__codelineno-59-24 href=#__codelineno-59-24></a>            <span class=p>},</span>
</span><span id=__span-59-25><a id=__codelineno-59-25 name=__codelineno-59-25 href=#__codelineno-59-25></a>            <span class=s1>&#39;business_impact_analysis&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-59-26><a id=__codelineno-59-26 name=__codelineno-59-26 href=#__codelineno-59-26></a>                <span class=s1>&#39;primary&#39;</span><span class=p>:</span> <span class=s1>&#39;product_manager&#39;</span><span class=p>,</span>
</span><span id=__span-59-27><a id=__codelineno-59-27 name=__codelineno-59-27 href=#__codelineno-59-27></a>                <span class=s1>&#39;supporting&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data_scientist&#39;</span><span class=p>,</span> <span class=s1>&#39;business_analyst&#39;</span><span class=p>],</span>
</span><span id=__span-59-28><a id=__codelineno-59-28 name=__codelineno-59-28 href=#__codelineno-59-28></a>                <span class=s1>&#39;review&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data_science_manager&#39;</span><span class=p>]</span>
</span><span id=__span-59-29><a id=__codelineno-59-29 name=__codelineno-59-29 href=#__codelineno-59-29></a>            <span class=p>}</span>
</span><span id=__span-59-30><a id=__codelineno-59-30 name=__codelineno-59-30 href=#__codelineno-59-30></a>        <span class=p>}</span>
</span><span id=__span-59-31><a id=__codelineno-59-31 name=__codelineno-59-31 href=#__codelineno-59-31></a>
</span><span id=__span-59-32><a id=__codelineno-59-32 name=__codelineno-59-32 href=#__codelineno-59-32></a>    <span class=k>def</span><span class=w> </span><span class=nf>coordinate_project_workflow</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>project_requirements</span><span class=p>):</span>
</span><span id=__span-59-33><a id=__codelineno-59-33 name=__codelineno-59-33 href=#__codelineno-59-33></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Coordinate workflow across team members.&quot;&quot;&quot;</span>
</span><span id=__span-59-34><a id=__codelineno-59-34 name=__codelineno-59-34 href=#__codelineno-59-34></a>
</span><span id=__span-59-35><a id=__codelineno-59-35 name=__codelineno-59-35 href=#__codelineno-59-35></a>        <span class=n>workflow_stages</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-59-36><a id=__codelineno-59-36 name=__codelineno-59-36 href=#__codelineno-59-36></a>            <span class=p>{</span>
</span><span id=__span-59-37><a id=__codelineno-59-37 name=__codelineno-59-37 href=#__codelineno-59-37></a>                <span class=s1>&#39;stage&#39;</span><span class=p>:</span> <span class=s1>&#39;problem_definition&#39;</span><span class=p>,</span>
</span><span id=__span-59-38><a id=__codelineno-59-38 name=__codelineno-59-38 href=#__codelineno-59-38></a>                <span class=s1>&#39;owner&#39;</span><span class=p>:</span> <span class=s1>&#39;product_manager&#39;</span><span class=p>,</span>
</span><span id=__span-59-39><a id=__codelineno-59-39 name=__codelineno-59-39 href=#__codelineno-59-39></a>                <span class=s1>&#39;inputs&#39;</span><span class=p>:</span> <span class=n>project_requirements</span><span class=p>,</span>
</span><span id=__span-59-40><a id=__codelineno-59-40 name=__codelineno-59-40 href=#__codelineno-59-40></a>                <span class=s1>&#39;outputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;problem_statement&#39;</span><span class=p>,</span> <span class=s1>&#39;success_criteria&#39;</span><span class=p>],</span>
</span><span id=__span-59-41><a id=__codelineno-59-41 name=__codelineno-59-41 href=#__codelineno-59-41></a>                <span class=s1>&#39;duration_days&#39;</span><span class=p>:</span> <span class=mi>5</span>
</span><span id=__span-59-42><a id=__codelineno-59-42 name=__codelineno-59-42 href=#__codelineno-59-42></a>            <span class=p>},</span>
</span><span id=__span-59-43><a id=__codelineno-59-43 name=__codelineno-59-43 href=#__codelineno-59-43></a>            <span class=p>{</span>
</span><span id=__span-59-44><a id=__codelineno-59-44 name=__codelineno-59-44 href=#__codelineno-59-44></a>                <span class=s1>&#39;stage&#39;</span><span class=p>:</span> <span class=s1>&#39;data_exploration&#39;</span><span class=p>,</span>
</span><span id=__span-59-45><a id=__codelineno-59-45 name=__codelineno-59-45 href=#__codelineno-59-45></a>                <span class=s1>&#39;owner&#39;</span><span class=p>:</span> <span class=s1>&#39;data_scientist&#39;</span><span class=p>,</span>
</span><span id=__span-59-46><a id=__codelineno-59-46 name=__codelineno-59-46 href=#__codelineno-59-46></a>                <span class=s1>&#39;inputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;problem_statement&#39;</span><span class=p>,</span> <span class=s1>&#39;data_sources&#39;</span><span class=p>],</span>
</span><span id=__span-59-47><a id=__codelineno-59-47 name=__codelineno-59-47 href=#__codelineno-59-47></a>                <span class=s1>&#39;outputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data_analysis_report&#39;</span><span class=p>,</span> <span class=s1>&#39;feature_recommendations&#39;</span><span class=p>],</span>
</span><span id=__span-59-48><a id=__codelineno-59-48 name=__codelineno-59-48 href=#__codelineno-59-48></a>                <span class=s1>&#39;duration_days&#39;</span><span class=p>:</span> <span class=mi>10</span>
</span><span id=__span-59-49><a id=__codelineno-59-49 name=__codelineno-59-49 href=#__codelineno-59-49></a>            <span class=p>},</span>
</span><span id=__span-59-50><a id=__codelineno-59-50 name=__codelineno-59-50 href=#__codelineno-59-50></a>            <span class=p>{</span>
</span><span id=__span-59-51><a id=__codelineno-59-51 name=__codelineno-59-51 href=#__codelineno-59-51></a>                <span class=s1>&#39;stage&#39;</span><span class=p>:</span> <span class=s1>&#39;infrastructure_setup&#39;</span><span class=p>,</span>
</span><span id=__span-59-52><a id=__codelineno-59-52 name=__codelineno-59-52 href=#__codelineno-59-52></a>                <span class=s1>&#39;owner&#39;</span><span class=p>:</span> <span class=s1>&#39;ml_engineer&#39;</span><span class=p>,</span>
</span><span id=__span-59-53><a id=__codelineno-59-53 name=__codelineno-59-53 href=#__codelineno-59-53></a>                <span class=s1>&#39;inputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;feature_recommendations&#39;</span><span class=p>,</span> <span class=s1>&#39;scale_requirements&#39;</span><span class=p>],</span>
</span><span id=__span-59-54><a id=__codelineno-59-54 name=__codelineno-59-54 href=#__codelineno-59-54></a>                <span class=s1>&#39;outputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;training_pipeline&#39;</span><span class=p>,</span> <span class=s1>&#39;serving_infrastructure&#39;</span><span class=p>],</span>
</span><span id=__span-59-55><a id=__codelineno-59-55 name=__codelineno-59-55 href=#__codelineno-59-55></a>                <span class=s1>&#39;duration_days&#39;</span><span class=p>:</span> <span class=mi>8</span><span class=p>,</span>
</span><span id=__span-59-56><a id=__codelineno-59-56 name=__codelineno-59-56 href=#__codelineno-59-56></a>                <span class=s1>&#39;parallel_with&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data_exploration&#39;</span><span class=p>]</span>
</span><span id=__span-59-57><a id=__codelineno-59-57 name=__codelineno-59-57 href=#__codelineno-59-57></a>            <span class=p>},</span>
</span><span id=__span-59-58><a id=__codelineno-59-58 name=__codelineno-59-58 href=#__codelineno-59-58></a>            <span class=p>{</span>
</span><span id=__span-59-59><a id=__codelineno-59-59 name=__codelineno-59-59 href=#__codelineno-59-59></a>                <span class=s1>&#39;stage&#39;</span><span class=p>:</span> <span class=s1>&#39;model_development&#39;</span><span class=p>,</span>
</span><span id=__span-59-60><a id=__codelineno-59-60 name=__codelineno-59-60 href=#__codelineno-59-60></a>                <span class=s1>&#39;owner&#39;</span><span class=p>:</span> <span class=s1>&#39;data_scientist&#39;</span><span class=p>,</span>
</span><span id=__span-59-61><a id=__codelineno-59-61 name=__codelineno-59-61 href=#__codelineno-59-61></a>                <span class=s1>&#39;inputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;training_pipeline&#39;</span><span class=p>,</span> <span class=s1>&#39;processed_data&#39;</span><span class=p>],</span>
</span><span id=__span-59-62><a id=__codelineno-59-62 name=__codelineno-59-62 href=#__codelineno-59-62></a>                <span class=s1>&#39;outputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;trained_model&#39;</span><span class=p>,</span> <span class=s1>&#39;evaluation_report&#39;</span><span class=p>],</span>
</span><span id=__span-59-63><a id=__codelineno-59-63 name=__codelineno-59-63 href=#__codelineno-59-63></a>                <span class=s1>&#39;duration_days&#39;</span><span class=p>:</span> <span class=mi>15</span>
</span><span id=__span-59-64><a id=__codelineno-59-64 name=__codelineno-59-64 href=#__codelineno-59-64></a>            <span class=p>},</span>
</span><span id=__span-59-65><a id=__codelineno-59-65 name=__codelineno-59-65 href=#__codelineno-59-65></a>            <span class=p>{</span>
</span><span id=__span-59-66><a id=__codelineno-59-66 name=__codelineno-59-66 href=#__codelineno-59-66></a>                <span class=s1>&#39;stage&#39;</span><span class=p>:</span> <span class=s1>&#39;deployment_prep&#39;</span><span class=p>,</span>
</span><span id=__span-59-67><a id=__codelineno-59-67 name=__codelineno-59-67 href=#__codelineno-59-67></a>                <span class=s1>&#39;owner&#39;</span><span class=p>:</span> <span class=s1>&#39;ml_engineer&#39;</span><span class=p>,</span>
</span><span id=__span-59-68><a id=__codelineno-59-68 name=__codelineno-59-68 href=#__codelineno-59-68></a>                <span class=s1>&#39;inputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;trained_model&#39;</span><span class=p>,</span> <span class=s1>&#39;serving_infrastructure&#39;</span><span class=p>],</span>
</span><span id=__span-59-69><a id=__codelineno-59-69 name=__codelineno-59-69 href=#__codelineno-59-69></a>                <span class=s1>&#39;outputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;deployment_package&#39;</span><span class=p>,</span> <span class=s1>&#39;monitoring_setup&#39;</span><span class=p>],</span>
</span><span id=__span-59-70><a id=__codelineno-59-70 name=__codelineno-59-70 href=#__codelineno-59-70></a>                <span class=s1>&#39;duration_days&#39;</span><span class=p>:</span> <span class=mi>5</span>
</span><span id=__span-59-71><a id=__codelineno-59-71 name=__codelineno-59-71 href=#__codelineno-59-71></a>            <span class=p>},</span>
</span><span id=__span-59-72><a id=__codelineno-59-72 name=__codelineno-59-72 href=#__codelineno-59-72></a>            <span class=p>{</span>
</span><span id=__span-59-73><a id=__codelineno-59-73 name=__codelineno-59-73 href=#__codelineno-59-73></a>                <span class=s1>&#39;stage&#39;</span><span class=p>:</span> <span class=s1>&#39;production_validation&#39;</span><span class=p>,</span>
</span><span id=__span-59-74><a id=__codelineno-59-74 name=__codelineno-59-74 href=#__codelineno-59-74></a>                <span class=s1>&#39;owner&#39;</span><span class=p>:</span> <span class=s1>&#39;product_manager&#39;</span><span class=p>,</span>
</span><span id=__span-59-75><a id=__codelineno-59-75 name=__codelineno-59-75 href=#__codelineno-59-75></a>                <span class=s1>&#39;inputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;deployment_package&#39;</span><span class=p>,</span> <span class=s1>&#39;success_criteria&#39;</span><span class=p>],</span>
</span><span id=__span-59-76><a id=__codelineno-59-76 name=__codelineno-59-76 href=#__codelineno-59-76></a>                <span class=s1>&#39;outputs&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;launch_decision&#39;</span><span class=p>,</span> <span class=s1>&#39;rollout_plan&#39;</span><span class=p>],</span>
</span><span id=__span-59-77><a id=__codelineno-59-77 name=__codelineno-59-77 href=#__codelineno-59-77></a>                <span class=s1>&#39;duration_days&#39;</span><span class=p>:</span> <span class=mi>3</span>
</span><span id=__span-59-78><a id=__codelineno-59-78 name=__codelineno-59-78 href=#__codelineno-59-78></a>            <span class=p>}</span>
</span><span id=__span-59-79><a id=__codelineno-59-79 name=__codelineno-59-79 href=#__codelineno-59-79></a>        <span class=p>]</span>
</span><span id=__span-59-80><a id=__codelineno-59-80 name=__codelineno-59-80 href=#__codelineno-59-80></a>
</span><span id=__span-59-81><a id=__codelineno-59-81 name=__codelineno-59-81 href=#__codelineno-59-81></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_project_timeline</span><span class=p>(</span><span class=n>workflow_stages</span><span class=p>)</span>
</span></code></pre></div> <h3 id=cultural-adoption><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#cultural-adoption>Cultural Adoption and Organizational Change</a></h3> <p>Perhaps the biggest challenge in MLOps adoption is cultural change. Moving from ad-hoc ML experimentation to systematic, production-oriented practices requires significant organizational shifts.</p> <h4 id=common-cultural-barriers><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#common-cultural-barriers>Common Cultural Barriers</a></h4> <ol> <li><strong>Research vs. Production Mindset</strong>: Data scientists trained in research environments may resist production constraints</li> <li><strong>Perfectionism vs. Iteration</strong>: Academic backgrounds often emphasize perfect solutions over iterative improvement</li> <li><strong>Individual vs. Team Ownership</strong>: Transitioning from individual notebook development to collaborative systems</li> <li><strong>Technical Debt Tolerance</strong>: Different comfort levels with technical debt between research and engineering teams</li> </ol> <h4 id=strategies-for-cultural-change><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#strategies-for-cultural-change>Strategies for Cultural Change</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-60-1><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=k>class</span><span class=w> </span><span class=nc>MLOpsCultureInitiative</span><span class=p>:</span>
</span><span id=__span-60-2><a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>organization_context</span><span class=p>):</span>
</span><span id=__span-60-3><a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>org_context</span> <span class=o>=</span> <span class=n>organization_context</span>
</span><span id=__span-60-4><a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>change_management</span> <span class=o>=</span> <span class=n>ChangeManagementFramework</span><span class=p>()</span>
</span><span id=__span-60-5><a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>success_metrics</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>define_culture_metrics</span><span class=p>()</span>
</span><span id=__span-60-6><a id=__codelineno-60-6 name=__codelineno-60-6 href=#__codelineno-60-6></a>
</span><span id=__span-60-7><a id=__codelineno-60-7 name=__codelineno-60-7 href=#__codelineno-60-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>assess_current_culture</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-60-8><a id=__codelineno-60-8 name=__codelineno-60-8 href=#__codelineno-60-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Assess the current ML culture in the organization.&quot;&quot;&quot;</span>
</span><span id=__span-60-9><a id=__codelineno-60-9 name=__codelineno-60-9 href=#__codelineno-60-9></a>
</span><span id=__span-60-10><a id=__codelineno-60-10 name=__codelineno-60-10 href=#__codelineno-60-10></a>        <span class=n>assessment_areas</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-60-11><a id=__codelineno-60-11 name=__codelineno-60-11 href=#__codelineno-60-11></a>            <span class=s1>&#39;collaboration_patterns&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>assess_collaboration</span><span class=p>(),</span>
</span><span id=__span-60-12><a id=__codelineno-60-12 name=__codelineno-60-12 href=#__codelineno-60-12></a>            <span class=s1>&#39;quality_standards&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>assess_quality_practices</span><span class=p>(),</span>
</span><span id=__span-60-13><a id=__codelineno-60-13 name=__codelineno-60-13 href=#__codelineno-60-13></a>            <span class=s1>&#39;learning_mindset&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>assess_learning_culture</span><span class=p>(),</span>
</span><span id=__span-60-14><a id=__codelineno-60-14 name=__codelineno-60-14 href=#__codelineno-60-14></a>            <span class=s1>&#39;production_readiness&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>assess_production_mindset</span><span class=p>(),</span>
</span><span id=__span-60-15><a id=__codelineno-60-15 name=__codelineno-60-15 href=#__codelineno-60-15></a>            <span class=s1>&#39;measurement_culture&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>assess_measurement_practices</span><span class=p>()</span>
</span><span id=__span-60-16><a id=__codelineno-60-16 name=__codelineno-60-16 href=#__codelineno-60-16></a>        <span class=p>}</span>
</span><span id=__span-60-17><a id=__codelineno-60-17 name=__codelineno-60-17 href=#__codelineno-60-17></a>
</span><span id=__span-60-18><a id=__codelineno-60-18 name=__codelineno-60-18 href=#__codelineno-60-18></a>        <span class=k>return</span> <span class=n>assessment_areas</span>
</span><span id=__span-60-19><a id=__codelineno-60-19 name=__codelineno-60-19 href=#__codelineno-60-19></a>
</span><span id=__span-60-20><a id=__codelineno-60-20 name=__codelineno-60-20 href=#__codelineno-60-20></a>    <span class=k>def</span><span class=w> </span><span class=nf>design_culture_intervention</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>assessment_results</span><span class=p>):</span>
</span><span id=__span-60-21><a id=__codelineno-60-21 name=__codelineno-60-21 href=#__codelineno-60-21></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Design interventions based on culture assessment.&quot;&quot;&quot;</span>
</span><span id=__span-60-22><a id=__codelineno-60-22 name=__codelineno-60-22 href=#__codelineno-60-22></a>
</span><span id=__span-60-23><a id=__codelineno-60-23 name=__codelineno-60-23 href=#__codelineno-60-23></a>        <span class=n>interventions</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-60-24><a id=__codelineno-60-24 name=__codelineno-60-24 href=#__codelineno-60-24></a>
</span><span id=__span-60-25><a id=__codelineno-60-25 name=__codelineno-60-25 href=#__codelineno-60-25></a>        <span class=c1># Address collaboration gaps</span>
</span><span id=__span-60-26><a id=__codelineno-60-26 name=__codelineno-60-26 href=#__codelineno-60-26></a>        <span class=k>if</span> <span class=n>assessment_results</span><span class=p>[</span><span class=s1>&#39;collaboration_patterns&#39;</span><span class=p>][</span><span class=s1>&#39;score&#39;</span><span class=p>]</span> <span class=o>&lt;</span> <span class=mi>7</span><span class=p>:</span>
</span><span id=__span-60-27><a id=__codelineno-60-27 name=__codelineno-60-27 href=#__codelineno-60-27></a>            <span class=n>interventions</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
</span><span id=__span-60-28><a id=__codelineno-60-28 name=__codelineno-60-28 href=#__codelineno-60-28></a>                <span class=s1>&#39;type&#39;</span><span class=p>:</span> <span class=s1>&#39;process_change&#39;</span><span class=p>,</span>
</span><span id=__span-60-29><a id=__codelineno-60-29 name=__codelineno-60-29 href=#__codelineno-60-29></a>                <span class=s1>&#39;intervention&#39;</span><span class=p>:</span> <span class=s1>&#39;cross_functional_ml_teams&#39;</span><span class=p>,</span>
</span><span id=__span-60-30><a id=__codelineno-60-30 name=__codelineno-60-30 href=#__codelineno-60-30></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Form cross-functional teams with shared ownership&#39;</span><span class=p>,</span>
</span><span id=__span-60-31><a id=__codelineno-60-31 name=__codelineno-60-31 href=#__codelineno-60-31></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;improved_handoff_times&#39;</span><span class=p>,</span> <span class=s1>&#39;reduced_production_issues&#39;</span><span class=p>]</span>
</span><span id=__span-60-32><a id=__codelineno-60-32 name=__codelineno-60-32 href=#__codelineno-60-32></a>            <span class=p>})</span>
</span><span id=__span-60-33><a id=__codelineno-60-33 name=__codelineno-60-33 href=#__codelineno-60-33></a>
</span><span id=__span-60-34><a id=__codelineno-60-34 name=__codelineno-60-34 href=#__codelineno-60-34></a>        <span class=c1># Address quality standards</span>
</span><span id=__span-60-35><a id=__codelineno-60-35 name=__codelineno-60-35 href=#__codelineno-60-35></a>        <span class=k>if</span> <span class=n>assessment_results</span><span class=p>[</span><span class=s1>&#39;quality_standards&#39;</span><span class=p>][</span><span class=s1>&#39;score&#39;</span><span class=p>]</span> <span class=o>&lt;</span> <span class=mi>6</span><span class=p>:</span>
</span><span id=__span-60-36><a id=__codelineno-60-36 name=__codelineno-60-36 href=#__codelineno-60-36></a>            <span class=n>interventions</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
</span><span id=__span-60-37><a id=__codelineno-60-37 name=__codelineno-60-37 href=#__codelineno-60-37></a>                <span class=s1>&#39;type&#39;</span><span class=p>:</span> <span class=s1>&#39;practice_adoption&#39;</span><span class=p>,</span>
</span><span id=__span-60-38><a id=__codelineno-60-38 name=__codelineno-60-38 href=#__codelineno-60-38></a>                <span class=s1>&#39;intervention&#39;</span><span class=p>:</span> <span class=s1>&#39;ml_code_review_process&#39;</span><span class=p>,</span>
</span><span id=__span-60-39><a id=__codelineno-60-39 name=__codelineno-60-39 href=#__codelineno-60-39></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Implement peer review for ML code and experiments&#39;</span><span class=p>,</span>
</span><span id=__span-60-40><a id=__codelineno-60-40 name=__codelineno-60-40 href=#__codelineno-60-40></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;code_review_coverage&#39;</span><span class=p>,</span> <span class=s1>&#39;defect_reduction&#39;</span><span class=p>]</span>
</span><span id=__span-60-41><a id=__codelineno-60-41 name=__codelineno-60-41 href=#__codelineno-60-41></a>            <span class=p>})</span>
</span><span id=__span-60-42><a id=__codelineno-60-42 name=__codelineno-60-42 href=#__codelineno-60-42></a>
</span><span id=__span-60-43><a id=__codelineno-60-43 name=__codelineno-60-43 href=#__codelineno-60-43></a>        <span class=c1># Address production mindset</span>
</span><span id=__span-60-44><a id=__codelineno-60-44 name=__codelineno-60-44 href=#__codelineno-60-44></a>        <span class=k>if</span> <span class=n>assessment_results</span><span class=p>[</span><span class=s1>&#39;production_readiness&#39;</span><span class=p>][</span><span class=s1>&#39;score&#39;</span><span class=p>]</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>:</span>
</span><span id=__span-60-45><a id=__codelineno-60-45 name=__codelineno-60-45 href=#__codelineno-60-45></a>            <span class=n>interventions</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
</span><span id=__span-60-46><a id=__codelineno-60-46 name=__codelineno-60-46 href=#__codelineno-60-46></a>                <span class=s1>&#39;type&#39;</span><span class=p>:</span> <span class=s1>&#39;mindset_shift&#39;</span><span class=p>,</span>
</span><span id=__span-60-47><a id=__codelineno-60-47 name=__codelineno-60-47 href=#__codelineno-60-47></a>                <span class=s1>&#39;intervention&#39;</span><span class=p>:</span> <span class=s1>&#39;production_shadowing_program&#39;</span><span class=p>,</span>
</span><span id=__span-60-48><a id=__codelineno-60-48 name=__codelineno-60-48 href=#__codelineno-60-48></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Data scientists shadow production deployments&#39;</span><span class=p>,</span>
</span><span id=__span-60-49><a id=__codelineno-60-49 name=__codelineno-60-49 href=#__codelineno-60-49></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;production_awareness&#39;</span><span class=p>,</span> <span class=s1>&#39;deployment_success_rate&#39;</span><span class=p>]</span>
</span><span id=__span-60-50><a id=__codelineno-60-50 name=__codelineno-60-50 href=#__codelineno-60-50></a>            <span class=p>})</span>
</span><span id=__span-60-51><a id=__codelineno-60-51 name=__codelineno-60-51 href=#__codelineno-60-51></a>
</span><span id=__span-60-52><a id=__codelineno-60-52 name=__codelineno-60-52 href=#__codelineno-60-52></a>        <span class=k>return</span> <span class=n>interventions</span>
</span><span id=__span-60-53><a id=__codelineno-60-53 name=__codelineno-60-53 href=#__codelineno-60-53></a>
</span><span id=__span-60-54><a id=__codelineno-60-54 name=__codelineno-60-54 href=#__codelineno-60-54></a>    <span class=k>def</span><span class=w> </span><span class=nf>implement_gradual_adoption</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>interventions</span><span class=p>):</span>
</span><span id=__span-60-55><a id=__codelineno-60-55 name=__codelineno-60-55 href=#__codelineno-60-55></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Implement gradual adoption of MLOps practices.&quot;&quot;&quot;</span>
</span><span id=__span-60-56><a id=__codelineno-60-56 name=__codelineno-60-56 href=#__codelineno-60-56></a>
</span><span id=__span-60-57><a id=__codelineno-60-57 name=__codelineno-60-57 href=#__codelineno-60-57></a>        <span class=n>adoption_phases</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-60-58><a id=__codelineno-60-58 name=__codelineno-60-58 href=#__codelineno-60-58></a>            <span class=p>{</span>
</span><span id=__span-60-59><a id=__codelineno-60-59 name=__codelineno-60-59 href=#__codelineno-60-59></a>                <span class=s1>&#39;phase&#39;</span><span class=p>:</span> <span class=s1>&#39;foundation&#39;</span><span class=p>,</span>
</span><span id=__span-60-60><a id=__codelineno-60-60 name=__codelineno-60-60 href=#__codelineno-60-60></a>                <span class=s1>&#39;duration_months&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span><span id=__span-60-61><a id=__codelineno-60-61 name=__codelineno-60-61 href=#__codelineno-60-61></a>                <span class=s1>&#39;goals&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-60-62><a id=__codelineno-60-62 name=__codelineno-60-62 href=#__codelineno-60-62></a>                    <span class=s1>&#39;Establish basic version control for ML code&#39;</span><span class=p>,</span>
</span><span id=__span-60-63><a id=__codelineno-60-63 name=__codelineno-60-63 href=#__codelineno-60-63></a>                    <span class=s1>&#39;Implement simple model evaluation practices&#39;</span><span class=p>,</span>
</span><span id=__span-60-64><a id=__codelineno-60-64 name=__codelineno-60-64 href=#__codelineno-60-64></a>                    <span class=s1>&#39;Create shared experiment tracking&#39;</span>
</span><span id=__span-60-65><a id=__codelineno-60-65 name=__codelineno-60-65 href=#__codelineno-60-65></a>                <span class=p>],</span>
</span><span id=__span-60-66><a id=__codelineno-60-66 name=__codelineno-60-66 href=#__codelineno-60-66></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-60-67><a id=__codelineno-60-67 name=__codelineno-60-67 href=#__codelineno-60-67></a>                    <span class=s1>&#39;version_control_adoption&#39;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>
</span><span id=__span-60-68><a id=__codelineno-60-68 name=__codelineno-60-68 href=#__codelineno-60-68></a>                    <span class=s1>&#39;experiment_tracking_usage&#39;</span><span class=p>:</span> <span class=mf>0.6</span><span class=p>,</span>
</span><span id=__span-60-69><a id=__codelineno-60-69 name=__codelineno-60-69 href=#__codelineno-60-69></a>                    <span class=s1>&#39;model_evaluation_consistency&#39;</span><span class=p>:</span> <span class=mf>0.7</span>
</span><span id=__span-60-70><a id=__codelineno-60-70 name=__codelineno-60-70 href=#__codelineno-60-70></a>                <span class=p>}</span>
</span><span id=__span-60-71><a id=__codelineno-60-71 name=__codelineno-60-71 href=#__codelineno-60-71></a>            <span class=p>},</span>
</span><span id=__span-60-72><a id=__codelineno-60-72 name=__codelineno-60-72 href=#__codelineno-60-72></a>            <span class=p>{</span>
</span><span id=__span-60-73><a id=__codelineno-60-73 name=__codelineno-60-73 href=#__codelineno-60-73></a>                <span class=s1>&#39;phase&#39;</span><span class=p>:</span> <span class=s1>&#39;systematization&#39;</span><span class=p>,</span>
</span><span id=__span-60-74><a id=__codelineno-60-74 name=__codelineno-60-74 href=#__codelineno-60-74></a>                <span class=s1>&#39;duration_months&#39;</span><span class=p>:</span> <span class=mi>6</span><span class=p>,</span>
</span><span id=__span-60-75><a id=__codelineno-60-75 name=__codelineno-60-75 href=#__codelineno-60-75></a>                <span class=s1>&#39;goals&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-60-76><a id=__codelineno-60-76 name=__codelineno-60-76 href=#__codelineno-60-76></a>                    <span class=s1>&#39;Deploy automated training pipelines&#39;</span><span class=p>,</span>
</span><span id=__span-60-77><a id=__codelineno-60-77 name=__codelineno-60-77 href=#__codelineno-60-77></a>                    <span class=s1>&#39;Implement model monitoring&#39;</span><span class=p>,</span>
</span><span id=__span-60-78><a id=__codelineno-60-78 name=__codelineno-60-78 href=#__codelineno-60-78></a>                    <span class=s1>&#39;Establish deployment standards&#39;</span>
</span><span id=__span-60-79><a id=__codelineno-60-79 name=__codelineno-60-79 href=#__codelineno-60-79></a>                <span class=p>],</span>
</span><span id=__span-60-80><a id=__codelineno-60-80 name=__codelineno-60-80 href=#__codelineno-60-80></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-60-81><a id=__codelineno-60-81 name=__codelineno-60-81 href=#__codelineno-60-81></a>                    <span class=s1>&#39;automated_pipeline_coverage&#39;</span><span class=p>:</span> <span class=mf>0.5</span><span class=p>,</span>
</span><span id=__span-60-82><a id=__codelineno-60-82 name=__codelineno-60-82 href=#__codelineno-60-82></a>                    <span class=s1>&#39;monitoring_implementation&#39;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>
</span><span id=__span-60-83><a id=__codelineno-60-83 name=__codelineno-60-83 href=#__codelineno-60-83></a>                    <span class=s1>&#39;deployment_standard_compliance&#39;</span><span class=p>:</span> <span class=mf>0.7</span>
</span><span id=__span-60-84><a id=__codelineno-60-84 name=__codelineno-60-84 href=#__codelineno-60-84></a>                <span class=p>}</span>
</span><span id=__span-60-85><a id=__codelineno-60-85 name=__codelineno-60-85 href=#__codelineno-60-85></a>            <span class=p>},</span>
</span><span id=__span-60-86><a id=__codelineno-60-86 name=__codelineno-60-86 href=#__codelineno-60-86></a>            <span class=p>{</span>
</span><span id=__span-60-87><a id=__codelineno-60-87 name=__codelineno-60-87 href=#__codelineno-60-87></a>                <span class=s1>&#39;phase&#39;</span><span class=p>:</span> <span class=s1>&#39;optimization&#39;</span><span class=p>,</span>
</span><span id=__span-60-88><a id=__codelineno-60-88 name=__codelineno-60-88 href=#__codelineno-60-88></a>                <span class=s1>&#39;duration_months&#39;</span><span class=p>:</span> <span class=mi>6</span><span class=p>,</span>
</span><span id=__span-60-89><a id=__codelineno-60-89 name=__codelineno-60-89 href=#__codelineno-60-89></a>                <span class=s1>&#39;goals&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-60-90><a id=__codelineno-60-90 name=__codelineno-60-90 href=#__codelineno-60-90></a>                    <span class=s1>&#39;Advanced monitoring and alerting&#39;</span><span class=p>,</span>
</span><span id=__span-60-91><a id=__codelineno-60-91 name=__codelineno-60-91 href=#__codelineno-60-91></a>                    <span class=s1>&#39;Automated model retraining&#39;</span><span class=p>,</span>
</span><span id=__span-60-92><a id=__codelineno-60-92 name=__codelineno-60-92 href=#__codelineno-60-92></a>                    <span class=s1>&#39;Business impact measurement&#39;</span>
</span><span id=__span-60-93><a id=__codelineno-60-93 name=__codelineno-60-93 href=#__codelineno-60-93></a>                <span class=p>],</span>
</span><span id=__span-60-94><a id=__codelineno-60-94 name=__codelineno-60-94 href=#__codelineno-60-94></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-60-95><a id=__codelineno-60-95 name=__codelineno-60-95 href=#__codelineno-60-95></a>                    <span class=s1>&#39;advanced_monitoring_coverage&#39;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>
</span><span id=__span-60-96><a id=__codelineno-60-96 name=__codelineno-60-96 href=#__codelineno-60-96></a>                    <span class=s1>&#39;automated_retraining_adoption&#39;</span><span class=p>:</span> <span class=mf>0.6</span><span class=p>,</span>
</span><span id=__span-60-97><a id=__codelineno-60-97 name=__codelineno-60-97 href=#__codelineno-60-97></a>                    <span class=s1>&#39;business_impact_tracking&#39;</span><span class=p>:</span> <span class=mf>0.9</span>
</span><span id=__span-60-98><a id=__codelineno-60-98 name=__codelineno-60-98 href=#__codelineno-60-98></a>                <span class=p>}</span>
</span><span id=__span-60-99><a id=__codelineno-60-99 name=__codelineno-60-99 href=#__codelineno-60-99></a>            <span class=p>}</span>
</span><span id=__span-60-100><a id=__codelineno-60-100 name=__codelineno-60-100 href=#__codelineno-60-100></a>        <span class=p>]</span>
</span><span id=__span-60-101><a id=__codelineno-60-101 name=__codelineno-60-101 href=#__codelineno-60-101></a>
</span><span id=__span-60-102><a id=__codelineno-60-102 name=__codelineno-60-102 href=#__codelineno-60-102></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>execute_phased_rollout</span><span class=p>(</span><span class=n>adoption_phases</span><span class=p>)</span>
</span></code></pre></div> <h4 id=measuring-cultural-change><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#measuring-cultural-change>Measuring Cultural Change</a></h4> <p>It's important to measure the success of cultural initiatives:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-61-1><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a><span class=k>def</span><span class=w> </span><span class=nf>measure_mlops_culture_maturity</span><span class=p>(</span><span class=n>organization</span><span class=p>):</span>
</span><span id=__span-61-2><a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Measure MLOps culture maturity across dimensions.&quot;&quot;&quot;</span>
</span><span id=__span-61-3><a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a>
</span><span id=__span-61-4><a id=__codelineno-61-4 name=__codelineno-61-4 href=#__codelineno-61-4></a>    <span class=n>dimensions</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-61-5><a id=__codelineno-61-5 name=__codelineno-61-5 href=#__codelineno-61-5></a>        <span class=s1>&#39;collaboration&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-61-6><a id=__codelineno-61-6 name=__codelineno-61-6 href=#__codelineno-61-6></a>            <span class=s1>&#39;metrics&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-61-7><a id=__codelineno-61-7 name=__codelineno-61-7 href=#__codelineno-61-7></a>                <span class=s1>&#39;cross_team_project_percentage&#39;</span><span class=p>,</span>
</span><span id=__span-61-8><a id=__codelineno-61-8 name=__codelineno-61-8 href=#__codelineno-61-8></a>                <span class=s1>&#39;shared_ownership_incidents&#39;</span><span class=p>,</span>
</span><span id=__span-61-9><a id=__codelineno-61-9 name=__codelineno-61-9 href=#__codelineno-61-9></a>                <span class=s1>&#39;knowledge_sharing_frequency&#39;</span>
</span><span id=__span-61-10><a id=__codelineno-61-10 name=__codelineno-61-10 href=#__codelineno-61-10></a>            <span class=p>],</span>
</span><span id=__span-61-11><a id=__codelineno-61-11 name=__codelineno-61-11 href=#__codelineno-61-11></a>            <span class=s1>&#39;weight&#39;</span><span class=p>:</span> <span class=mf>0.25</span>
</span><span id=__span-61-12><a id=__codelineno-61-12 name=__codelineno-61-12 href=#__codelineno-61-12></a>        <span class=p>},</span>
</span><span id=__span-61-13><a id=__codelineno-61-13 name=__codelineno-61-13 href=#__codelineno-61-13></a>        <span class=s1>&#39;quality_focus&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-61-14><a id=__codelineno-61-14 name=__codelineno-61-14 href=#__codelineno-61-14></a>            <span class=s1>&#39;metrics&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-61-15><a id=__codelineno-61-15 name=__codelineno-61-15 href=#__codelineno-61-15></a>                <span class=s1>&#39;code_review_coverage&#39;</span><span class=p>,</span>
</span><span id=__span-61-16><a id=__codelineno-61-16 name=__codelineno-61-16 href=#__codelineno-61-16></a>                <span class=s1>&#39;testing_adoption_rate&#39;</span><span class=p>,</span>
</span><span id=__span-61-17><a id=__codelineno-61-17 name=__codelineno-61-17 href=#__codelineno-61-17></a>                <span class=s1>&#39;documentation_completeness&#39;</span>
</span><span id=__span-61-18><a id=__codelineno-61-18 name=__codelineno-61-18 href=#__codelineno-61-18></a>            <span class=p>],</span>
</span><span id=__span-61-19><a id=__codelineno-61-19 name=__codelineno-61-19 href=#__codelineno-61-19></a>            <span class=s1>&#39;weight&#39;</span><span class=p>:</span> <span class=mf>0.25</span>
</span><span id=__span-61-20><a id=__codelineno-61-20 name=__codelineno-61-20 href=#__codelineno-61-20></a>        <span class=p>},</span>
</span><span id=__span-61-21><a id=__codelineno-61-21 name=__codelineno-61-21 href=#__codelineno-61-21></a>        <span class=s1>&#39;production_mindset&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-61-22><a id=__codelineno-61-22 name=__codelineno-61-22 href=#__codelineno-61-22></a>            <span class=s1>&#39;metrics&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-61-23><a id=__codelineno-61-23 name=__codelineno-61-23 href=#__codelineno-61-23></a>                <span class=s1>&#39;production_ready_model_percentage&#39;</span><span class=p>,</span>
</span><span id=__span-61-24><a id=__codelineno-61-24 name=__codelineno-61-24 href=#__codelineno-61-24></a>                <span class=s1>&#39;deployment_success_rate&#39;</span><span class=p>,</span>
</span><span id=__span-61-25><a id=__codelineno-61-25 name=__codelineno-61-25 href=#__codelineno-61-25></a>                <span class=s1>&#39;monitoring_coverage&#39;</span>
</span><span id=__span-61-26><a id=__codelineno-61-26 name=__codelineno-61-26 href=#__codelineno-61-26></a>            <span class=p>],</span>
</span><span id=__span-61-27><a id=__codelineno-61-27 name=__codelineno-61-27 href=#__codelineno-61-27></a>            <span class=s1>&#39;weight&#39;</span><span class=p>:</span> <span class=mf>0.25</span>
</span><span id=__span-61-28><a id=__codelineno-61-28 name=__codelineno-61-28 href=#__codelineno-61-28></a>        <span class=p>},</span>
</span><span id=__span-61-29><a id=__codelineno-61-29 name=__codelineno-61-29 href=#__codelineno-61-29></a>        <span class=s1>&#39;continuous_improvement&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-61-30><a id=__codelineno-61-30 name=__codelineno-61-30 href=#__codelineno-61-30></a>            <span class=s1>&#39;metrics&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-61-31><a id=__codelineno-61-31 name=__codelineno-61-31 href=#__codelineno-61-31></a>                <span class=s1>&#39;experiment_velocity&#39;</span><span class=p>,</span>
</span><span id=__span-61-32><a id=__codelineno-61-32 name=__codelineno-61-32 href=#__codelineno-61-32></a>                <span class=s1>&#39;feedback_loop_completion_rate&#39;</span><span class=p>,</span>
</span><span id=__span-61-33><a id=__codelineno-61-33 name=__codelineno-61-33 href=#__codelineno-61-33></a>                <span class=s1>&#39;learning_from_failures_score&#39;</span>
</span><span id=__span-61-34><a id=__codelineno-61-34 name=__codelineno-61-34 href=#__codelineno-61-34></a>            <span class=p>],</span>
</span><span id=__span-61-35><a id=__codelineno-61-35 name=__codelineno-61-35 href=#__codelineno-61-35></a>            <span class=s1>&#39;weight&#39;</span><span class=p>:</span> <span class=mf>0.25</span>
</span><span id=__span-61-36><a id=__codelineno-61-36 name=__codelineno-61-36 href=#__codelineno-61-36></a>        <span class=p>}</span>
</span><span id=__span-61-37><a id=__codelineno-61-37 name=__codelineno-61-37 href=#__codelineno-61-37></a>    <span class=p>}</span>
</span><span id=__span-61-38><a id=__codelineno-61-38 name=__codelineno-61-38 href=#__codelineno-61-38></a>
</span><span id=__span-61-39><a id=__codelineno-61-39 name=__codelineno-61-39 href=#__codelineno-61-39></a>    <span class=n>maturity_score</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-61-40><a id=__codelineno-61-40 name=__codelineno-61-40 href=#__codelineno-61-40></a>    <span class=n>dimension_scores</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-61-41><a id=__codelineno-61-41 name=__codelineno-61-41 href=#__codelineno-61-41></a>
</span><span id=__span-61-42><a id=__codelineno-61-42 name=__codelineno-61-42 href=#__codelineno-61-42></a>    <span class=k>for</span> <span class=n>dimension</span><span class=p>,</span> <span class=n>config</span> <span class=ow>in</span> <span class=n>dimensions</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-61-43><a id=__codelineno-61-43 name=__codelineno-61-43 href=#__codelineno-61-43></a>        <span class=n>dimension_score</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-61-44><a id=__codelineno-61-44 name=__codelineno-61-44 href=#__codelineno-61-44></a>        <span class=k>for</span> <span class=n>metric</span> <span class=ow>in</span> <span class=n>config</span><span class=p>[</span><span class=s1>&#39;metrics&#39;</span><span class=p>]:</span>
</span><span id=__span-61-45><a id=__codelineno-61-45 name=__codelineno-61-45 href=#__codelineno-61-45></a>            <span class=n>metric_value</span> <span class=o>=</span> <span class=n>organization</span><span class=o>.</span><span class=n>get_metric_value</span><span class=p>(</span><span class=n>metric</span><span class=p>)</span>
</span><span id=__span-61-46><a id=__codelineno-61-46 name=__codelineno-61-46 href=#__codelineno-61-46></a>            <span class=n>normalized_score</span> <span class=o>=</span> <span class=n>normalize_metric_score</span><span class=p>(</span><span class=n>metric</span><span class=p>,</span> <span class=n>metric_value</span><span class=p>)</span>
</span><span id=__span-61-47><a id=__codelineno-61-47 name=__codelineno-61-47 href=#__codelineno-61-47></a>            <span class=n>dimension_score</span> <span class=o>+=</span> <span class=n>normalized_score</span>
</span><span id=__span-61-48><a id=__codelineno-61-48 name=__codelineno-61-48 href=#__codelineno-61-48></a>
</span><span id=__span-61-49><a id=__codelineno-61-49 name=__codelineno-61-49 href=#__codelineno-61-49></a>        <span class=n>dimension_score</span> <span class=o>=</span> <span class=n>dimension_score</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>config</span><span class=p>[</span><span class=s1>&#39;metrics&#39;</span><span class=p>])</span>
</span><span id=__span-61-50><a id=__codelineno-61-50 name=__codelineno-61-50 href=#__codelineno-61-50></a>        <span class=n>dimension_scores</span><span class=p>[</span><span class=n>dimension</span><span class=p>]</span> <span class=o>=</span> <span class=n>dimension_score</span>
</span><span id=__span-61-51><a id=__codelineno-61-51 name=__codelineno-61-51 href=#__codelineno-61-51></a>        <span class=n>maturity_score</span> <span class=o>+=</span> <span class=n>dimension_score</span> <span class=o>*</span> <span class=n>config</span><span class=p>[</span><span class=s1>&#39;weight&#39;</span><span class=p>]</span>
</span><span id=__span-61-52><a id=__codelineno-61-52 name=__codelineno-61-52 href=#__codelineno-61-52></a>
</span><span id=__span-61-53><a id=__codelineno-61-53 name=__codelineno-61-53 href=#__codelineno-61-53></a>    <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-61-54><a id=__codelineno-61-54 name=__codelineno-61-54 href=#__codelineno-61-54></a>        <span class=s1>&#39;overall_maturity&#39;</span><span class=p>:</span> <span class=n>maturity_score</span><span class=p>,</span>
</span><span id=__span-61-55><a id=__codelineno-61-55 name=__codelineno-61-55 href=#__codelineno-61-55></a>        <span class=s1>&#39;dimension_scores&#39;</span><span class=p>:</span> <span class=n>dimension_scores</span><span class=p>,</span>
</span><span id=__span-61-56><a id=__codelineno-61-56 name=__codelineno-61-56 href=#__codelineno-61-56></a>        <span class=s1>&#39;maturity_level&#39;</span><span class=p>:</span> <span class=n>classify_maturity_level</span><span class=p>(</span><span class=n>maturity_score</span><span class=p>),</span>
</span><span id=__span-61-57><a id=__codelineno-61-57 name=__codelineno-61-57 href=#__codelineno-61-57></a>        <span class=s1>&#39;improvement_recommendations&#39;</span><span class=p>:</span> <span class=n>generate_recommendations</span><span class=p>(</span><span class=n>dimension_scores</span><span class=p>)</span>
</span><span id=__span-61-58><a id=__codelineno-61-58 name=__codelineno-61-58 href=#__codelineno-61-58></a>    <span class=p>}</span>
</span></code></pre></div> <h3 id=practical-recommendations><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#practical-recommendations>Practical Recommendations</a></h3> <p>Based on my experience implementing MLOps at scale, here are practical recommendations for organizations looking to improve their ML operations maturity.</p> <h4 id=start-small-think-big><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#start-small-think-big>Start Small, Think Big</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-62-1><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=k>class</span><span class=w> </span><span class=nc>MLOpsAdoptionStrategy</span><span class=p>:</span>
</span><span id=__span-62-2><a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>organization_size</span><span class=p>,</span> <span class=n>current_ml_maturity</span><span class=p>):</span>
</span><span id=__span-62-3><a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>org_size</span> <span class=o>=</span> <span class=n>organization_size</span>
</span><span id=__span-62-4><a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>current_maturity</span> <span class=o>=</span> <span class=n>current_ml_maturity</span>
</span><span id=__span-62-5><a id=__codelineno-62-5 name=__codelineno-62-5 href=#__codelineno-62-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>recommended_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>determine_adoption_path</span><span class=p>()</span>
</span><span id=__span-62-6><a id=__codelineno-62-6 name=__codelineno-62-6 href=#__codelineno-62-6></a>
</span><span id=__span-62-7><a id=__codelineno-62-7 name=__codelineno-62-7 href=#__codelineno-62-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>determine_adoption_path</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-62-8><a id=__codelineno-62-8 name=__codelineno-62-8 href=#__codelineno-62-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Determine the appropriate MLOps adoption path.&quot;&quot;&quot;</span>
</span><span id=__span-62-9><a id=__codelineno-62-9 name=__codelineno-62-9 href=#__codelineno-62-9></a>
</span><span id=__span-62-10><a id=__codelineno-62-10 name=__codelineno-62-10 href=#__codelineno-62-10></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>current_maturity</span> <span class=o>==</span> <span class=s1>&#39;experimental&#39;</span><span class=p>:</span>
</span><span id=__span-62-11><a id=__codelineno-62-11 name=__codelineno-62-11 href=#__codelineno-62-11></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>experimental_to_basic_path</span><span class=p>()</span>
</span><span id=__span-62-12><a id=__codelineno-62-12 name=__codelineno-62-12 href=#__codelineno-62-12></a>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>current_maturity</span> <span class=o>==</span> <span class=s1>&#39;basic_production&#39;</span><span class=p>:</span>
</span><span id=__span-62-13><a id=__codelineno-62-13 name=__codelineno-62-13 href=#__codelineno-62-13></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>basic_to_intermediate_path</span><span class=p>()</span>
</span><span id=__span-62-14><a id=__codelineno-62-14 name=__codelineno-62-14 href=#__codelineno-62-14></a>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>current_maturity</span> <span class=o>==</span> <span class=s1>&#39;intermediate&#39;</span><span class=p>:</span>
</span><span id=__span-62-15><a id=__codelineno-62-15 name=__codelineno-62-15 href=#__codelineno-62-15></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>intermediate_to_advanced_path</span><span class=p>()</span>
</span><span id=__span-62-16><a id=__codelineno-62-16 name=__codelineno-62-16 href=#__codelineno-62-16></a>
</span><span id=__span-62-17><a id=__codelineno-62-17 name=__codelineno-62-17 href=#__codelineno-62-17></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>starting_from_scratch_path</span><span class=p>()</span>
</span><span id=__span-62-18><a id=__codelineno-62-18 name=__codelineno-62-18 href=#__codelineno-62-18></a>
</span><span id=__span-62-19><a id=__codelineno-62-19 name=__codelineno-62-19 href=#__codelineno-62-19></a>    <span class=k>def</span><span class=w> </span><span class=nf>experimental_to_basic_path</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-62-20><a id=__codelineno-62-20 name=__codelineno-62-20 href=#__codelineno-62-20></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Path for organizations with only experimental ML.&quot;&quot;&quot;</span>
</span><span id=__span-62-21><a id=__codelineno-62-21 name=__codelineno-62-21 href=#__codelineno-62-21></a>        <span class=k>return</span> <span class=p>[</span>
</span><span id=__span-62-22><a id=__codelineno-62-22 name=__codelineno-62-22 href=#__codelineno-62-22></a>            <span class=p>{</span>
</span><span id=__span-62-23><a id=__codelineno-62-23 name=__codelineno-62-23 href=#__codelineno-62-23></a>                <span class=s1>&#39;step&#39;</span><span class=p>:</span> <span class=s1>&#39;establish_version_control&#39;</span><span class=p>,</span>
</span><span id=__span-62-24><a id=__codelineno-62-24 name=__codelineno-62-24 href=#__codelineno-62-24></a>                <span class=s1>&#39;priority&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span>
</span><span id=__span-62-25><a id=__codelineno-62-25 name=__codelineno-62-25 href=#__codelineno-62-25></a>                <span class=s1>&#39;effort&#39;</span><span class=p>:</span> <span class=s1>&#39;low&#39;</span><span class=p>,</span>
</span><span id=__span-62-26><a id=__codelineno-62-26 name=__codelineno-62-26 href=#__codelineno-62-26></a>                <span class=s1>&#39;timeline_weeks&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span><span id=__span-62-27><a id=__codelineno-62-27 name=__codelineno-62-27 href=#__codelineno-62-27></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Get all ML code into version control&#39;</span><span class=p>,</span>
</span><span id=__span-62-28><a id=__codelineno-62-28 name=__codelineno-62-28 href=#__codelineno-62-28></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;All ML code versioned&#39;</span><span class=p>,</span> <span class=s1>&#39;Basic branching strategy adopted&#39;</span><span class=p>]</span>
</span><span id=__span-62-29><a id=__codelineno-62-29 name=__codelineno-62-29 href=#__codelineno-62-29></a>            <span class=p>},</span>
</span><span id=__span-62-30><a id=__codelineno-62-30 name=__codelineno-62-30 href=#__codelineno-62-30></a>            <span class=p>{</span>
</span><span id=__span-62-31><a id=__codelineno-62-31 name=__codelineno-62-31 href=#__codelineno-62-31></a>                <span class=s1>&#39;step&#39;</span><span class=p>:</span> <span class=s1>&#39;implement_experiment_tracking&#39;</span><span class=p>,</span>
</span><span id=__span-62-32><a id=__codelineno-62-32 name=__codelineno-62-32 href=#__codelineno-62-32></a>                <span class=s1>&#39;priority&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span>
</span><span id=__span-62-33><a id=__codelineno-62-33 name=__codelineno-62-33 href=#__codelineno-62-33></a>                <span class=s1>&#39;effort&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-34><a id=__codelineno-62-34 name=__codelineno-62-34 href=#__codelineno-62-34></a>                <span class=s1>&#39;timeline_weeks&#39;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
</span><span id=__span-62-35><a id=__codelineno-62-35 name=__codelineno-62-35 href=#__codelineno-62-35></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Track experiments and model performance&#39;</span><span class=p>,</span>
</span><span id=__span-62-36><a id=__codelineno-62-36 name=__codelineno-62-36 href=#__codelineno-62-36></a>                <span class=s1>&#39;tools&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;MLflow&#39;</span><span class=p>,</span> <span class=s1>&#39;Weights &amp; Biases&#39;</span><span class=p>,</span> <span class=s1>&#39;Neptune&#39;</span><span class=p>],</span>
</span><span id=__span-62-37><a id=__codelineno-62-37 name=__codelineno-62-37 href=#__codelineno-62-37></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;Experiment reproducibility&#39;</span><span class=p>,</span> <span class=s1>&#39;Model comparison capability&#39;</span><span class=p>]</span>
</span><span id=__span-62-38><a id=__codelineno-62-38 name=__codelineno-62-38 href=#__codelineno-62-38></a>            <span class=p>},</span>
</span><span id=__span-62-39><a id=__codelineno-62-39 name=__codelineno-62-39 href=#__codelineno-62-39></a>            <span class=p>{</span>
</span><span id=__span-62-40><a id=__codelineno-62-40 name=__codelineno-62-40 href=#__codelineno-62-40></a>                <span class=s1>&#39;step&#39;</span><span class=p>:</span> <span class=s1>&#39;create_simple_deployment_pipeline&#39;</span><span class=p>,</span>
</span><span id=__span-62-41><a id=__codelineno-62-41 name=__codelineno-62-41 href=#__codelineno-62-41></a>                <span class=s1>&#39;priority&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-42><a id=__codelineno-62-42 name=__codelineno-62-42 href=#__codelineno-62-42></a>                <span class=s1>&#39;effort&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-43><a id=__codelineno-62-43 name=__codelineno-62-43 href=#__codelineno-62-43></a>                <span class=s1>&#39;timeline_weeks&#39;</span><span class=p>:</span> <span class=mi>6</span><span class=p>,</span>
</span><span id=__span-62-44><a id=__codelineno-62-44 name=__codelineno-62-44 href=#__codelineno-62-44></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Automate model deployment to staging environment&#39;</span><span class=p>,</span>
</span><span id=__span-62-45><a id=__codelineno-62-45 name=__codelineno-62-45 href=#__codelineno-62-45></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;Automated deployment&#39;</span><span class=p>,</span> <span class=s1>&#39;Basic testing in staging&#39;</span><span class=p>]</span>
</span><span id=__span-62-46><a id=__codelineno-62-46 name=__codelineno-62-46 href=#__codelineno-62-46></a>            <span class=p>},</span>
</span><span id=__span-62-47><a id=__codelineno-62-47 name=__codelineno-62-47 href=#__codelineno-62-47></a>            <span class=p>{</span>
</span><span id=__span-62-48><a id=__codelineno-62-48 name=__codelineno-62-48 href=#__codelineno-62-48></a>                <span class=s1>&#39;step&#39;</span><span class=p>:</span> <span class=s1>&#39;establish_basic_monitoring&#39;</span><span class=p>,</span>
</span><span id=__span-62-49><a id=__codelineno-62-49 name=__codelineno-62-49 href=#__codelineno-62-49></a>                <span class=s1>&#39;priority&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-50><a id=__codelineno-62-50 name=__codelineno-62-50 href=#__codelineno-62-50></a>                <span class=s1>&#39;effort&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-51><a id=__codelineno-62-51 name=__codelineno-62-51 href=#__codelineno-62-51></a>                <span class=s1>&#39;timeline_weeks&#39;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
</span><span id=__span-62-52><a id=__codelineno-62-52 name=__codelineno-62-52 href=#__codelineno-62-52></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Monitor model performance in production&#39;</span><span class=p>,</span>
</span><span id=__span-62-53><a id=__codelineno-62-53 name=__codelineno-62-53 href=#__codelineno-62-53></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;Model health dashboards&#39;</span><span class=p>,</span> <span class=s1>&#39;Basic alerting&#39;</span><span class=p>]</span>
</span><span id=__span-62-54><a id=__codelineno-62-54 name=__codelineno-62-54 href=#__codelineno-62-54></a>            <span class=p>}</span>
</span><span id=__span-62-55><a id=__codelineno-62-55 name=__codelineno-62-55 href=#__codelineno-62-55></a>        <span class=p>]</span>
</span><span id=__span-62-56><a id=__codelineno-62-56 name=__codelineno-62-56 href=#__codelineno-62-56></a>
</span><span id=__span-62-57><a id=__codelineno-62-57 name=__codelineno-62-57 href=#__codelineno-62-57></a>    <span class=k>def</span><span class=w> </span><span class=nf>basic_to_intermediate_path</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-62-58><a id=__codelineno-62-58 name=__codelineno-62-58 href=#__codelineno-62-58></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Path for organizations with basic ML in production.&quot;&quot;&quot;</span>
</span><span id=__span-62-59><a id=__codelineno-62-59 name=__codelineno-62-59 href=#__codelineno-62-59></a>        <span class=k>return</span> <span class=p>[</span>
</span><span id=__span-62-60><a id=__codelineno-62-60 name=__codelineno-62-60 href=#__codelineno-62-60></a>            <span class=p>{</span>
</span><span id=__span-62-61><a id=__codelineno-62-61 name=__codelineno-62-61 href=#__codelineno-62-61></a>                <span class=s1>&#39;step&#39;</span><span class=p>:</span> <span class=s1>&#39;implement_feature_store&#39;</span><span class=p>,</span>
</span><span id=__span-62-62><a id=__codelineno-62-62 name=__codelineno-62-62 href=#__codelineno-62-62></a>                <span class=s1>&#39;priority&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span>
</span><span id=__span-62-63><a id=__codelineno-62-63 name=__codelineno-62-63 href=#__codelineno-62-63></a>                <span class=s1>&#39;effort&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span>
</span><span id=__span-62-64><a id=__codelineno-62-64 name=__codelineno-62-64 href=#__codelineno-62-64></a>                <span class=s1>&#39;timeline_weeks&#39;</span><span class=p>:</span> <span class=mi>12</span><span class=p>,</span>
</span><span id=__span-62-65><a id=__codelineno-62-65 name=__codelineno-62-65 href=#__codelineno-62-65></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Centralize feature management and serving&#39;</span><span class=p>,</span>
</span><span id=__span-62-66><a id=__codelineno-62-66 name=__codelineno-62-66 href=#__codelineno-62-66></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;Feature reusability&#39;</span><span class=p>,</span> <span class=s1>&#39;Training/serving consistency&#39;</span><span class=p>]</span>
</span><span id=__span-62-67><a id=__codelineno-62-67 name=__codelineno-62-67 href=#__codelineno-62-67></a>            <span class=p>},</span>
</span><span id=__span-62-68><a id=__codelineno-62-68 name=__codelineno-62-68 href=#__codelineno-62-68></a>            <span class=p>{</span>
</span><span id=__span-62-69><a id=__codelineno-62-69 name=__codelineno-62-69 href=#__codelineno-62-69></a>                <span class=s1>&#39;step&#39;</span><span class=p>:</span> <span class=s1>&#39;advanced_monitoring_and_alerting&#39;</span><span class=p>,</span>
</span><span id=__span-62-70><a id=__codelineno-62-70 name=__codelineno-62-70 href=#__codelineno-62-70></a>                <span class=s1>&#39;priority&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span>
</span><span id=__span-62-71><a id=__codelineno-62-71 name=__codelineno-62-71 href=#__codelineno-62-71></a>                <span class=s1>&#39;effort&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-72><a id=__codelineno-62-72 name=__codelineno-62-72 href=#__codelineno-62-72></a>                <span class=s1>&#39;timeline_weeks&#39;</span><span class=p>:</span> <span class=mi>8</span><span class=p>,</span>
</span><span id=__span-62-73><a id=__codelineno-62-73 name=__codelineno-62-73 href=#__codelineno-62-73></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Implement data drift and model performance monitoring&#39;</span><span class=p>,</span>
</span><span id=__span-62-74><a id=__codelineno-62-74 name=__codelineno-62-74 href=#__codelineno-62-74></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;Automated drift detection&#39;</span><span class=p>,</span> <span class=s1>&#39;Performance alerting&#39;</span><span class=p>]</span>
</span><span id=__span-62-75><a id=__codelineno-62-75 name=__codelineno-62-75 href=#__codelineno-62-75></a>            <span class=p>},</span>
</span><span id=__span-62-76><a id=__codelineno-62-76 name=__codelineno-62-76 href=#__codelineno-62-76></a>            <span class=p>{</span>
</span><span id=__span-62-77><a id=__codelineno-62-77 name=__codelineno-62-77 href=#__codelineno-62-77></a>                <span class=s1>&#39;step&#39;</span><span class=p>:</span> <span class=s1>&#39;automated_retraining_pipelines&#39;</span><span class=p>,</span>
</span><span id=__span-62-78><a id=__codelineno-62-78 name=__codelineno-62-78 href=#__codelineno-62-78></a>                <span class=s1>&#39;priority&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-79><a id=__codelineno-62-79 name=__codelineno-62-79 href=#__codelineno-62-79></a>                <span class=s1>&#39;effort&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span>
</span><span id=__span-62-80><a id=__codelineno-62-80 name=__codelineno-62-80 href=#__codelineno-62-80></a>                <span class=s1>&#39;timeline_weeks&#39;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span>
</span><span id=__span-62-81><a id=__codelineno-62-81 name=__codelineno-62-81 href=#__codelineno-62-81></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Automate model retraining based on performance metrics&#39;</span><span class=p>,</span>
</span><span id=__span-62-82><a id=__codelineno-62-82 name=__codelineno-62-82 href=#__codelineno-62-82></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;Automatic retraining triggers&#39;</span><span class=p>,</span> <span class=s1>&#39;Model validation gates&#39;</span><span class=p>]</span>
</span><span id=__span-62-83><a id=__codelineno-62-83 name=__codelineno-62-83 href=#__codelineno-62-83></a>            <span class=p>},</span>
</span><span id=__span-62-84><a id=__codelineno-62-84 name=__codelineno-62-84 href=#__codelineno-62-84></a>            <span class=p>{</span>
</span><span id=__span-62-85><a id=__codelineno-62-85 name=__codelineno-62-85 href=#__codelineno-62-85></a>                <span class=s1>&#39;step&#39;</span><span class=p>:</span> <span class=s1>&#39;a_b_testing_framework&#39;</span><span class=p>,</span>
</span><span id=__span-62-86><a id=__codelineno-62-86 name=__codelineno-62-86 href=#__codelineno-62-86></a>                <span class=s1>&#39;priority&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-87><a id=__codelineno-62-87 name=__codelineno-62-87 href=#__codelineno-62-87></a>                <span class=s1>&#39;effort&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-88><a id=__codelineno-62-88 name=__codelineno-62-88 href=#__codelineno-62-88></a>                <span class=s1>&#39;timeline_weeks&#39;</span><span class=p>:</span> <span class=mi>6</span><span class=p>,</span>
</span><span id=__span-62-89><a id=__codelineno-62-89 name=__codelineno-62-89 href=#__codelineno-62-89></a>                <span class=s1>&#39;description&#39;</span><span class=p>:</span> <span class=s1>&#39;Implement systematic A/B testing for model improvements&#39;</span><span class=p>,</span>
</span><span id=__span-62-90><a id=__codelineno-62-90 name=__codelineno-62-90 href=#__codelineno-62-90></a>                <span class=s1>&#39;success_criteria&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;Controlled model rollouts&#39;</span><span class=p>,</span> <span class=s1>&#39;Statistical significance testing&#39;</span><span class=p>]</span>
</span><span id=__span-62-91><a id=__codelineno-62-91 name=__codelineno-62-91 href=#__codelineno-62-91></a>            <span class=p>}</span>
</span><span id=__span-62-92><a id=__codelineno-62-92 name=__codelineno-62-92 href=#__codelineno-62-92></a>        <span class=p>]</span>
</span><span id=__span-62-93><a id=__codelineno-62-93 name=__codelineno-62-93 href=#__codelineno-62-93></a>
</span><span id=__span-62-94><a id=__codelineno-62-94 name=__codelineno-62-94 href=#__codelineno-62-94></a><span class=k>def</span><span class=w> </span><span class=nf>prioritize_mlops_initiatives</span><span class=p>(</span><span class=n>current_state</span><span class=p>,</span> <span class=n>business_goals</span><span class=p>,</span> <span class=n>constraints</span><span class=p>):</span>
</span><span id=__span-62-95><a id=__codelineno-62-95 name=__codelineno-62-95 href=#__codelineno-62-95></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Prioritize MLOps initiatives based on context.&quot;&quot;&quot;</span>
</span><span id=__span-62-96><a id=__codelineno-62-96 name=__codelineno-62-96 href=#__codelineno-62-96></a>
</span><span id=__span-62-97><a id=__codelineno-62-97 name=__codelineno-62-97 href=#__codelineno-62-97></a>    <span class=c1># Define potential initiatives</span>
</span><span id=__span-62-98><a id=__codelineno-62-98 name=__codelineno-62-98 href=#__codelineno-62-98></a>    <span class=n>initiatives</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-62-99><a id=__codelineno-62-99 name=__codelineno-62-99 href=#__codelineno-62-99></a>        <span class=p>{</span>
</span><span id=__span-62-100><a id=__codelineno-62-100 name=__codelineno-62-100 href=#__codelineno-62-100></a>            <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;model_monitoring&#39;</span><span class=p>,</span>
</span><span id=__span-62-101><a id=__codelineno-62-101 name=__codelineno-62-101 href=#__codelineno-62-101></a>            <span class=s1>&#39;business_impact&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span>
</span><span id=__span-62-102><a id=__codelineno-62-102 name=__codelineno-62-102 href=#__codelineno-62-102></a>            <span class=s1>&#39;technical_complexity&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-103><a id=__codelineno-62-103 name=__codelineno-62-103 href=#__codelineno-62-103></a>            <span class=s1>&#39;time_to_value&#39;</span><span class=p>:</span> <span class=s1>&#39;short&#39;</span><span class=p>,</span>
</span><span id=__span-62-104><a id=__codelineno-62-104 name=__codelineno-62-104 href=#__codelineno-62-104></a>            <span class=s1>&#39;prerequisites&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;deployed_models&#39;</span><span class=p>],</span>
</span><span id=__span-62-105><a id=__codelineno-62-105 name=__codelineno-62-105 href=#__codelineno-62-105></a>            <span class=s1>&#39;addresses_goals&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;reliability&#39;</span><span class=p>,</span> <span class=s1>&#39;risk_management&#39;</span><span class=p>]</span>
</span><span id=__span-62-106><a id=__codelineno-62-106 name=__codelineno-62-106 href=#__codelineno-62-106></a>        <span class=p>},</span>
</span><span id=__span-62-107><a id=__codelineno-62-107 name=__codelineno-62-107 href=#__codelineno-62-107></a>        <span class=p>{</span>
</span><span id=__span-62-108><a id=__codelineno-62-108 name=__codelineno-62-108 href=#__codelineno-62-108></a>            <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;automated_retraining&#39;</span><span class=p>,</span>
</span><span id=__span-62-109><a id=__codelineno-62-109 name=__codelineno-62-109 href=#__codelineno-62-109></a>            <span class=s1>&#39;business_impact&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span>
</span><span id=__span-62-110><a id=__codelineno-62-110 name=__codelineno-62-110 href=#__codelineno-62-110></a>            <span class=s1>&#39;technical_complexity&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span>
</span><span id=__span-62-111><a id=__codelineno-62-111 name=__codelineno-62-111 href=#__codelineno-62-111></a>            <span class=s1>&#39;time_to_value&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-112><a id=__codelineno-62-112 name=__codelineno-62-112 href=#__codelineno-62-112></a>            <span class=s1>&#39;prerequisites&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;model_monitoring&#39;</span><span class=p>,</span> <span class=s1>&#39;data_pipelines&#39;</span><span class=p>],</span>
</span><span id=__span-62-113><a id=__codelineno-62-113 name=__codelineno-62-113 href=#__codelineno-62-113></a>            <span class=s1>&#39;addresses_goals&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;efficiency&#39;</span><span class=p>,</span> <span class=s1>&#39;model_performance&#39;</span><span class=p>]</span>
</span><span id=__span-62-114><a id=__codelineno-62-114 name=__codelineno-62-114 href=#__codelineno-62-114></a>        <span class=p>},</span>
</span><span id=__span-62-115><a id=__codelineno-62-115 name=__codelineno-62-115 href=#__codelineno-62-115></a>        <span class=p>{</span>
</span><span id=__span-62-116><a id=__codelineno-62-116 name=__codelineno-62-116 href=#__codelineno-62-116></a>            <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;feature_store&#39;</span><span class=p>,</span>
</span><span id=__span-62-117><a id=__codelineno-62-117 name=__codelineno-62-117 href=#__codelineno-62-117></a>            <span class=s1>&#39;business_impact&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-118><a id=__codelineno-62-118 name=__codelineno-62-118 href=#__codelineno-62-118></a>            <span class=s1>&#39;technical_complexity&#39;</span><span class=p>:</span> <span class=s1>&#39;high&#39;</span><span class=p>,</span>
</span><span id=__span-62-119><a id=__codelineno-62-119 name=__codelineno-62-119 href=#__codelineno-62-119></a>            <span class=s1>&#39;time_to_value&#39;</span><span class=p>:</span> <span class=s1>&#39;long&#39;</span><span class=p>,</span>
</span><span id=__span-62-120><a id=__codelineno-62-120 name=__codelineno-62-120 href=#__codelineno-62-120></a>            <span class=s1>&#39;prerequisites&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data_infrastructure&#39;</span><span class=p>],</span>
</span><span id=__span-62-121><a id=__codelineno-62-121 name=__codelineno-62-121 href=#__codelineno-62-121></a>            <span class=s1>&#39;addresses_goals&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;efficiency&#39;</span><span class=p>,</span> <span class=s1>&#39;consistency&#39;</span><span class=p>]</span>
</span><span id=__span-62-122><a id=__codelineno-62-122 name=__codelineno-62-122 href=#__codelineno-62-122></a>        <span class=p>},</span>
</span><span id=__span-62-123><a id=__codelineno-62-123 name=__codelineno-62-123 href=#__codelineno-62-123></a>        <span class=p>{</span>
</span><span id=__span-62-124><a id=__codelineno-62-124 name=__codelineno-62-124 href=#__codelineno-62-124></a>            <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;experiment_tracking&#39;</span><span class=p>,</span>
</span><span id=__span-62-125><a id=__codelineno-62-125 name=__codelineno-62-125 href=#__codelineno-62-125></a>            <span class=s1>&#39;business_impact&#39;</span><span class=p>:</span> <span class=s1>&#39;medium&#39;</span><span class=p>,</span>
</span><span id=__span-62-126><a id=__codelineno-62-126 name=__codelineno-62-126 href=#__codelineno-62-126></a>            <span class=s1>&#39;technical_complexity&#39;</span><span class=p>:</span> <span class=s1>&#39;low&#39;</span><span class=p>,</span>
</span><span id=__span-62-127><a id=__codelineno-62-127 name=__codelineno-62-127 href=#__codelineno-62-127></a>            <span class=s1>&#39;time_to_value&#39;</span><span class=p>:</span> <span class=s1>&#39;short&#39;</span><span class=p>,</span>
</span><span id=__span-62-128><a id=__codelineno-62-128 name=__codelineno-62-128 href=#__codelineno-62-128></a>            <span class=s1>&#39;prerequisites&#39;</span><span class=p>:</span> <span class=p>[],</span>
</span><span id=__span-62-129><a id=__codelineno-62-129 name=__codelineno-62-129 href=#__codelineno-62-129></a>            <span class=s1>&#39;addresses_goals&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;reproducibility&#39;</span><span class=p>,</span> <span class=s1>&#39;collaboration&#39;</span><span class=p>]</span>
</span><span id=__span-62-130><a id=__codelineno-62-130 name=__codelineno-62-130 href=#__codelineno-62-130></a>        <span class=p>}</span>
</span><span id=__span-62-131><a id=__codelineno-62-131 name=__codelineno-62-131 href=#__codelineno-62-131></a>    <span class=p>]</span>
</span><span id=__span-62-132><a id=__codelineno-62-132 name=__codelineno-62-132 href=#__codelineno-62-132></a>
</span><span id=__span-62-133><a id=__codelineno-62-133 name=__codelineno-62-133 href=#__codelineno-62-133></a>    <span class=c1># Score each initiative</span>
</span><span id=__span-62-134><a id=__codelineno-62-134 name=__codelineno-62-134 href=#__codelineno-62-134></a>    <span class=n>scored_initiatives</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-62-135><a id=__codelineno-62-135 name=__codelineno-62-135 href=#__codelineno-62-135></a>    <span class=k>for</span> <span class=n>initiative</span> <span class=ow>in</span> <span class=n>initiatives</span><span class=p>:</span>
</span><span id=__span-62-136><a id=__codelineno-62-136 name=__codelineno-62-136 href=#__codelineno-62-136></a>        <span class=n>score</span> <span class=o>=</span> <span class=n>calculate_initiative_score</span><span class=p>(</span>
</span><span id=__span-62-137><a id=__codelineno-62-137 name=__codelineno-62-137 href=#__codelineno-62-137></a>            <span class=n>initiative</span><span class=p>,</span> <span class=n>business_goals</span><span class=p>,</span> <span class=n>constraints</span><span class=p>,</span> <span class=n>current_state</span>
</span><span id=__span-62-138><a id=__codelineno-62-138 name=__codelineno-62-138 href=#__codelineno-62-138></a>        <span class=p>)</span>
</span><span id=__span-62-139><a id=__codelineno-62-139 name=__codelineno-62-139 href=#__codelineno-62-139></a>        <span class=n>scored_initiatives</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>initiative</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>],</span> <span class=n>score</span><span class=p>,</span> <span class=n>initiative</span><span class=p>))</span>
</span><span id=__span-62-140><a id=__codelineno-62-140 name=__codelineno-62-140 href=#__codelineno-62-140></a>
</span><span id=__span-62-141><a id=__codelineno-62-141 name=__codelineno-62-141 href=#__codelineno-62-141></a>    <span class=c1># Sort by score and check prerequisites</span>
</span><span id=__span-62-142><a id=__codelineno-62-142 name=__codelineno-62-142 href=#__codelineno-62-142></a>    <span class=n>scored_initiatives</span><span class=o>.</span><span class=n>sort</span><span class=p>(</span><span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=n>reverse</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-62-143><a id=__codelineno-62-143 name=__codelineno-62-143 href=#__codelineno-62-143></a>
</span><span id=__span-62-144><a id=__codelineno-62-144 name=__codelineno-62-144 href=#__codelineno-62-144></a>    <span class=c1># Create prioritized roadmap</span>
</span><span id=__span-62-145><a id=__codelineno-62-145 name=__codelineno-62-145 href=#__codelineno-62-145></a>    <span class=n>roadmap</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-62-146><a id=__codelineno-62-146 name=__codelineno-62-146 href=#__codelineno-62-146></a>    <span class=n>completed_initiatives</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>current_state</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;completed_initiatives&#39;</span><span class=p>,</span> <span class=p>[]))</span>
</span><span id=__span-62-147><a id=__codelineno-62-147 name=__codelineno-62-147 href=#__codelineno-62-147></a>
</span><span id=__span-62-148><a id=__codelineno-62-148 name=__codelineno-62-148 href=#__codelineno-62-148></a>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>score</span><span class=p>,</span> <span class=n>initiative</span> <span class=ow>in</span> <span class=n>scored_initiatives</span><span class=p>:</span>
</span><span id=__span-62-149><a id=__codelineno-62-149 name=__codelineno-62-149 href=#__codelineno-62-149></a>        <span class=k>if</span> <span class=nb>all</span><span class=p>(</span><span class=n>prereq</span> <span class=ow>in</span> <span class=n>completed_initiatives</span> <span class=k>for</span> <span class=n>prereq</span> <span class=ow>in</span> <span class=n>initiative</span><span class=p>[</span><span class=s1>&#39;prerequisites&#39;</span><span class=p>]):</span>
</span><span id=__span-62-150><a id=__codelineno-62-150 name=__codelineno-62-150 href=#__codelineno-62-150></a>            <span class=n>roadmap</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>initiative</span><span class=p>)</span>
</span><span id=__span-62-151><a id=__codelineno-62-151 name=__codelineno-62-151 href=#__codelineno-62-151></a>            <span class=n>completed_initiatives</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-62-152><a id=__codelineno-62-152 name=__codelineno-62-152 href=#__codelineno-62-152></a>
</span><span id=__span-62-153><a id=__codelineno-62-153 name=__codelineno-62-153 href=#__codelineno-62-153></a>    <span class=k>return</span> <span class=n>roadmap</span>
</span><span id=__span-62-154><a id=__codelineno-62-154 name=__codelineno-62-154 href=#__codelineno-62-154></a>
</span><span id=__span-62-155><a id=__codelineno-62-155 name=__codelineno-62-155 href=#__codelineno-62-155></a><span class=k>def</span><span class=w> </span><span class=nf>calculate_initiative_score</span><span class=p>(</span><span class=n>initiative</span><span class=p>,</span> <span class=n>business_goals</span><span class=p>,</span> <span class=n>constraints</span><span class=p>,</span> <span class=n>current_state</span><span class=p>):</span>
</span><span id=__span-62-156><a id=__codelineno-62-156 name=__codelineno-62-156 href=#__codelineno-62-156></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculate a score for an MLOps initiative.&quot;&quot;&quot;</span>
</span><span id=__span-62-157><a id=__codelineno-62-157 name=__codelineno-62-157 href=#__codelineno-62-157></a>
</span><span id=__span-62-158><a id=__codelineno-62-158 name=__codelineno-62-158 href=#__codelineno-62-158></a>    <span class=n>score</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-62-159><a id=__codelineno-62-159 name=__codelineno-62-159 href=#__codelineno-62-159></a>
</span><span id=__span-62-160><a id=__codelineno-62-160 name=__codelineno-62-160 href=#__codelineno-62-160></a>    <span class=c1># Business impact scoring</span>
</span><span id=__span-62-161><a id=__codelineno-62-161 name=__codelineno-62-161 href=#__codelineno-62-161></a>    <span class=n>impact_weights</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;high&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;medium&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;low&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>}</span>
</span><span id=__span-62-162><a id=__codelineno-62-162 name=__codelineno-62-162 href=#__codelineno-62-162></a>    <span class=n>score</span> <span class=o>+=</span> <span class=n>impact_weights</span><span class=p>[</span><span class=n>initiative</span><span class=p>[</span><span class=s1>&#39;business_impact&#39;</span><span class=p>]]</span> <span class=o>*</span> <span class=mi>3</span>
</span><span id=__span-62-163><a id=__codelineno-62-163 name=__codelineno-62-163 href=#__codelineno-62-163></a>
</span><span id=__span-62-164><a id=__codelineno-62-164 name=__codelineno-62-164 href=#__codelineno-62-164></a>    <span class=c1># Goal alignment scoring</span>
</span><span id=__span-62-165><a id=__codelineno-62-165 name=__codelineno-62-165 href=#__codelineno-62-165></a>    <span class=n>goal_alignment</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>initiative</span><span class=p>[</span><span class=s1>&#39;addresses_goals&#39;</span><span class=p>])</span> <span class=o>&amp;</span> <span class=nb>set</span><span class=p>(</span><span class=n>business_goals</span><span class=p>))</span>
</span><span id=__span-62-166><a id=__codelineno-62-166 name=__codelineno-62-166 href=#__codelineno-62-166></a>    <span class=n>score</span> <span class=o>+=</span> <span class=n>goal_alignment</span> <span class=o>*</span> <span class=mi>2</span>
</span><span id=__span-62-167><a id=__codelineno-62-167 name=__codelineno-62-167 href=#__codelineno-62-167></a>
</span><span id=__span-62-168><a id=__codelineno-62-168 name=__codelineno-62-168 href=#__codelineno-62-168></a>    <span class=c1># Complexity penalty</span>
</span><span id=__span-62-169><a id=__codelineno-62-169 name=__codelineno-62-169 href=#__codelineno-62-169></a>    <span class=n>complexity_penalty</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;low&#39;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;medium&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;high&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>2</span><span class=p>}</span>
</span><span id=__span-62-170><a id=__codelineno-62-170 name=__codelineno-62-170 href=#__codelineno-62-170></a>    <span class=n>score</span> <span class=o>+=</span> <span class=n>complexity_penalty</span><span class=p>[</span><span class=n>initiative</span><span class=p>[</span><span class=s1>&#39;technical_complexity&#39;</span><span class=p>]]</span>
</span><span id=__span-62-171><a id=__codelineno-62-171 name=__codelineno-62-171 href=#__codelineno-62-171></a>
</span><span id=__span-62-172><a id=__codelineno-62-172 name=__codelineno-62-172 href=#__codelineno-62-172></a>    <span class=c1># Time to value bonus</span>
</span><span id=__span-62-173><a id=__codelineno-62-173 name=__codelineno-62-173 href=#__codelineno-62-173></a>    <span class=n>time_bonus</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;short&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;medium&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;long&#39;</span><span class=p>:</span> <span class=mi>0</span><span class=p>}</span>
</span><span id=__span-62-174><a id=__codelineno-62-174 name=__codelineno-62-174 href=#__codelineno-62-174></a>    <span class=n>score</span> <span class=o>+=</span> <span class=n>time_bonus</span><span class=p>[</span><span class=n>initiative</span><span class=p>[</span><span class=s1>&#39;time_to_value&#39;</span><span class=p>]]</span>
</span><span id=__span-62-175><a id=__codelineno-62-175 name=__codelineno-62-175 href=#__codelineno-62-175></a>
</span><span id=__span-62-176><a id=__codelineno-62-176 name=__codelineno-62-176 href=#__codelineno-62-176></a>    <span class=c1># Resource constraint check</span>
</span><span id=__span-62-177><a id=__codelineno-62-177 name=__codelineno-62-177 href=#__codelineno-62-177></a>    <span class=k>if</span> <span class=n>constraints</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;budget&#39;</span><span class=p>)</span> <span class=o>==</span> <span class=s1>&#39;limited&#39;</span> <span class=ow>and</span> <span class=n>initiative</span><span class=p>[</span><span class=s1>&#39;technical_complexity&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;high&#39;</span><span class=p>:</span>
</span><span id=__span-62-178><a id=__codelineno-62-178 name=__codelineno-62-178 href=#__codelineno-62-178></a>        <span class=n>score</span> <span class=o>-=</span> <span class=mi>2</span>
</span><span id=__span-62-179><a id=__codelineno-62-179 name=__codelineno-62-179 href=#__codelineno-62-179></a>
</span><span id=__span-62-180><a id=__codelineno-62-180 name=__codelineno-62-180 href=#__codelineno-62-180></a>    <span class=k>if</span> <span class=n>constraints</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;timeline&#39;</span><span class=p>)</span> <span class=o>==</span> <span class=s1>&#39;urgent&#39;</span> <span class=ow>and</span> <span class=n>initiative</span><span class=p>[</span><span class=s1>&#39;time_to_value&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;long&#39;</span><span class=p>:</span>
</span><span id=__span-62-181><a id=__codelineno-62-181 name=__codelineno-62-181 href=#__codelineno-62-181></a>        <span class=n>score</span> <span class=o>-=</span> <span class=mi>3</span>
</span><span id=__span-62-182><a id=__codelineno-62-182 name=__codelineno-62-182 href=#__codelineno-62-182></a>
</span><span id=__span-62-183><a id=__codelineno-62-183 name=__codelineno-62-183 href=#__codelineno-62-183></a>    <span class=k>return</span> <span class=n>score</span>
</span></code></pre></div> <h4 id=focus-on-business-value-first><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#focus-on-business-value-first>Focus on Business Value First</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-63-1><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a><span class=k>class</span><span class=w> </span><span class=nc>BusinessValueMLOpsFramework</span><span class=p>:</span>
</span><span id=__span-63-2><a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-63-3><a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>value_drivers</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-63-4><a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a>            <span class=s1>&#39;revenue_increase&#39;</span><span class=p>,</span>
</span><span id=__span-63-5><a id=__codelineno-63-5 name=__codelineno-63-5 href=#__codelineno-63-5></a>            <span class=s1>&#39;cost_reduction&#39;</span><span class=p>,</span>
</span><span id=__span-63-6><a id=__codelineno-63-6 name=__codelineno-63-6 href=#__codelineno-63-6></a>            <span class=s1>&#39;risk_mitigation&#39;</span><span class=p>,</span>
</span><span id=__span-63-7><a id=__codelineno-63-7 name=__codelineno-63-7 href=#__codelineno-63-7></a>            <span class=s1>&#39;customer_satisfaction&#39;</span><span class=p>,</span>
</span><span id=__span-63-8><a id=__codelineno-63-8 name=__codelineno-63-8 href=#__codelineno-63-8></a>            <span class=s1>&#39;operational_efficiency&#39;</span>
</span><span id=__span-63-9><a id=__codelineno-63-9 name=__codelineno-63-9 href=#__codelineno-63-9></a>        <span class=p>]</span>
</span><span id=__span-63-10><a id=__codelineno-63-10 name=__codelineno-63-10 href=#__codelineno-63-10></a>
</span><span id=__span-63-11><a id=__codelineno-63-11 name=__codelineno-63-11 href=#__codelineno-63-11></a>    <span class=k>def</span><span class=w> </span><span class=nf>align_mlops_with_business_value</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>business_priorities</span><span class=p>):</span>
</span><span id=__span-63-12><a id=__codelineno-63-12 name=__codelineno-63-12 href=#__codelineno-63-12></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Align MLOps initiatives with business value drivers.&quot;&quot;&quot;</span>
</span><span id=__span-63-13><a id=__codelineno-63-13 name=__codelineno-63-13 href=#__codelineno-63-13></a>
</span><span id=__span-63-14><a id=__codelineno-63-14 name=__codelineno-63-14 href=#__codelineno-63-14></a>        <span class=n>value_alignment</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-63-15><a id=__codelineno-63-15 name=__codelineno-63-15 href=#__codelineno-63-15></a>
</span><span id=__span-63-16><a id=__codelineno-63-16 name=__codelineno-63-16 href=#__codelineno-63-16></a>        <span class=k>for</span> <span class=n>priority</span> <span class=ow>in</span> <span class=n>business_priorities</span><span class=p>:</span>
</span><span id=__span-63-17><a id=__codelineno-63-17 name=__codelineno-63-17 href=#__codelineno-63-17></a>            <span class=k>if</span> <span class=n>priority</span> <span class=o>==</span> <span class=s1>&#39;increase_revenue&#39;</span><span class=p>:</span>
</span><span id=__span-63-18><a id=__codelineno-63-18 name=__codelineno-63-18 href=#__codelineno-63-18></a>                <span class=n>value_alignment</span><span class=p>[</span><span class=n>priority</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-63-19><a id=__codelineno-63-19 name=__codelineno-63-19 href=#__codelineno-63-19></a>                    <span class=s1>&#39;recommendation_system_optimization&#39;</span><span class=p>,</span>
</span><span id=__span-63-20><a id=__codelineno-63-20 name=__codelineno-63-20 href=#__codelineno-63-20></a>                    <span class=s1>&#39;dynamic_pricing_models&#39;</span><span class=p>,</span>
</span><span id=__span-63-21><a id=__codelineno-63-21 name=__codelineno-63-21 href=#__codelineno-63-21></a>                    <span class=s1>&#39;customer_lifetime_value_prediction&#39;</span><span class=p>,</span>
</span><span id=__span-63-22><a id=__codelineno-63-22 name=__codelineno-63-22 href=#__codelineno-63-22></a>                    <span class=s1>&#39;personalization_engines&#39;</span>
</span><span id=__span-63-23><a id=__codelineno-63-23 name=__codelineno-63-23 href=#__codelineno-63-23></a>                <span class=p>]</span>
</span><span id=__span-63-24><a id=__codelineno-63-24 name=__codelineno-63-24 href=#__codelineno-63-24></a>            <span class=k>elif</span> <span class=n>priority</span> <span class=o>==</span> <span class=s1>&#39;reduce_operational_costs&#39;</span><span class=p>:</span>
</span><span id=__span-63-25><a id=__codelineno-63-25 name=__codelineno-63-25 href=#__codelineno-63-25></a>                <span class=n>value_alignment</span><span class=p>[</span><span class=n>priority</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-63-26><a id=__codelineno-63-26 name=__codelineno-63-26 href=#__codelineno-63-26></a>                    <span class=s1>&#39;automated_model_retraining&#39;</span><span class=p>,</span>
</span><span id=__span-63-27><a id=__codelineno-63-27 name=__codelineno-63-27 href=#__codelineno-63-27></a>                    <span class=s1>&#39;infrastructure_optimization&#39;</span><span class=p>,</span>
</span><span id=__span-63-28><a id=__codelineno-63-28 name=__codelineno-63-28 href=#__codelineno-63-28></a>                    <span class=s1>&#39;anomaly_detection_for_operations&#39;</span><span class=p>,</span>
</span><span id=__span-63-29><a id=__codelineno-63-29 name=__codelineno-63-29 href=#__codelineno-63-29></a>                    <span class=s1>&#39;predictive_maintenance&#39;</span>
</span><span id=__span-63-30><a id=__codelineno-63-30 name=__codelineno-63-30 href=#__codelineno-63-30></a>                <span class=p>]</span>
</span><span id=__span-63-31><a id=__codelineno-63-31 name=__codelineno-63-31 href=#__codelineno-63-31></a>            <span class=k>elif</span> <span class=n>priority</span> <span class=o>==</span> <span class=s1>&#39;improve_customer_experience&#39;</span><span class=p>:</span>
</span><span id=__span-63-32><a id=__codelineno-63-32 name=__codelineno-63-32 href=#__codelineno-63-32></a>                <span class=n>value_alignment</span><span class=p>[</span><span class=n>priority</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-63-33><a id=__codelineno-63-33 name=__codelineno-63-33 href=#__codelineno-63-33></a>                    <span class=s1>&#39;real_time_personalization&#39;</span><span class=p>,</span>
</span><span id=__span-63-34><a id=__codelineno-63-34 name=__codelineno-63-34 href=#__codelineno-63-34></a>                    <span class=s1>&#39;chatbot_and_support_automation&#39;</span><span class=p>,</span>
</span><span id=__span-63-35><a id=__codelineno-63-35 name=__codelineno-63-35 href=#__codelineno-63-35></a>                    <span class=s1>&#39;fraud_detection_optimization&#39;</span><span class=p>,</span>
</span><span id=__span-63-36><a id=__codelineno-63-36 name=__codelineno-63-36 href=#__codelineno-63-36></a>                    <span class=s1>&#39;recommendation_quality_improvement&#39;</span>
</span><span id=__span-63-37><a id=__codelineno-63-37 name=__codelineno-63-37 href=#__codelineno-63-37></a>                <span class=p>]</span>
</span><span id=__span-63-38><a id=__codelineno-63-38 name=__codelineno-63-38 href=#__codelineno-63-38></a>            <span class=k>elif</span> <span class=n>priority</span> <span class=o>==</span> <span class=s1>&#39;manage_risk&#39;</span><span class=p>:</span>
</span><span id=__span-63-39><a id=__codelineno-63-39 name=__codelineno-63-39 href=#__codelineno-63-39></a>                <span class=n>value_alignment</span><span class=p>[</span><span class=n>priority</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-63-40><a id=__codelineno-63-40 name=__codelineno-63-40 href=#__codelineno-63-40></a>                    <span class=s1>&#39;model_monitoring_and_alerting&#39;</span><span class=p>,</span>
</span><span id=__span-63-41><a id=__codelineno-63-41 name=__codelineno-63-41 href=#__codelineno-63-41></a>                    <span class=s1>&#39;bias_detection_and_mitigation&#39;</span><span class=p>,</span>
</span><span id=__span-63-42><a id=__codelineno-63-42 name=__codelineno-63-42 href=#__codelineno-63-42></a>                    <span class=s1>&#39;model_explainability_systems&#39;</span><span class=p>,</span>
</span><span id=__span-63-43><a id=__codelineno-63-43 name=__codelineno-63-43 href=#__codelineno-63-43></a>                    <span class=s1>&#39;regulatory_compliance_automation&#39;</span>
</span><span id=__span-63-44><a id=__codelineno-63-44 name=__codelineno-63-44 href=#__codelineno-63-44></a>                <span class=p>]</span>
</span><span id=__span-63-45><a id=__codelineno-63-45 name=__codelineno-63-45 href=#__codelineno-63-45></a>
</span><span id=__span-63-46><a id=__codelineno-63-46 name=__codelineno-63-46 href=#__codelineno-63-46></a>        <span class=k>return</span> <span class=n>value_alignment</span>
</span><span id=__span-63-47><a id=__codelineno-63-47 name=__codelineno-63-47 href=#__codelineno-63-47></a>
</span><span id=__span-63-48><a id=__codelineno-63-48 name=__codelineno-63-48 href=#__codelineno-63-48></a>    <span class=k>def</span><span class=w> </span><span class=nf>measure_business_impact</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>mlops_initiative</span><span class=p>,</span> <span class=n>baseline_metrics</span><span class=p>):</span>
</span><span id=__span-63-49><a id=__codelineno-63-49 name=__codelineno-63-49 href=#__codelineno-63-49></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Measure the business impact of MLOps initiatives.&quot;&quot;&quot;</span>
</span><span id=__span-63-50><a id=__codelineno-63-50 name=__codelineno-63-50 href=#__codelineno-63-50></a>
</span><span id=__span-63-51><a id=__codelineno-63-51 name=__codelineno-63-51 href=#__codelineno-63-51></a>        <span class=n>impact_framework</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-63-52><a id=__codelineno-63-52 name=__codelineno-63-52 href=#__codelineno-63-52></a>            <span class=s1>&#39;model_monitoring&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-63-53><a id=__codelineno-63-53 name=__codelineno-63-53 href=#__codelineno-63-53></a>                <span class=s1>&#39;primary_metrics&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;model_downtime_reduction&#39;</span><span class=p>,</span> <span class=s1>&#39;incident_detection_time&#39;</span><span class=p>],</span>
</span><span id=__span-63-54><a id=__codelineno-63-54 name=__codelineno-63-54 href=#__codelineno-63-54></a>                <span class=s1>&#39;secondary_metrics&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;customer_satisfaction&#39;</span><span class=p>,</span> <span class=s1>&#39;operational_cost&#39;</span><span class=p>],</span>
</span><span id=__span-63-55><a id=__codelineno-63-55 name=__codelineno-63-55 href=#__codelineno-63-55></a>                <span class=s1>&#39;measurement_period&#39;</span><span class=p>:</span> <span class=s1>&#39;3_months&#39;</span><span class=p>,</span>
</span><span id=__span-63-56><a id=__codelineno-63-56 name=__codelineno-63-56 href=#__codelineno-63-56></a>                <span class=s1>&#39;expected_improvement&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;downtime&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>50</span><span class=p>,</span> <span class=s1>&#39;detection_time&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>75</span><span class=p>}</span>
</span><span id=__span-63-57><a id=__codelineno-63-57 name=__codelineno-63-57 href=#__codelineno-63-57></a>            <span class=p>},</span>
</span><span id=__span-63-58><a id=__codelineno-63-58 name=__codelineno-63-58 href=#__codelineno-63-58></a>            <span class=s1>&#39;automated_retraining&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-63-59><a id=__codelineno-63-59 name=__codelineno-63-59 href=#__codelineno-63-59></a>                <span class=s1>&#39;primary_metrics&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;model_accuracy_maintenance&#39;</span><span class=p>,</span> <span class=s1>&#39;manual_effort_reduction&#39;</span><span class=p>],</span>
</span><span id=__span-63-60><a id=__codelineno-63-60 name=__codelineno-63-60 href=#__codelineno-63-60></a>                <span class=s1>&#39;secondary_metrics&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;time_to_deploy_updates&#39;</span><span class=p>,</span> <span class=s1>&#39;model_performance_consistency&#39;</span><span class=p>],</span>
</span><span id=__span-63-61><a id=__codelineno-63-61 name=__codelineno-63-61 href=#__codelineno-63-61></a>                <span class=s1>&#39;measurement_period&#39;</span><span class=p>:</span> <span class=s1>&#39;6_months&#39;</span><span class=p>,</span>
</span><span id=__span-63-62><a id=__codelineno-63-62 name=__codelineno-63-62 href=#__codelineno-63-62></a>                <span class=s1>&#39;expected_improvement&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;accuracy_decay&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>60</span><span class=p>,</span> <span class=s1>&#39;manual_effort&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>80</span><span class=p>}</span>
</span><span id=__span-63-63><a id=__codelineno-63-63 name=__codelineno-63-63 href=#__codelineno-63-63></a>            <span class=p>},</span>
</span><span id=__span-63-64><a id=__codelineno-63-64 name=__codelineno-63-64 href=#__codelineno-63-64></a>            <span class=s1>&#39;feature_store&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-63-65><a id=__codelineno-63-65 name=__codelineno-63-65 href=#__codelineno-63-65></a>                <span class=s1>&#39;primary_metrics&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;feature_development_time&#39;</span><span class=p>,</span> <span class=s1>&#39;feature_reuse_rate&#39;</span><span class=p>],</span>
</span><span id=__span-63-66><a id=__codelineno-63-66 name=__codelineno-63-66 href=#__codelineno-63-66></a>                <span class=s1>&#39;secondary_metrics&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;model_training_time&#39;</span><span class=p>,</span> <span class=s1>&#39;feature_consistency_errors&#39;</span><span class=p>],</span>
</span><span id=__span-63-67><a id=__codelineno-63-67 name=__codelineno-63-67 href=#__codelineno-63-67></a>                <span class=s1>&#39;measurement_period&#39;</span><span class=p>:</span> <span class=s1>&#39;9_months&#39;</span><span class=p>,</span>
</span><span id=__span-63-68><a id=__codelineno-63-68 name=__codelineno-63-68 href=#__codelineno-63-68></a>                <span class=s1>&#39;expected_improvement&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;development_time&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>40</span><span class=p>,</span> <span class=s1>&#39;reuse_rate&#39;</span><span class=p>:</span> <span class=mi>200</span><span class=p>}</span>
</span><span id=__span-63-69><a id=__codelineno-63-69 name=__codelineno-63-69 href=#__codelineno-63-69></a>            <span class=p>}</span>
</span><span id=__span-63-70><a id=__codelineno-63-70 name=__codelineno-63-70 href=#__codelineno-63-70></a>        <span class=p>}</span>
</span><span id=__span-63-71><a id=__codelineno-63-71 name=__codelineno-63-71 href=#__codelineno-63-71></a>
</span><span id=__span-63-72><a id=__codelineno-63-72 name=__codelineno-63-72 href=#__codelineno-63-72></a>        <span class=k>return</span> <span class=n>impact_framework</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>mlops_initiative</span><span class=p>,</span> <span class=p>{})</span>
</span></code></pre></div> <h3 id=conclusion><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#conclusion>Conclusion</a></h3> <p>MLOps represents a fundamental shift in how organizations approach machine learning - from experimental, one-off projects to systematic, production-ready systems that deliver measurable business value. The journey from basic ML experimentation to mature MLOps practices is complex and requires careful attention to technical, cultural, and organizational factors.</p> <h4 id=key-takeaways><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#key-takeaways>Key Takeaways</a></h4> <ol> <li><strong>Start with the Foundation</strong>: Proper loop closure and monitoring are more important than sophisticated tooling</li> <li><strong>Focus on Business Value</strong>: Align MLOps initiatives with clear business outcomes and measure impact</li> <li><strong>Invest in People</strong>: The talent shortage is real, but internal development and cross-functional teams can bridge the gap</li> <li><strong>Culture First</strong>: Technical solutions without cultural change will fail</li> <li><strong>Iterate and Improve</strong>: MLOps maturity is a journey, not a destination</li> </ol> <h4 id=the-path-forward><a class=toclink href=../../2023/09/15/notes_on_mlops_industry_analysis_and_practical_insights/#the-path-forward>The Path Forward</a></h4> <p>The organizations that succeed with MLOps will be those that:</p> <ul> <li>Take a systematic approach to implementation</li> <li>Measure and optimize for business impact</li> <li>Invest in people and culture change</li> <li>Build robust, reliable systems from the ground up</li> <li>Maintain a focus on continuous improvement</li> </ul> <p>As the field continues to evolve, the fundamentals outlined in this analysis will remain relevant. The specific tools and technologies will change, but the core principles of systematic ML operations, business value focus, and organizational alignment will continue to drive success.</p> <p>The future of MLOps lies not in pursuing the latest technologies, but in building sustainable, value-driven practices that enable organizations to reliably deploy and maintain machine learning systems at scale. This requires patience, investment, and a long-term perspective on organizational capability building.</p> <p>For organizations just beginning their MLOps journey, the most important step is simply to start - with clear goals, proper measurement, and a commitment to continuous improvement. The complexity can be overwhelming, but the business value of getting it right makes the investment worthwhile.</p> </div> </article> <nav class=md-pagination> </nav> </div> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023-2025 Matthew Martz </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/mutaku target=_blank rel=noopener title=GitHub class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://twitter.com/backpropagating target=_blank rel=noopener title=Twitter class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> <a href=https://linkedin.com/in/matthew-martz-phd target=_blank rel=noopener title=LinkedIn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=mailto:matthew@mutaku.io target=_blank rel=noopener title=Email class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.top", "search.highlight", "search.suggest", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../../javascripts/extra.js></script> </body> </html>