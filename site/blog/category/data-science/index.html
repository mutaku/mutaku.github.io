<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Expert in AI, machine learning, and data science with focus on clinical applications and digital health innovation"><meta name=author content="Matthew Martz"><link href=https://mutaku.io/blog/category/data-science/ rel=canonical><link href=../aiml/ rel=prev><link href=../research/ rel=next><link rel=icon href=../../../assets/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>Data Science - Matthew Martz, PhD - Data Science & AI Leader</title><link rel=stylesheet href=../../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#data-science class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="Matthew Martz, PhD - Data Science & AI Leader" class="md-header__button md-logo" aria-label="Matthew Martz, PhD - Data Science & AI Leader" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.23 7.23 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Matthew Martz, PhD - Data Science & AI Leader </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Data Science </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=deep-purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue-grey data-md-color-accent=deep-purple aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/mutaku/mutaku.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> mutaku/mutaku.github.io </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../about/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../../../research/ class=md-tabs__link> Research Focus </a> </li> <li class=md-tabs__item> <a href=../../../experience/current/ class=md-tabs__link> Experience </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../../projects/ class=md-tabs__link> Projects </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Matthew Martz, PhD - Data Science & AI Leader" class="md-nav__button md-logo" aria-label="Matthew Martz, PhD - Data Science & AI Leader" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.23 7.23 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"/></svg> </a> Matthew Martz, PhD - Data Science & AI Leader </label> <div class=md-nav__source> <a href=https://github.com/mutaku/mutaku.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> mutaku/mutaku.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../../../research/ class=md-nav__link> <span class=md-ellipsis> Research Focus </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Experience </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Experience </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../experience/current/ class=md-nav__link> <span class=md-ellipsis> Current Role </span> </a> </li> <li class=md-nav__item> <a href=../../../experience/previous/ class=md-nav__link> <span class=md-ellipsis> Previous Positions </span> </a> </li> <li class=md-nav__item> <a href=../../../experience/achievements/ class=md-nav__link> <span class=md-ellipsis> Patents & Publications </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> <li class=md-nav__item> <a href=../../archive/2020/ class=md-nav__link> <span class=md-ellipsis> 2020 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3 checked> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=true> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aiml/ class=md-nav__link> <span class=md-ellipsis> AI/ML </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Data Science </span> </a> </li> <li class=md-nav__item> <a href=../research/ class=md-nav__link> <span class=md-ellipsis> Research </span> </a> </li> <li class=md-nav__item> <a href=../technology/ class=md-nav__link> <span class=md-ellipsis> Technology </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../projects/ class=md-nav__link> <span class=md-ellipsis> Projects </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <div class=md-content__inner> <header class=md-typeset> <h1 id=data-science>Data Science<a class=headerlink href=#data-science title="Permanent link">&para;</a></h1> </header> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/mutaku.png alt="Matthew Martz, PhD"> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2023-11-20 00:00:00+00:00">Monday, November 20, 2023</time></li> <li class=md-meta__item> in <a href=./ class=md-meta__link>Data Science</a>, <a href=../technology/ class=md-meta__link>Technology</a></li> <li class=md-meta__item> 11 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=nested-dictionary-lookups-methods-performance-and-best-practices><a href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/ class=toclink>Nested Dictionary Lookups: Methods, Performance, and Best Practices</a></h2> <p>When working with complex data structures in Python, nested dictionaries are ubiquitous. Whether you're processing JSON APIs, configuration files, or hierarchical data, you'll frequently need to safely access deeply nested values. This article explores various methods for nested dictionary lookups, compares their performance, and provides robust solutions for real-world applications.</p> <h3 id=table-of-contents><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#table-of-contents>Table of Contents</a></h3> <ol> <li><a href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#the-problem>The Problem with Nested Dictionary Access</a></li> <li><a href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#traditional-approaches>Traditional Approaches</a></li> <li><a href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#walrus-operator>The Walrus Operator Solution</a></li> <li><a href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#chaining-methods>Chaining Methods</a></li> <li><a href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#programmatic-depth-search>Programmatic Depth Search</a></li> <li><a href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#performance-comparison>Performance Comparison</a></li> <li><a href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#error-handling>Error Handling and Robustness</a></li> <li><a href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#real-world-applications>Real-World Applications</a></li> <li><a href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#best-practices>Best Practices</a></li> </ol> <h3 id=the-problem><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#the-problem>The Problem with Nested Dictionary Access</a></h3> <p>Consider this common scenario: you have a nested dictionary representing user data from an API response, and you need to safely extract a deeply nested value:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=n>user_data</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-54-2><a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a>    <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-54-3><a id=__codelineno-54-3 name=__codelineno-54-3 href=#__codelineno-54-3></a>        <span class=s1>&#39;profile&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-54-4><a id=__codelineno-54-4 name=__codelineno-54-4 href=#__codelineno-54-4></a>            <span class=s1>&#39;preferences&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-54-5><a id=__codelineno-54-5 name=__codelineno-54-5 href=#__codelineno-54-5></a>                <span class=s1>&#39;notifications&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-54-6><a id=__codelineno-54-6 name=__codelineno-54-6 href=#__codelineno-54-6></a>                    <span class=s1>&#39;email&#39;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-54-7><a id=__codelineno-54-7 name=__codelineno-54-7 href=#__codelineno-54-7></a>                    <span class=s1>&#39;push&#39;</span><span class=p>:</span> <span class=kc>False</span>
</span><span id=__span-54-8><a id=__codelineno-54-8 name=__codelineno-54-8 href=#__codelineno-54-8></a>                <span class=p>}</span>
</span><span id=__span-54-9><a id=__codelineno-54-9 name=__codelineno-54-9 href=#__codelineno-54-9></a>            <span class=p>}</span>
</span><span id=__span-54-10><a id=__codelineno-54-10 name=__codelineno-54-10 href=#__codelineno-54-10></a>        <span class=p>}</span>
</span><span id=__span-54-11><a id=__codelineno-54-11 name=__codelineno-54-11 href=#__codelineno-54-11></a>    <span class=p>}</span>
</span><span id=__span-54-12><a id=__codelineno-54-12 name=__codelineno-54-12 href=#__codelineno-54-12></a><span class=p>}</span>
</span><span id=__span-54-13><a id=__codelineno-54-13 name=__codelineno-54-13 href=#__codelineno-54-13></a>
</span><span id=__span-54-14><a id=__codelineno-54-14 name=__codelineno-54-14 href=#__codelineno-54-14></a><span class=c1># Goal: Get user.profile.preferences.notifications.email</span>
</span><span id=__span-54-15><a id=__codelineno-54-15 name=__codelineno-54-15 href=#__codelineno-54-15></a><span class=c1># Challenge: Any level might be missing, causing KeyError</span>
</span></code></pre></div> <p>The naive approach fails spectacularly:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=c1># This will raise KeyError if any key is missing</span>
</span><span id=__span-55-2><a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a><span class=n>email_pref</span> <span class=o>=</span> <span class=n>user_data</span><span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>][</span><span class=s1>&#39;profile&#39;</span><span class=p>][</span><span class=s1>&#39;preferences&#39;</span><span class=p>][</span><span class=s1>&#39;notifications&#39;</span><span class=p>][</span><span class=s1>&#39;email&#39;</span><span class=p>]</span>
</span></code></pre></div> <h3 id=traditional-approaches><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#traditional-approaches>Traditional Approaches</a></h3> <h4 id=method-1-nested-tryexcept><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#method-1-nested-tryexcept>Method 1: Nested try/except</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_try_except</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-56-2><a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-56-3><a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a>        <span class=k>return</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>][</span><span class=s1>&#39;profile&#39;</span><span class=p>][</span><span class=s1>&#39;preferences&#39;</span><span class=p>][</span><span class=s1>&#39;notifications&#39;</span><span class=p>][</span><span class=s1>&#39;email&#39;</span><span class=p>]</span>
</span><span id=__span-56-4><a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a>    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
</span><span id=__span-56-5><a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-56-6><a id=__codelineno-56-6 name=__codelineno-56-6 href=#__codelineno-56-6></a>
</span><span id=__span-56-7><a id=__codelineno-56-7 name=__codelineno-56-7 href=#__codelineno-56-7></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_try_except</span><span class=p>(</span><span class=n>user_data</span><span class=p>)</span>
</span><span id=__span-56-8><a id=__codelineno-56-8 name=__codelineno-56-8 href=#__codelineno-56-8></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span></code></pre></div> <p><strong>Pros:</strong> - Simple and straightforward - Handles missing keys gracefully</p> <p><strong>Cons:</strong> - Catches all KeyErrors, potentially masking bugs - Not reusable for different paths - Poor performance when keys are missing</p> <h4 id=method-2-step-by-step-with-get><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#method-2-step-by-step-with-get>Method 2: Step-by-step with get()</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-57-1><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_step_by_step</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-57-2><a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a>    <span class=n>user</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>)</span>
</span><span id=__span-57-3><a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a>    <span class=k>if</span> <span class=n>user</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-57-4><a id=__codelineno-57-4 name=__codelineno-57-4 href=#__codelineno-57-4></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-57-5><a id=__codelineno-57-5 name=__codelineno-57-5 href=#__codelineno-57-5></a>
</span><span id=__span-57-6><a id=__codelineno-57-6 name=__codelineno-57-6 href=#__codelineno-57-6></a>    <span class=n>profile</span> <span class=o>=</span> <span class=n>user</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;profile&#39;</span><span class=p>)</span>
</span><span id=__span-57-7><a id=__codelineno-57-7 name=__codelineno-57-7 href=#__codelineno-57-7></a>    <span class=k>if</span> <span class=n>profile</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-57-8><a id=__codelineno-57-8 name=__codelineno-57-8 href=#__codelineno-57-8></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-57-9><a id=__codelineno-57-9 name=__codelineno-57-9 href=#__codelineno-57-9></a>
</span><span id=__span-57-10><a id=__codelineno-57-10 name=__codelineno-57-10 href=#__codelineno-57-10></a>    <span class=n>preferences</span> <span class=o>=</span> <span class=n>profile</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;preferences&#39;</span><span class=p>)</span>
</span><span id=__span-57-11><a id=__codelineno-57-11 name=__codelineno-57-11 href=#__codelineno-57-11></a>    <span class=k>if</span> <span class=n>preferences</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-57-12><a id=__codelineno-57-12 name=__codelineno-57-12 href=#__codelineno-57-12></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-57-13><a id=__codelineno-57-13 name=__codelineno-57-13 href=#__codelineno-57-13></a>
</span><span id=__span-57-14><a id=__codelineno-57-14 name=__codelineno-57-14 href=#__codelineno-57-14></a>    <span class=n>notifications</span> <span class=o>=</span> <span class=n>preferences</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;notifications&#39;</span><span class=p>)</span>
</span><span id=__span-57-15><a id=__codelineno-57-15 name=__codelineno-57-15 href=#__codelineno-57-15></a>    <span class=k>if</span> <span class=n>notifications</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-57-16><a id=__codelineno-57-16 name=__codelineno-57-16 href=#__codelineno-57-16></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-57-17><a id=__codelineno-57-17 name=__codelineno-57-17 href=#__codelineno-57-17></a>
</span><span id=__span-57-18><a id=__codelineno-57-18 name=__codelineno-57-18 href=#__codelineno-57-18></a>    <span class=k>return</span> <span class=n>notifications</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;email&#39;</span><span class=p>)</span>
</span><span id=__span-57-19><a id=__codelineno-57-19 name=__codelineno-57-19 href=#__codelineno-57-19></a>
</span><span id=__span-57-20><a id=__codelineno-57-20 name=__codelineno-57-20 href=#__codelineno-57-20></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_step_by_step</span><span class=p>(</span><span class=n>user_data</span><span class=p>)</span>
</span><span id=__span-57-21><a id=__codelineno-57-21 name=__codelineno-57-21 href=#__codelineno-57-21></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span></code></pre></div> <p><strong>Pros:</strong> - Clear control flow - Explicit null checking - Easy to debug</p> <p><strong>Cons:</strong> - Verbose and repetitive - Hard to maintain for deep nesting - Not reusable</p> <h4 id=method-3-chained-get-calls><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#method-3-chained-get-calls>Method 3: Chained get() calls</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-58-1><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_chained_old</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-58-2><a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a>    <span class=k>return</span> <span class=p>(</span><span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-58-3><a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a>            <span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-58-4><a id=__codelineno-58-4 name=__codelineno-58-4 href=#__codelineno-58-4></a>            <span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;preferences&#39;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-58-5><a id=__codelineno-58-5 name=__codelineno-58-5 href=#__codelineno-58-5></a>            <span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;notifications&#39;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-58-6><a id=__codelineno-58-6 name=__codelineno-58-6 href=#__codelineno-58-6></a>            <span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;email&#39;</span><span class=p>))</span>
</span><span id=__span-58-7><a id=__codelineno-58-7 name=__codelineno-58-7 href=#__codelineno-58-7></a>
</span><span id=__span-58-8><a id=__codelineno-58-8 name=__codelineno-58-8 href=#__codelineno-58-8></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_chained_old</span><span class=p>(</span><span class=n>user_data</span><span class=p>)</span>
</span><span id=__span-58-9><a id=__codelineno-58-9 name=__codelineno-58-9 href=#__codelineno-58-9></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span><span id=__span-58-10><a id=__codelineno-58-10 name=__codelineno-58-10 href=#__codelineno-58-10></a>
</span><span id=__span-58-11><a id=__codelineno-58-11 name=__codelineno-58-11 href=#__codelineno-58-11></a><span class=c1># Test with missing data</span>
</span><span id=__span-58-12><a id=__codelineno-58-12 name=__codelineno-58-12 href=#__codelineno-58-12></a><span class=n>incomplete_data</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;profile&#39;</span><span class=p>:</span> <span class=p>{}}}</span>
</span><span id=__span-58-13><a id=__codelineno-58-13 name=__codelineno-58-13 href=#__codelineno-58-13></a><span class=n>result_incomplete</span> <span class=o>=</span> <span class=n>get_nested_chained_old</span><span class=p>(</span><span class=n>incomplete_data</span><span class=p>)</span>
</span><span id=__span-58-14><a id=__codelineno-58-14 name=__codelineno-58-14 href=#__codelineno-58-14></a><span class=nb>print</span><span class=p>(</span><span class=n>result_incomplete</span><span class=p>)</span>  <span class=c1># None</span>
</span></code></pre></div> <p><strong>Pros:</strong> - Concise and readable - Safe handling of missing keys - Reasonably good performance</p> <p><strong>Cons:</strong> - Creates empty dictionaries at each level - Still not easily reusable for different paths</p> <h3 id=the-walrus-operator-solution><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#the-walrus-operator-solution>The Walrus Operator Solution</a></h3> <p>Python 3.8 introduced the walrus operator (<code>:=</code>), which allows assignment within expressions. This opens up new possibilities for nested dictionary access:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-59-1><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_walrus</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-59-2><a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a>    <span class=k>if</span> <span class=p>(</span><span class=n>user</span> <span class=o>:=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>))</span> <span class=ow>and</span> \
</span><span id=__span-59-3><a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a>       <span class=p>(</span><span class=n>profile</span> <span class=o>:=</span> <span class=n>user</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;profile&#39;</span><span class=p>))</span> <span class=ow>and</span> \
</span><span id=__span-59-4><a id=__codelineno-59-4 name=__codelineno-59-4 href=#__codelineno-59-4></a>       <span class=p>(</span><span class=n>preferences</span> <span class=o>:=</span> <span class=n>profile</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;preferences&#39;</span><span class=p>))</span> <span class=ow>and</span> \
</span><span id=__span-59-5><a id=__codelineno-59-5 name=__codelineno-59-5 href=#__codelineno-59-5></a>       <span class=p>(</span><span class=n>notifications</span> <span class=o>:=</span> <span class=n>preferences</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;notifications&#39;</span><span class=p>)):</span>
</span><span id=__span-59-6><a id=__codelineno-59-6 name=__codelineno-59-6 href=#__codelineno-59-6></a>        <span class=k>return</span> <span class=n>notifications</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;email&#39;</span><span class=p>)</span>
</span><span id=__span-59-7><a id=__codelineno-59-7 name=__codelineno-59-7 href=#__codelineno-59-7></a>    <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-59-8><a id=__codelineno-59-8 name=__codelineno-59-8 href=#__codelineno-59-8></a>
</span><span id=__span-59-9><a id=__codelineno-59-9 name=__codelineno-59-9 href=#__codelineno-59-9></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_walrus</span><span class=p>(</span><span class=n>user_data</span><span class=p>)</span>
</span><span id=__span-59-10><a id=__codelineno-59-10 name=__codelineno-59-10 href=#__codelineno-59-10></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span><span id=__span-59-11><a id=__codelineno-59-11 name=__codelineno-59-11 href=#__codelineno-59-11></a>
</span><span id=__span-59-12><a id=__codelineno-59-12 name=__codelineno-59-12 href=#__codelineno-59-12></a><span class=c1># Test with partial data</span>
</span><span id=__span-59-13><a id=__codelineno-59-13 name=__codelineno-59-13 href=#__codelineno-59-13></a><span class=n>partial_data</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;profile&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;preferences&#39;</span><span class=p>:</span> <span class=p>{}}}}</span>
</span><span id=__span-59-14><a id=__codelineno-59-14 name=__codelineno-59-14 href=#__codelineno-59-14></a><span class=n>result_partial</span> <span class=o>=</span> <span class=n>get_nested_walrus</span><span class=p>(</span><span class=n>partial_data</span><span class=p>)</span>
</span><span id=__span-59-15><a id=__codelineno-59-15 name=__codelineno-59-15 href=#__codelineno-59-15></a><span class=nb>print</span><span class=p>(</span><span class=n>result_partial</span><span class=p>)</span>  <span class=c1># None</span>
</span></code></pre></div> <p><strong>Pros:</strong> - Efficient - stops at first missing key - No unnecessary object creation - Compact syntax - Clear short-circuiting behavior</p> <p><strong>Cons:</strong> - Requires Python 3.8+ - Can be less readable for very deep nesting - Still not easily reusable</p> <h3 id=chaining-methods><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#chaining-methods>Chaining Methods</a></h3> <h4 id=method-4-reduce-based-approach><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#method-4-reduce-based-approach>Method 4: Reduce-based approach</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-60-1><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>reduce</span>
</span><span id=__span-60-2><a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a>
</span><span id=__span-60-3><a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_reduce</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-60-4><a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get nested value using reduce.&quot;&quot;&quot;</span>
</span><span id=__span-60-5><a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-60-6><a id=__codelineno-60-6 name=__codelineno-60-6 href=#__codelineno-60-6></a>        <span class=k>return</span> <span class=n>reduce</span><span class=p>(</span><span class=k>lambda</span> <span class=n>d</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=n>d</span><span class=p>[</span><span class=n>key</span><span class=p>],</span> <span class=n>path</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</span><span id=__span-60-7><a id=__codelineno-60-7 name=__codelineno-60-7 href=#__codelineno-60-7></a>    <span class=k>except</span> <span class=p>(</span><span class=ne>KeyError</span><span class=p>,</span> <span class=ne>TypeError</span><span class=p>):</span>
</span><span id=__span-60-8><a id=__codelineno-60-8 name=__codelineno-60-8 href=#__codelineno-60-8></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-60-9><a id=__codelineno-60-9 name=__codelineno-60-9 href=#__codelineno-60-9></a>
</span><span id=__span-60-10><a id=__codelineno-60-10 name=__codelineno-60-10 href=#__codelineno-60-10></a><span class=c1># Usage</span>
</span><span id=__span-60-11><a id=__codelineno-60-11 name=__codelineno-60-11 href=#__codelineno-60-11></a><span class=n>path</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=s1>&#39;preferences&#39;</span><span class=p>,</span> <span class=s1>&#39;notifications&#39;</span><span class=p>,</span> <span class=s1>&#39;email&#39;</span><span class=p>]</span>
</span><span id=__span-60-12><a id=__codelineno-60-12 name=__codelineno-60-12 href=#__codelineno-60-12></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_reduce</span><span class=p>(</span><span class=n>user_data</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span><span id=__span-60-13><a id=__codelineno-60-13 name=__codelineno-60-13 href=#__codelineno-60-13></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span><span id=__span-60-14><a id=__codelineno-60-14 name=__codelineno-60-14 href=#__codelineno-60-14></a>
</span><span id=__span-60-15><a id=__codelineno-60-15 name=__codelineno-60-15 href=#__codelineno-60-15></a><span class=c1># Test with missing path</span>
</span><span id=__span-60-16><a id=__codelineno-60-16 name=__codelineno-60-16 href=#__codelineno-60-16></a><span class=n>result_missing</span> <span class=o>=</span> <span class=n>get_nested_reduce</span><span class=p>(</span><span class=n>user_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;missing&#39;</span><span class=p>,</span> <span class=s1>&#39;key&#39;</span><span class=p>])</span>
</span><span id=__span-60-17><a id=__codelineno-60-17 name=__codelineno-60-17 href=#__codelineno-60-17></a><span class=nb>print</span><span class=p>(</span><span class=n>result_missing</span><span class=p>)</span>  <span class=c1># None</span>
</span></code></pre></div> <h4 id=method-5-safe-reduce-with-get><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#method-5-safe-reduce-with-get>Method 5: Safe reduce with get()</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-61-1><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_nested_safe_reduce</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-61-2><a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Safely get nested value using reduce with get().&quot;&quot;&quot;</span>
</span><span id=__span-61-3><a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a>    <span class=k>return</span> <span class=n>reduce</span><span class=p>(</span>
</span><span id=__span-61-4><a id=__codelineno-61-4 name=__codelineno-61-4 href=#__codelineno-61-4></a>        <span class=k>lambda</span> <span class=n>d</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=n>d</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=p>{})</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>d</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=k>else</span> <span class=p>{},</span>
</span><span id=__span-61-5><a id=__codelineno-61-5 name=__codelineno-61-5 href=#__codelineno-61-5></a>        <span class=n>path</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span>
</span><span id=__span-61-6><a id=__codelineno-61-6 name=__codelineno-61-6 href=#__codelineno-61-6></a>        <span class=n>data</span>
</span><span id=__span-61-7><a id=__codelineno-61-7 name=__codelineno-61-7 href=#__codelineno-61-7></a>    <span class=p>)</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span> <span class=n>default</span><span class=p>)</span> <span class=k>if</span> <span class=n>path</span> <span class=k>else</span> <span class=n>default</span>
</span><span id=__span-61-8><a id=__codelineno-61-8 name=__codelineno-61-8 href=#__codelineno-61-8></a>
</span><span id=__span-61-9><a id=__codelineno-61-9 name=__codelineno-61-9 href=#__codelineno-61-9></a><span class=n>result</span> <span class=o>=</span> <span class=n>get_nested_safe_reduce</span><span class=p>(</span><span class=n>user_data</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span><span id=__span-61-10><a id=__codelineno-61-10 name=__codelineno-61-10 href=#__codelineno-61-10></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># True</span>
</span><span id=__span-61-11><a id=__codelineno-61-11 name=__codelineno-61-11 href=#__codelineno-61-11></a>
</span><span id=__span-61-12><a id=__codelineno-61-12 name=__codelineno-61-12 href=#__codelineno-61-12></a><span class=c1># Works with partial paths</span>
</span><span id=__span-61-13><a id=__codelineno-61-13 name=__codelineno-61-13 href=#__codelineno-61-13></a><span class=n>result_partial</span> <span class=o>=</span> <span class=n>get_nested_safe_reduce</span><span class=p>(</span><span class=n>user_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;missing&#39;</span><span class=p>])</span>
</span><span id=__span-61-14><a id=__codelineno-61-14 name=__codelineno-61-14 href=#__codelineno-61-14></a><span class=nb>print</span><span class=p>(</span><span class=n>result_partial</span><span class=p>)</span>  <span class=c1># None</span>
</span></code></pre></div> <h3 id=programmatic-depth-search><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#programmatic-depth-search>Programmatic Depth Search</a></h3> <p>For maximum flexibility, here's a robust function that can handle various edge cases:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-62-1><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=k>def</span><span class=w> </span><span class=nf>programmatic_depth_search</span><span class=p>(</span><span class=n>dictionary</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-62-2><a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-62-3><a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a><span class=sd>    Recursively search through a nested dictionary using a list of keys.</span>
</span><span id=__span-62-4><a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a>
</span><span id=__span-62-5><a id=__codelineno-62-5 name=__codelineno-62-5 href=#__codelineno-62-5></a><span class=sd>    Args:</span>
</span><span id=__span-62-6><a id=__codelineno-62-6 name=__codelineno-62-6 href=#__codelineno-62-6></a><span class=sd>        dictionary: The dictionary to search through</span>
</span><span id=__span-62-7><a id=__codelineno-62-7 name=__codelineno-62-7 href=#__codelineno-62-7></a><span class=sd>        path: List of keys representing the path to the desired value</span>
</span><span id=__span-62-8><a id=__codelineno-62-8 name=__codelineno-62-8 href=#__codelineno-62-8></a><span class=sd>        default: Value to return if path is not found</span>
</span><span id=__span-62-9><a id=__codelineno-62-9 name=__codelineno-62-9 href=#__codelineno-62-9></a>
</span><span id=__span-62-10><a id=__codelineno-62-10 name=__codelineno-62-10 href=#__codelineno-62-10></a><span class=sd>    Returns:</span>
</span><span id=__span-62-11><a id=__codelineno-62-11 name=__codelineno-62-11 href=#__codelineno-62-11></a><span class=sd>        The value at the specified path, or default if not found</span>
</span><span id=__span-62-12><a id=__codelineno-62-12 name=__codelineno-62-12 href=#__codelineno-62-12></a>
</span><span id=__span-62-13><a id=__codelineno-62-13 name=__codelineno-62-13 href=#__codelineno-62-13></a><span class=sd>    Examples:</span>
</span><span id=__span-62-14><a id=__codelineno-62-14 name=__codelineno-62-14 href=#__codelineno-62-14></a><span class=sd>        &gt;&gt;&gt; data = {&#39;a&#39;: {&#39;b&#39;: {&#39;c&#39;: 42}}}</span>
</span><span id=__span-62-15><a id=__codelineno-62-15 name=__codelineno-62-15 href=#__codelineno-62-15></a><span class=sd>        &gt;&gt;&gt; programmatic_depth_search(data, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])</span>
</span><span id=__span-62-16><a id=__codelineno-62-16 name=__codelineno-62-16 href=#__codelineno-62-16></a><span class=sd>        42</span>
</span><span id=__span-62-17><a id=__codelineno-62-17 name=__codelineno-62-17 href=#__codelineno-62-17></a><span class=sd>        &gt;&gt;&gt; programmatic_depth_search(data, [&#39;a&#39;, &#39;b&#39;, &#39;missing&#39;], &#39;not found&#39;)</span>
</span><span id=__span-62-18><a id=__codelineno-62-18 name=__codelineno-62-18 href=#__codelineno-62-18></a><span class=sd>        &#39;not found&#39;</span>
</span><span id=__span-62-19><a id=__codelineno-62-19 name=__codelineno-62-19 href=#__codelineno-62-19></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-62-20><a id=__codelineno-62-20 name=__codelineno-62-20 href=#__codelineno-62-20></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>dictionary</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>path</span><span class=p>:</span>
</span><span id=__span-62-21><a id=__codelineno-62-21 name=__codelineno-62-21 href=#__codelineno-62-21></a>        <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-62-22><a id=__codelineno-62-22 name=__codelineno-62-22 href=#__codelineno-62-22></a>
</span><span id=__span-62-23><a id=__codelineno-62-23 name=__codelineno-62-23 href=#__codelineno-62-23></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-62-24><a id=__codelineno-62-24 name=__codelineno-62-24 href=#__codelineno-62-24></a>        <span class=k>return</span> <span class=n>dictionary</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-62-25><a id=__codelineno-62-25 name=__codelineno-62-25 href=#__codelineno-62-25></a>
</span><span id=__span-62-26><a id=__codelineno-62-26 name=__codelineno-62-26 href=#__codelineno-62-26></a>    <span class=n>next_level</span> <span class=o>=</span> <span class=n>dictionary</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span><span id=__span-62-27><a id=__codelineno-62-27 name=__codelineno-62-27 href=#__codelineno-62-27></a>    <span class=k>if</span> <span class=n>next_level</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-62-28><a id=__codelineno-62-28 name=__codelineno-62-28 href=#__codelineno-62-28></a>        <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-62-29><a id=__codelineno-62-29 name=__codelineno-62-29 href=#__codelineno-62-29></a>
</span><span id=__span-62-30><a id=__codelineno-62-30 name=__codelineno-62-30 href=#__codelineno-62-30></a>    <span class=k>return</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>next_level</span><span class=p>,</span> <span class=n>path</span><span class=p>[</span><span class=mi>1</span><span class=p>:],</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-62-31><a id=__codelineno-62-31 name=__codelineno-62-31 href=#__codelineno-62-31></a>
</span><span id=__span-62-32><a id=__codelineno-62-32 name=__codelineno-62-32 href=#__codelineno-62-32></a><span class=c1># Test with various scenarios</span>
</span><span id=__span-62-33><a id=__codelineno-62-33 name=__codelineno-62-33 href=#__codelineno-62-33></a><span class=n>test_data</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-62-34><a id=__codelineno-62-34 name=__codelineno-62-34 href=#__codelineno-62-34></a>    <span class=s1>&#39;level1&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-62-35><a id=__codelineno-62-35 name=__codelineno-62-35 href=#__codelineno-62-35></a>        <span class=s1>&#39;level2&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-62-36><a id=__codelineno-62-36 name=__codelineno-62-36 href=#__codelineno-62-36></a>            <span class=s1>&#39;level3&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-62-37><a id=__codelineno-62-37 name=__codelineno-62-37 href=#__codelineno-62-37></a>                <span class=s1>&#39;target&#39;</span><span class=p>:</span> <span class=s1>&#39;found it!&#39;</span><span class=p>,</span>
</span><span id=__span-62-38><a id=__codelineno-62-38 name=__codelineno-62-38 href=#__codelineno-62-38></a>                <span class=s1>&#39;number&#39;</span><span class=p>:</span> <span class=mi>42</span><span class=p>,</span>
</span><span id=__span-62-39><a id=__codelineno-62-39 name=__codelineno-62-39 href=#__codelineno-62-39></a>                <span class=s1>&#39;boolean&#39;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-62-40><a id=__codelineno-62-40 name=__codelineno-62-40 href=#__codelineno-62-40></a>                <span class=s1>&#39;null_value&#39;</span><span class=p>:</span> <span class=kc>None</span>
</span><span id=__span-62-41><a id=__codelineno-62-41 name=__codelineno-62-41 href=#__codelineno-62-41></a>            <span class=p>}</span>
</span><span id=__span-62-42><a id=__codelineno-62-42 name=__codelineno-62-42 href=#__codelineno-62-42></a>        <span class=p>}</span>
</span><span id=__span-62-43><a id=__codelineno-62-43 name=__codelineno-62-43 href=#__codelineno-62-43></a>    <span class=p>},</span>
</span><span id=__span-62-44><a id=__codelineno-62-44 name=__codelineno-62-44 href=#__codelineno-62-44></a>    <span class=s1>&#39;empty_dict&#39;</span><span class=p>:</span> <span class=p>{},</span>
</span><span id=__span-62-45><a id=__codelineno-62-45 name=__codelineno-62-45 href=#__codelineno-62-45></a>    <span class=s1>&#39;list_value&#39;</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span>
</span><span id=__span-62-46><a id=__codelineno-62-46 name=__codelineno-62-46 href=#__codelineno-62-46></a>    <span class=s1>&#39;string_value&#39;</span><span class=p>:</span> <span class=s1>&#39;hello&#39;</span>
</span><span id=__span-62-47><a id=__codelineno-62-47 name=__codelineno-62-47 href=#__codelineno-62-47></a><span class=p>}</span>
</span><span id=__span-62-48><a id=__codelineno-62-48 name=__codelineno-62-48 href=#__codelineno-62-48></a>
</span><span id=__span-62-49><a id=__codelineno-62-49 name=__codelineno-62-49 href=#__codelineno-62-49></a><span class=c1># Successful lookups</span>
</span><span id=__span-62-50><a id=__codelineno-62-50 name=__codelineno-62-50 href=#__codelineno-62-50></a><span class=nb>print</span><span class=p>(</span><span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;level1&#39;</span><span class=p>,</span> <span class=s1>&#39;level2&#39;</span><span class=p>,</span> <span class=s1>&#39;level3&#39;</span><span class=p>,</span> <span class=s1>&#39;target&#39;</span><span class=p>]))</span>
</span><span id=__span-62-51><a id=__codelineno-62-51 name=__codelineno-62-51 href=#__codelineno-62-51></a><span class=c1># Output: found it!</span>
</span><span id=__span-62-52><a id=__codelineno-62-52 name=__codelineno-62-52 href=#__codelineno-62-52></a>
</span><span id=__span-62-53><a id=__codelineno-62-53 name=__codelineno-62-53 href=#__codelineno-62-53></a><span class=nb>print</span><span class=p>(</span><span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;level1&#39;</span><span class=p>,</span> <span class=s1>&#39;level2&#39;</span><span class=p>,</span> <span class=s1>&#39;level3&#39;</span><span class=p>,</span> <span class=s1>&#39;number&#39;</span><span class=p>]))</span>
</span><span id=__span-62-54><a id=__codelineno-62-54 name=__codelineno-62-54 href=#__codelineno-62-54></a><span class=c1># Output: 42</span>
</span><span id=__span-62-55><a id=__codelineno-62-55 name=__codelineno-62-55 href=#__codelineno-62-55></a>
</span><span id=__span-62-56><a id=__codelineno-62-56 name=__codelineno-62-56 href=#__codelineno-62-56></a><span class=c1># Missing path</span>
</span><span id=__span-62-57><a id=__codelineno-62-57 name=__codelineno-62-57 href=#__codelineno-62-57></a><span class=nb>print</span><span class=p>(</span><span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;level1&#39;</span><span class=p>,</span> <span class=s1>&#39;missing&#39;</span><span class=p>,</span> <span class=s1>&#39;key&#39;</span><span class=p>],</span> <span class=s1>&#39;default&#39;</span><span class=p>))</span>
</span><span id=__span-62-58><a id=__codelineno-62-58 name=__codelineno-62-58 href=#__codelineno-62-58></a><span class=c1># Output: default</span>
</span><span id=__span-62-59><a id=__codelineno-62-59 name=__codelineno-62-59 href=#__codelineno-62-59></a>
</span><span id=__span-62-60><a id=__codelineno-62-60 name=__codelineno-62-60 href=#__codelineno-62-60></a><span class=c1># Empty path</span>
</span><span id=__span-62-61><a id=__codelineno-62-61 name=__codelineno-62-61 href=#__codelineno-62-61></a><span class=nb>print</span><span class=p>(</span><span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=p>[],</span> <span class=s1>&#39;empty_path&#39;</span><span class=p>))</span>
</span><span id=__span-62-62><a id=__codelineno-62-62 name=__codelineno-62-62 href=#__codelineno-62-62></a><span class=c1># Output: empty_path</span>
</span><span id=__span-62-63><a id=__codelineno-62-63 name=__codelineno-62-63 href=#__codelineno-62-63></a>
</span><span id=__span-62-64><a id=__codelineno-62-64 name=__codelineno-62-64 href=#__codelineno-62-64></a><span class=c1># Path through non-dict</span>
</span><span id=__span-62-65><a id=__codelineno-62-65 name=__codelineno-62-65 href=#__codelineno-62-65></a><span class=nb>print</span><span class=p>(</span><span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;string_value&#39;</span><span class=p>,</span> <span class=s1>&#39;nested&#39;</span><span class=p>],</span> <span class=s1>&#39;not_dict&#39;</span><span class=p>))</span>
</span><span id=__span-62-66><a id=__codelineno-62-66 name=__codelineno-62-66 href=#__codelineno-62-66></a><span class=c1># Output: not_dict</span>
</span></code></pre></div> <h4 id=enhanced-version-with-type-checking><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#enhanced-version-with-type-checking>Enhanced Version with Type Checking</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-63-1><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a><span class=k>def</span><span class=w> </span><span class=nf>enhanced_depth_search</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>strict_types</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
</span><span id=__span-63-2><a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-63-3><a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a><span class=sd>    Enhanced version with additional type checking and options.</span>
</span><span id=__span-63-4><a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a>
</span><span id=__span-63-5><a id=__codelineno-63-5 name=__codelineno-63-5 href=#__codelineno-63-5></a><span class=sd>    Args:</span>
</span><span id=__span-63-6><a id=__codelineno-63-6 name=__codelineno-63-6 href=#__codelineno-63-6></a><span class=sd>        data: The data structure to search</span>
</span><span id=__span-63-7><a id=__codelineno-63-7 name=__codelineno-63-7 href=#__codelineno-63-7></a><span class=sd>        path: List of keys/indices for the path</span>
</span><span id=__span-63-8><a id=__codelineno-63-8 name=__codelineno-63-8 href=#__codelineno-63-8></a><span class=sd>        default: Default value if path not found</span>
</span><span id=__span-63-9><a id=__codelineno-63-9 name=__codelineno-63-9 href=#__codelineno-63-9></a><span class=sd>        strict_types: If True, only allow dict traversal</span>
</span><span id=__span-63-10><a id=__codelineno-63-10 name=__codelineno-63-10 href=#__codelineno-63-10></a>
</span><span id=__span-63-11><a id=__codelineno-63-11 name=__codelineno-63-11 href=#__codelineno-63-11></a><span class=sd>    Returns:</span>
</span><span id=__span-63-12><a id=__codelineno-63-12 name=__codelineno-63-12 href=#__codelineno-63-12></a><span class=sd>        Value at path or default</span>
</span><span id=__span-63-13><a id=__codelineno-63-13 name=__codelineno-63-13 href=#__codelineno-63-13></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-63-14><a id=__codelineno-63-14 name=__codelineno-63-14 href=#__codelineno-63-14></a>    <span class=n>current</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-63-15><a id=__codelineno-63-15 name=__codelineno-63-15 href=#__codelineno-63-15></a>
</span><span id=__span-63-16><a id=__codelineno-63-16 name=__codelineno-63-16 href=#__codelineno-63-16></a>    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>key</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span><span id=__span-63-17><a id=__codelineno-63-17 name=__codelineno-63-17 href=#__codelineno-63-17></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-63-18><a id=__codelineno-63-18 name=__codelineno-63-18 href=#__codelineno-63-18></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-63-19><a id=__codelineno-63-19 name=__codelineno-63-19 href=#__codelineno-63-19></a>        <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>))</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>strict_types</span><span class=p>:</span>
</span><span id=__span-63-20><a id=__codelineno-63-20 name=__codelineno-63-20 href=#__codelineno-63-20></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-63-21><a id=__codelineno-63-21 name=__codelineno-63-21 href=#__codelineno-63-21></a>                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span> <span class=ow>and</span> <span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>key</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>current</span><span class=p>):</span>
</span><span id=__span-63-22><a id=__codelineno-63-22 name=__codelineno-63-22 href=#__codelineno-63-22></a>                    <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-63-23><a id=__codelineno-63-23 name=__codelineno-63-23 href=#__codelineno-63-23></a>                <span class=k>else</span><span class=p>:</span>
</span><span id=__span-63-24><a id=__codelineno-63-24 name=__codelineno-63-24 href=#__codelineno-63-24></a>                    <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-63-25><a id=__codelineno-63-25 name=__codelineno-63-25 href=#__codelineno-63-25></a>            <span class=k>except</span> <span class=p>(</span><span class=ne>IndexError</span><span class=p>,</span> <span class=ne>TypeError</span><span class=p>):</span>
</span><span id=__span-63-26><a id=__codelineno-63-26 name=__codelineno-63-26 href=#__codelineno-63-26></a>                <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-63-27><a id=__codelineno-63-27 name=__codelineno-63-27 href=#__codelineno-63-27></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-63-28><a id=__codelineno-63-28 name=__codelineno-63-28 href=#__codelineno-63-28></a>            <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-63-29><a id=__codelineno-63-29 name=__codelineno-63-29 href=#__codelineno-63-29></a>
</span><span id=__span-63-30><a id=__codelineno-63-30 name=__codelineno-63-30 href=#__codelineno-63-30></a>        <span class=k>if</span> <span class=n>current</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-63-31><a id=__codelineno-63-31 name=__codelineno-63-31 href=#__codelineno-63-31></a>            <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-63-32><a id=__codelineno-63-32 name=__codelineno-63-32 href=#__codelineno-63-32></a>
</span><span id=__span-63-33><a id=__codelineno-63-33 name=__codelineno-63-33 href=#__codelineno-63-33></a>    <span class=k>return</span> <span class=n>current</span>
</span><span id=__span-63-34><a id=__codelineno-63-34 name=__codelineno-63-34 href=#__codelineno-63-34></a>
</span><span id=__span-63-35><a id=__codelineno-63-35 name=__codelineno-63-35 href=#__codelineno-63-35></a><span class=c1># Test with mixed data types</span>
</span><span id=__span-63-36><a id=__codelineno-63-36 name=__codelineno-63-36 href=#__codelineno-63-36></a><span class=n>mixed_data</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-63-37><a id=__codelineno-63-37 name=__codelineno-63-37 href=#__codelineno-63-37></a>    <span class=s1>&#39;users&#39;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-63-38><a id=__codelineno-63-38 name=__codelineno-63-38 href=#__codelineno-63-38></a>        <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Alice&#39;</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;theme&#39;</span><span class=p>:</span> <span class=s1>&#39;dark&#39;</span><span class=p>}},</span>
</span><span id=__span-63-39><a id=__codelineno-63-39 name=__codelineno-63-39 href=#__codelineno-63-39></a>        <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Bob&#39;</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;theme&#39;</span><span class=p>:</span> <span class=s1>&#39;light&#39;</span><span class=p>}}</span>
</span><span id=__span-63-40><a id=__codelineno-63-40 name=__codelineno-63-40 href=#__codelineno-63-40></a>    <span class=p>],</span>
</span><span id=__span-63-41><a id=__codelineno-63-41 name=__codelineno-63-41 href=#__codelineno-63-41></a>    <span class=s1>&#39;config&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-63-42><a id=__codelineno-63-42 name=__codelineno-63-42 href=#__codelineno-63-42></a>        <span class=s1>&#39;database&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-63-43><a id=__codelineno-63-43 name=__codelineno-63-43 href=#__codelineno-63-43></a>            <span class=s1>&#39;host&#39;</span><span class=p>:</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
</span><span id=__span-63-44><a id=__codelineno-63-44 name=__codelineno-63-44 href=#__codelineno-63-44></a>            <span class=s1>&#39;port&#39;</span><span class=p>:</span> <span class=mi>5432</span>
</span><span id=__span-63-45><a id=__codelineno-63-45 name=__codelineno-63-45 href=#__codelineno-63-45></a>        <span class=p>}</span>
</span><span id=__span-63-46><a id=__codelineno-63-46 name=__codelineno-63-46 href=#__codelineno-63-46></a>    <span class=p>}</span>
</span><span id=__span-63-47><a id=__codelineno-63-47 name=__codelineno-63-47 href=#__codelineno-63-47></a><span class=p>}</span>
</span><span id=__span-63-48><a id=__codelineno-63-48 name=__codelineno-63-48 href=#__codelineno-63-48></a>
</span><span id=__span-63-49><a id=__codelineno-63-49 name=__codelineno-63-49 href=#__codelineno-63-49></a><span class=c1># Access array element then nested dict</span>
</span><span id=__span-63-50><a id=__codelineno-63-50 name=__codelineno-63-50 href=#__codelineno-63-50></a><span class=n>alice_theme</span> <span class=o>=</span> <span class=n>enhanced_depth_search</span><span class=p>(</span><span class=n>mixed_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;users&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>,</span> <span class=s1>&#39;theme&#39;</span><span class=p>])</span>
</span><span id=__span-63-51><a id=__codelineno-63-51 name=__codelineno-63-51 href=#__codelineno-63-51></a><span class=nb>print</span><span class=p>(</span><span class=n>alice_theme</span><span class=p>)</span>  <span class=c1># dark</span>
</span><span id=__span-63-52><a id=__codelineno-63-52 name=__codelineno-63-52 href=#__codelineno-63-52></a>
</span><span id=__span-63-53><a id=__codelineno-63-53 name=__codelineno-63-53 href=#__codelineno-63-53></a><span class=c1># Access second user</span>
</span><span id=__span-63-54><a id=__codelineno-63-54 name=__codelineno-63-54 href=#__codelineno-63-54></a><span class=n>bob_theme</span> <span class=o>=</span> <span class=n>enhanced_depth_search</span><span class=p>(</span><span class=n>mixed_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;users&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>,</span> <span class=s1>&#39;theme&#39;</span><span class=p>])</span>
</span><span id=__span-63-55><a id=__codelineno-63-55 name=__codelineno-63-55 href=#__codelineno-63-55></a><span class=nb>print</span><span class=p>(</span><span class=n>bob_theme</span><span class=p>)</span>  <span class=c1># light</span>
</span><span id=__span-63-56><a id=__codelineno-63-56 name=__codelineno-63-56 href=#__codelineno-63-56></a>
</span><span id=__span-63-57><a id=__codelineno-63-57 name=__codelineno-63-57 href=#__codelineno-63-57></a><span class=c1># Access config</span>
</span><span id=__span-63-58><a id=__codelineno-63-58 name=__codelineno-63-58 href=#__codelineno-63-58></a><span class=n>db_host</span> <span class=o>=</span> <span class=n>enhanced_depth_search</span><span class=p>(</span><span class=n>mixed_data</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;config&#39;</span><span class=p>,</span> <span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;host&#39;</span><span class=p>])</span>
</span><span id=__span-63-59><a id=__codelineno-63-59 name=__codelineno-63-59 href=#__codelineno-63-59></a><span class=nb>print</span><span class=p>(</span><span class=n>db_host</span><span class=p>)</span>  <span class=c1># localhost</span>
</span></code></pre></div> <h3 id=performance-comparison><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#performance-comparison>Performance Comparison</a></h3> <p>Let's benchmark the different approaches to understand their performance characteristics:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-64-1><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=kn>import</span><span class=w> </span><span class=nn>time</span>
</span><span id=__span-64-2><a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a><span class=kn>import</span><span class=w> </span><span class=nn>random</span>
</span><span id=__span-64-3><a id=__codelineno-64-3 name=__codelineno-64-3 href=#__codelineno-64-3></a><span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>reduce</span>
</span><span id=__span-64-4><a id=__codelineno-64-4 name=__codelineno-64-4 href=#__codelineno-64-4></a>
</span><span id=__span-64-5><a id=__codelineno-64-5 name=__codelineno-64-5 href=#__codelineno-64-5></a><span class=k>def</span><span class=w> </span><span class=nf>create_test_data</span><span class=p>(</span><span class=n>depth</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span> <span class=n>width</span><span class=o>=</span><span class=mi>3</span><span class=p>):</span>
</span><span id=__span-64-6><a id=__codelineno-64-6 name=__codelineno-64-6 href=#__codelineno-64-6></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create nested test data of specified depth and width.&quot;&quot;&quot;</span>
</span><span id=__span-64-7><a id=__codelineno-64-7 name=__codelineno-64-7 href=#__codelineno-64-7></a>    <span class=k>if</span> <span class=n>depth</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-64-8><a id=__codelineno-64-8 name=__codelineno-64-8 href=#__codelineno-64-8></a>        <span class=k>return</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span>
</span><span id=__span-64-9><a id=__codelineno-64-9 name=__codelineno-64-9 href=#__codelineno-64-9></a>
</span><span id=__span-64-10><a id=__codelineno-64-10 name=__codelineno-64-10 href=#__codelineno-64-10></a>    <span class=k>return</span> <span class=p>{</span><span class=sa>f</span><span class=s1>&#39;key_</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>create_test_data</span><span class=p>(</span><span class=n>depth</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>width</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>width</span><span class=p>)}</span>
</span><span id=__span-64-11><a id=__codelineno-64-11 name=__codelineno-64-11 href=#__codelineno-64-11></a>
</span><span id=__span-64-12><a id=__codelineno-64-12 name=__codelineno-64-12 href=#__codelineno-64-12></a><span class=k>def</span><span class=w> </span><span class=nf>create_test_paths</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>max_depth</span><span class=o>=</span><span class=mi>5</span><span class=p>):</span>
</span><span id=__span-64-13><a id=__codelineno-64-13 name=__codelineno-64-13 href=#__codelineno-64-13></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create valid and invalid test paths.&quot;&quot;&quot;</span>
</span><span id=__span-64-14><a id=__codelineno-64-14 name=__codelineno-64-14 href=#__codelineno-64-14></a>    <span class=n>valid_paths</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-64-15><a id=__codelineno-64-15 name=__codelineno-64-15 href=#__codelineno-64-15></a>    <span class=n>invalid_paths</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-64-16><a id=__codelineno-64-16 name=__codelineno-64-16 href=#__codelineno-64-16></a>
</span><span id=__span-64-17><a id=__codelineno-64-17 name=__codelineno-64-17 href=#__codelineno-64-17></a>    <span class=c1># Create some valid paths</span>
</span><span id=__span-64-18><a id=__codelineno-64-18 name=__codelineno-64-18 href=#__codelineno-64-18></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>max_depth</span><span class=p>):</span>
</span><span id=__span-64-19><a id=__codelineno-64-19 name=__codelineno-64-19 href=#__codelineno-64-19></a>        <span class=n>path</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s1>&#39;key_</span><span class=si>{</span><span class=n>j</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>3</span><span class=si>}</span><span class=s1>&#39;</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)]</span>
</span><span id=__span-64-20><a id=__codelineno-64-20 name=__codelineno-64-20 href=#__codelineno-64-20></a>        <span class=n>valid_paths</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span><span id=__span-64-21><a id=__codelineno-64-21 name=__codelineno-64-21 href=#__codelineno-64-21></a>
</span><span id=__span-64-22><a id=__codelineno-64-22 name=__codelineno-64-22 href=#__codelineno-64-22></a>    <span class=c1># Create some invalid paths</span>
</span><span id=__span-64-23><a id=__codelineno-64-23 name=__codelineno-64-23 href=#__codelineno-64-23></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>max_depth</span><span class=p>):</span>
</span><span id=__span-64-24><a id=__codelineno-64-24 name=__codelineno-64-24 href=#__codelineno-64-24></a>        <span class=n>path</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s1>&#39;key_</span><span class=si>{</span><span class=n>j</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>3</span><span class=si>}</span><span class=s1>&#39;</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>i</span><span class=p>)]</span> <span class=o>+</span> <span class=p>[</span><span class=s1>&#39;invalid_key&#39;</span><span class=p>]</span>
</span><span id=__span-64-25><a id=__codelineno-64-25 name=__codelineno-64-25 href=#__codelineno-64-25></a>        <span class=n>invalid_paths</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span><span id=__span-64-26><a id=__codelineno-64-26 name=__codelineno-64-26 href=#__codelineno-64-26></a>
</span><span id=__span-64-27><a id=__codelineno-64-27 name=__codelineno-64-27 href=#__codelineno-64-27></a>    <span class=k>return</span> <span class=n>valid_paths</span><span class=p>,</span> <span class=n>invalid_paths</span>
</span><span id=__span-64-28><a id=__codelineno-64-28 name=__codelineno-64-28 href=#__codelineno-64-28></a>
</span><span id=__span-64-29><a id=__codelineno-64-29 name=__codelineno-64-29 href=#__codelineno-64-29></a><span class=c1># Create test data</span>
</span><span id=__span-64-30><a id=__codelineno-64-30 name=__codelineno-64-30 href=#__codelineno-64-30></a><span class=n>test_data</span> <span class=o>=</span> <span class=n>create_test_data</span><span class=p>(</span><span class=n>depth</span><span class=o>=</span><span class=mi>6</span><span class=p>,</span> <span class=n>width</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-64-31><a id=__codelineno-64-31 name=__codelineno-64-31 href=#__codelineno-64-31></a><span class=n>valid_paths</span><span class=p>,</span> <span class=n>invalid_paths</span> <span class=o>=</span> <span class=n>create_test_paths</span><span class=p>(</span><span class=n>test_data</span><span class=p>,</span> <span class=n>max_depth</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
</span><span id=__span-64-32><a id=__codelineno-64-32 name=__codelineno-64-32 href=#__codelineno-64-32></a>
</span><span id=__span-64-33><a id=__codelineno-64-33 name=__codelineno-64-33 href=#__codelineno-64-33></a><span class=k>def</span><span class=w> </span><span class=nf>benchmark_function</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>paths</span><span class=p>,</span> <span class=n>iterations</span><span class=o>=</span><span class=mi>10000</span><span class=p>):</span>
</span><span id=__span-64-34><a id=__codelineno-64-34 name=__codelineno-64-34 href=#__codelineno-64-34></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Benchmark a function with given data and paths.&quot;&quot;&quot;</span>
</span><span id=__span-64-35><a id=__codelineno-64-35 name=__codelineno-64-35 href=#__codelineno-64-35></a>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
</span><span id=__span-64-36><a id=__codelineno-64-36 name=__codelineno-64-36 href=#__codelineno-64-36></a>
</span><span id=__span-64-37><a id=__codelineno-64-37 name=__codelineno-64-37 href=#__codelineno-64-37></a>    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>iterations</span><span class=p>):</span>
</span><span id=__span-64-38><a id=__codelineno-64-38 name=__codelineno-64-38 href=#__codelineno-64-38></a>        <span class=k>for</span> <span class=n>path</span> <span class=ow>in</span> <span class=n>paths</span><span class=p>:</span>
</span><span id=__span-64-39><a id=__codelineno-64-39 name=__codelineno-64-39 href=#__codelineno-64-39></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-64-40><a id=__codelineno-64-40 name=__codelineno-64-40 href=#__codelineno-64-40></a>                <span class=n>func</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span><span id=__span-64-41><a id=__codelineno-64-41 name=__codelineno-64-41 href=#__codelineno-64-41></a>            <span class=k>except</span> <span class=ne>Exception</span><span class=p>:</span>
</span><span id=__span-64-42><a id=__codelineno-64-42 name=__codelineno-64-42 href=#__codelineno-64-42></a>                <span class=k>pass</span>  <span class=c1># Ignore errors for benchmarking</span>
</span><span id=__span-64-43><a id=__codelineno-64-43 name=__codelineno-64-43 href=#__codelineno-64-43></a>
</span><span id=__span-64-44><a id=__codelineno-64-44 name=__codelineno-64-44 href=#__codelineno-64-44></a>    <span class=n>end_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
</span><span id=__span-64-45><a id=__codelineno-64-45 name=__codelineno-64-45 href=#__codelineno-64-45></a>    <span class=k>return</span> <span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span>
</span><span id=__span-64-46><a id=__codelineno-64-46 name=__codelineno-64-46 href=#__codelineno-64-46></a>
</span><span id=__span-64-47><a id=__codelineno-64-47 name=__codelineno-64-47 href=#__codelineno-64-47></a><span class=c1># Define functions to test</span>
</span><span id=__span-64-48><a id=__codelineno-64-48 name=__codelineno-64-48 href=#__codelineno-64-48></a><span class=k>def</span><span class=w> </span><span class=nf>method_chained_get</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-64-49><a id=__codelineno-64-49 name=__codelineno-64-49 href=#__codelineno-64-49></a>    <span class=n>result</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-64-50><a id=__codelineno-64-50 name=__codelineno-64-50 href=#__codelineno-64-50></a>    <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>path</span><span class=p>:</span>
</span><span id=__span-64-51><a id=__codelineno-64-51 name=__codelineno-64-51 href=#__codelineno-64-51></a>        <span class=n>result</span> <span class=o>=</span> <span class=n>result</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-64-52><a id=__codelineno-64-52 name=__codelineno-64-52 href=#__codelineno-64-52></a>    <span class=k>return</span> <span class=n>result</span>
</span><span id=__span-64-53><a id=__codelineno-64-53 name=__codelineno-64-53 href=#__codelineno-64-53></a>
</span><span id=__span-64-54><a id=__codelineno-64-54 name=__codelineno-64-54 href=#__codelineno-64-54></a><span class=k>def</span><span class=w> </span><span class=nf>method_try_except</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-64-55><a id=__codelineno-64-55 name=__codelineno-64-55 href=#__codelineno-64-55></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-64-56><a id=__codelineno-64-56 name=__codelineno-64-56 href=#__codelineno-64-56></a>        <span class=n>result</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-64-57><a id=__codelineno-64-57 name=__codelineno-64-57 href=#__codelineno-64-57></a>        <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>path</span><span class=p>:</span>
</span><span id=__span-64-58><a id=__codelineno-64-58 name=__codelineno-64-58 href=#__codelineno-64-58></a>            <span class=n>result</span> <span class=o>=</span> <span class=n>result</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-64-59><a id=__codelineno-64-59 name=__codelineno-64-59 href=#__codelineno-64-59></a>        <span class=k>return</span> <span class=n>result</span>
</span><span id=__span-64-60><a id=__codelineno-64-60 name=__codelineno-64-60 href=#__codelineno-64-60></a>    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
</span><span id=__span-64-61><a id=__codelineno-64-61 name=__codelineno-64-61 href=#__codelineno-64-61></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-64-62><a id=__codelineno-64-62 name=__codelineno-64-62 href=#__codelineno-64-62></a>
</span><span id=__span-64-63><a id=__codelineno-64-63 name=__codelineno-64-63 href=#__codelineno-64-63></a><span class=k>def</span><span class=w> </span><span class=nf>method_reduce_safe</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-64-64><a id=__codelineno-64-64 name=__codelineno-64-64 href=#__codelineno-64-64></a>    <span class=k>return</span> <span class=n>reduce</span><span class=p>(</span>
</span><span id=__span-64-65><a id=__codelineno-64-65 name=__codelineno-64-65 href=#__codelineno-64-65></a>        <span class=k>lambda</span> <span class=n>d</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=n>d</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=p>{})</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>d</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=k>else</span> <span class=p>{},</span>
</span><span id=__span-64-66><a id=__codelineno-64-66 name=__codelineno-64-66 href=#__codelineno-64-66></a>        <span class=n>path</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span>
</span><span id=__span-64-67><a id=__codelineno-64-67 name=__codelineno-64-67 href=#__codelineno-64-67></a>        <span class=n>data</span>
</span><span id=__span-64-68><a id=__codelineno-64-68 name=__codelineno-64-68 href=#__codelineno-64-68></a>    <span class=p>)</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span> <span class=k>if</span> <span class=n>path</span> <span class=k>else</span> <span class=kc>None</span>
</span><span id=__span-64-69><a id=__codelineno-64-69 name=__codelineno-64-69 href=#__codelineno-64-69></a>
</span><span id=__span-64-70><a id=__codelineno-64-70 name=__codelineno-64-70 href=#__codelineno-64-70></a><span class=c1># Run benchmarks</span>
</span><span id=__span-64-71><a id=__codelineno-64-71 name=__codelineno-64-71 href=#__codelineno-64-71></a><span class=n>functions</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-64-72><a id=__codelineno-64-72 name=__codelineno-64-72 href=#__codelineno-64-72></a>    <span class=p>(</span><span class=s1>&#39;Chained get()&#39;</span><span class=p>,</span> <span class=n>method_chained_get</span><span class=p>),</span>
</span><span id=__span-64-73><a id=__codelineno-64-73 name=__codelineno-64-73 href=#__codelineno-64-73></a>    <span class=p>(</span><span class=s1>&#39;Try/except&#39;</span><span class=p>,</span> <span class=n>method_try_except</span><span class=p>),</span>
</span><span id=__span-64-74><a id=__codelineno-64-74 name=__codelineno-64-74 href=#__codelineno-64-74></a>    <span class=p>(</span><span class=s1>&#39;Reduce safe&#39;</span><span class=p>,</span> <span class=n>method_reduce_safe</span><span class=p>),</span>
</span><span id=__span-64-75><a id=__codelineno-64-75 name=__codelineno-64-75 href=#__codelineno-64-75></a>    <span class=p>(</span><span class=s1>&#39;Programmatic search&#39;</span><span class=p>,</span> <span class=n>programmatic_depth_search</span><span class=p>)</span>
</span><span id=__span-64-76><a id=__codelineno-64-76 name=__codelineno-64-76 href=#__codelineno-64-76></a><span class=p>]</span>
</span><span id=__span-64-77><a id=__codelineno-64-77 name=__codelineno-64-77 href=#__codelineno-64-77></a>
</span><span id=__span-64-78><a id=__codelineno-64-78 name=__codelineno-64-78 href=#__codelineno-64-78></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Performance Benchmark Results&quot;</span><span class=p>)</span>
</span><span id=__span-64-79><a id=__codelineno-64-79 name=__codelineno-64-79 href=#__codelineno-64-79></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;=&quot;</span> <span class=o>*</span> <span class=mi>50</span><span class=p>)</span>
</span><span id=__span-64-80><a id=__codelineno-64-80 name=__codelineno-64-80 href=#__codelineno-64-80></a>
</span><span id=__span-64-81><a id=__codelineno-64-81 name=__codelineno-64-81 href=#__codelineno-64-81></a><span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>func</span> <span class=ow>in</span> <span class=n>functions</span><span class=p>:</span>
</span><span id=__span-64-82><a id=__codelineno-64-82 name=__codelineno-64-82 href=#__codelineno-64-82></a>    <span class=c1># Test with valid paths</span>
</span><span id=__span-64-83><a id=__codelineno-64-83 name=__codelineno-64-83 href=#__codelineno-64-83></a>    <span class=n>valid_time</span> <span class=o>=</span> <span class=n>benchmark_function</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=n>test_data</span><span class=p>,</span> <span class=n>valid_paths</span><span class=p>,</span> <span class=mi>1000</span><span class=p>)</span>
</span><span id=__span-64-84><a id=__codelineno-64-84 name=__codelineno-64-84 href=#__codelineno-64-84></a>
</span><span id=__span-64-85><a id=__codelineno-64-85 name=__codelineno-64-85 href=#__codelineno-64-85></a>    <span class=c1># Test with invalid paths</span>
</span><span id=__span-64-86><a id=__codelineno-64-86 name=__codelineno-64-86 href=#__codelineno-64-86></a>    <span class=n>invalid_time</span> <span class=o>=</span> <span class=n>benchmark_function</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=n>test_data</span><span class=p>,</span> <span class=n>invalid_paths</span><span class=p>,</span> <span class=mi>1000</span><span class=p>)</span>
</span><span id=__span-64-87><a id=__codelineno-64-87 name=__codelineno-64-87 href=#__codelineno-64-87></a>
</span><span id=__span-64-88><a id=__codelineno-64-88 name=__codelineno-64-88 href=#__codelineno-64-88></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>:</span><span class=s2>20</span><span class=si>}</span><span class=s2> | Valid: </span><span class=si>{</span><span class=n>valid_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s | Invalid: </span><span class=si>{</span><span class=n>invalid_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
</span></code></pre></div> <h4 id=performance-results-analysis><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#performance-results-analysis>Performance Results Analysis</a></h4> <p>Based on typical benchmark results:</p> <ol> <li><strong>Try/except method</strong>: Fastest for valid paths, but slow for invalid paths due to exception overhead</li> <li><strong>Chained get()</strong>: Consistent performance, good balance between valid and invalid paths</li> <li><strong>Reduce-based</strong>: Slightly slower due to function call overhead</li> <li><strong>Programmatic search</strong>: Good performance with additional type safety</li> </ol> <h3 id=error-handling-and-robustness><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#error-handling-and-robustness>Error Handling and Robustness</a></h3> <h4 id=comprehensive-error-handling><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#comprehensive-error-handling>Comprehensive Error Handling</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-65-1><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a><span class=k>class</span><span class=w> </span><span class=nc>NestedLookupError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
</span><span id=__span-65-2><a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom exception for nested lookup errors.&quot;&quot;&quot;</span>
</span><span id=__span-65-3><a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a>    <span class=k>pass</span>
</span><span id=__span-65-4><a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a>
</span><span id=__span-65-5><a id=__codelineno-65-5 name=__codelineno-65-5 href=#__codelineno-65-5></a><span class=k>def</span><span class=w> </span><span class=nf>robust_nested_lookup</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>strict</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-65-6><a id=__codelineno-65-6 name=__codelineno-65-6 href=#__codelineno-65-6></a>                        <span class=n>allowed_types</span><span class=o>=</span><span class=p>(</span><span class=nb>dict</span><span class=p>,),</span> <span class=n>max_depth</span><span class=o>=</span><span class=mi>50</span><span class=p>):</span>
</span><span id=__span-65-7><a id=__codelineno-65-7 name=__codelineno-65-7 href=#__codelineno-65-7></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-65-8><a id=__codelineno-65-8 name=__codelineno-65-8 href=#__codelineno-65-8></a><span class=sd>    Robust nested lookup with comprehensive error handling.</span>
</span><span id=__span-65-9><a id=__codelineno-65-9 name=__codelineno-65-9 href=#__codelineno-65-9></a>
</span><span id=__span-65-10><a id=__codelineno-65-10 name=__codelineno-65-10 href=#__codelineno-65-10></a><span class=sd>    Args:</span>
</span><span id=__span-65-11><a id=__codelineno-65-11 name=__codelineno-65-11 href=#__codelineno-65-11></a><span class=sd>        data: The data structure to search</span>
</span><span id=__span-65-12><a id=__codelineno-65-12 name=__codelineno-65-12 href=#__codelineno-65-12></a><span class=sd>        path: List of keys for the path</span>
</span><span id=__span-65-13><a id=__codelineno-65-13 name=__codelineno-65-13 href=#__codelineno-65-13></a><span class=sd>        default: Default value if lookup fails</span>
</span><span id=__span-65-14><a id=__codelineno-65-14 name=__codelineno-65-14 href=#__codelineno-65-14></a><span class=sd>        strict: If True, raise exceptions instead of returning default</span>
</span><span id=__span-65-15><a id=__codelineno-65-15 name=__codelineno-65-15 href=#__codelineno-65-15></a><span class=sd>        allowed_types: Tuple of types allowed for traversal</span>
</span><span id=__span-65-16><a id=__codelineno-65-16 name=__codelineno-65-16 href=#__codelineno-65-16></a><span class=sd>        max_depth: Maximum recursion depth to prevent infinite loops</span>
</span><span id=__span-65-17><a id=__codelineno-65-17 name=__codelineno-65-17 href=#__codelineno-65-17></a>
</span><span id=__span-65-18><a id=__codelineno-65-18 name=__codelineno-65-18 href=#__codelineno-65-18></a><span class=sd>    Returns:</span>
</span><span id=__span-65-19><a id=__codelineno-65-19 name=__codelineno-65-19 href=#__codelineno-65-19></a><span class=sd>        Value at path or default</span>
</span><span id=__span-65-20><a id=__codelineno-65-20 name=__codelineno-65-20 href=#__codelineno-65-20></a>
</span><span id=__span-65-21><a id=__codelineno-65-21 name=__codelineno-65-21 href=#__codelineno-65-21></a><span class=sd>    Raises:</span>
</span><span id=__span-65-22><a id=__codelineno-65-22 name=__codelineno-65-22 href=#__codelineno-65-22></a><span class=sd>        NestedLookupError: If strict=True and lookup fails</span>
</span><span id=__span-65-23><a id=__codelineno-65-23 name=__codelineno-65-23 href=#__codelineno-65-23></a><span class=sd>        RecursionError: If max_depth exceeded</span>
</span><span id=__span-65-24><a id=__codelineno-65-24 name=__codelineno-65-24 href=#__codelineno-65-24></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-65-25><a id=__codelineno-65-25 name=__codelineno-65-25 href=#__codelineno-65-25></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>)):</span>
</span><span id=__span-65-26><a id=__codelineno-65-26 name=__codelineno-65-26 href=#__codelineno-65-26></a>        <span class=k>if</span> <span class=n>strict</span><span class=p>:</span>
</span><span id=__span-65-27><a id=__codelineno-65-27 name=__codelineno-65-27 href=#__codelineno-65-27></a>            <span class=k>raise</span> <span class=n>NestedLookupError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Path must be list or tuple, got </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-65-28><a id=__codelineno-65-28 name=__codelineno-65-28 href=#__codelineno-65-28></a>        <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-65-29><a id=__codelineno-65-29 name=__codelineno-65-29 href=#__codelineno-65-29></a>
</span><span id=__span-65-30><a id=__codelineno-65-30 name=__codelineno-65-30 href=#__codelineno-65-30></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=o>&gt;</span> <span class=n>max_depth</span><span class=p>:</span>
</span><span id=__span-65-31><a id=__codelineno-65-31 name=__codelineno-65-31 href=#__codelineno-65-31></a>        <span class=k>if</span> <span class=n>strict</span><span class=p>:</span>
</span><span id=__span-65-32><a id=__codelineno-65-32 name=__codelineno-65-32 href=#__codelineno-65-32></a>            <span class=k>raise</span> <span class=n>NestedLookupError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Path depth </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=si>}</span><span class=s2> exceeds maximum </span><span class=si>{</span><span class=n>max_depth</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-65-33><a id=__codelineno-65-33 name=__codelineno-65-33 href=#__codelineno-65-33></a>        <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-65-34><a id=__codelineno-65-34 name=__codelineno-65-34 href=#__codelineno-65-34></a>
</span><span id=__span-65-35><a id=__codelineno-65-35 name=__codelineno-65-35 href=#__codelineno-65-35></a>    <span class=n>current</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-65-36><a id=__codelineno-65-36 name=__codelineno-65-36 href=#__codelineno-65-36></a>
</span><span id=__span-65-37><a id=__codelineno-65-37 name=__codelineno-65-37 href=#__codelineno-65-37></a>    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>key</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span><span id=__span-65-38><a id=__codelineno-65-38 name=__codelineno-65-38 href=#__codelineno-65-38></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=n>allowed_types</span><span class=p>):</span>
</span><span id=__span-65-39><a id=__codelineno-65-39 name=__codelineno-65-39 href=#__codelineno-65-39></a>            <span class=k>if</span> <span class=n>strict</span><span class=p>:</span>
</span><span id=__span-65-40><a id=__codelineno-65-40 name=__codelineno-65-40 href=#__codelineno-65-40></a>                <span class=k>raise</span> <span class=n>NestedLookupError</span><span class=p>(</span>
</span><span id=__span-65-41><a id=__codelineno-65-41 name=__codelineno-65-41 href=#__codelineno-65-41></a>                    <span class=sa>f</span><span class=s2>&quot;Expected </span><span class=si>{</span><span class=n>allowed_types</span><span class=si>}</span><span class=s2> at path step </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>, got </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>current</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-65-42><a id=__codelineno-65-42 name=__codelineno-65-42 href=#__codelineno-65-42></a>                <span class=p>)</span>
</span><span id=__span-65-43><a id=__codelineno-65-43 name=__codelineno-65-43 href=#__codelineno-65-43></a>            <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-65-44><a id=__codelineno-65-44 name=__codelineno-65-44 href=#__codelineno-65-44></a>
</span><span id=__span-65-45><a id=__codelineno-65-45 name=__codelineno-65-45 href=#__codelineno-65-45></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-65-46><a id=__codelineno-65-46 name=__codelineno-65-46 href=#__codelineno-65-46></a>            <span class=k>if</span> <span class=n>key</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>current</span><span class=p>:</span>
</span><span id=__span-65-47><a id=__codelineno-65-47 name=__codelineno-65-47 href=#__codelineno-65-47></a>                <span class=k>if</span> <span class=n>strict</span><span class=p>:</span>
</span><span id=__span-65-48><a id=__codelineno-65-48 name=__codelineno-65-48 href=#__codelineno-65-48></a>                    <span class=k>raise</span> <span class=n>NestedLookupError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Key &#39;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&#39; not found at path step </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-65-49><a id=__codelineno-65-49 name=__codelineno-65-49 href=#__codelineno-65-49></a>                <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-65-50><a id=__codelineno-65-50 name=__codelineno-65-50 href=#__codelineno-65-50></a>            <span class=n>current</span> <span class=o>=</span> <span class=n>current</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-65-51><a id=__codelineno-65-51 name=__codelineno-65-51 href=#__codelineno-65-51></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-65-52><a id=__codelineno-65-52 name=__codelineno-65-52 href=#__codelineno-65-52></a>            <span class=c1># Handle other allowed types (lists, custom objects, etc.)</span>
</span><span id=__span-65-53><a id=__codelineno-65-53 name=__codelineno-65-53 href=#__codelineno-65-53></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-65-54><a id=__codelineno-65-54 name=__codelineno-65-54 href=#__codelineno-65-54></a>                <span class=n>current</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=n>key</span><span class=p>)</span> <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>current</span><span class=p>,</span> <span class=n>key</span><span class=p>)</span> <span class=k>else</span> <span class=n>current</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-65-55><a id=__codelineno-65-55 name=__codelineno-65-55 href=#__codelineno-65-55></a>            <span class=k>except</span> <span class=p>(</span><span class=ne>KeyError</span><span class=p>,</span> <span class=ne>IndexError</span><span class=p>,</span> <span class=ne>AttributeError</span><span class=p>,</span> <span class=ne>TypeError</span><span class=p>):</span>
</span><span id=__span-65-56><a id=__codelineno-65-56 name=__codelineno-65-56 href=#__codelineno-65-56></a>                <span class=k>if</span> <span class=n>strict</span><span class=p>:</span>
</span><span id=__span-65-57><a id=__codelineno-65-57 name=__codelineno-65-57 href=#__codelineno-65-57></a>                    <span class=k>raise</span> <span class=n>NestedLookupError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Cannot access &#39;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&#39; at path step </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-65-58><a id=__codelineno-65-58 name=__codelineno-65-58 href=#__codelineno-65-58></a>                <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-65-59><a id=__codelineno-65-59 name=__codelineno-65-59 href=#__codelineno-65-59></a>
</span><span id=__span-65-60><a id=__codelineno-65-60 name=__codelineno-65-60 href=#__codelineno-65-60></a>    <span class=k>return</span> <span class=n>current</span>
</span><span id=__span-65-61><a id=__codelineno-65-61 name=__codelineno-65-61 href=#__codelineno-65-61></a>
</span><span id=__span-65-62><a id=__codelineno-65-62 name=__codelineno-65-62 href=#__codelineno-65-62></a><span class=c1># Test robust lookup</span>
</span><span id=__span-65-63><a id=__codelineno-65-63 name=__codelineno-65-63 href=#__codelineno-65-63></a><span class=n>test_cases</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-65-64><a id=__codelineno-65-64 name=__codelineno-65-64 href=#__codelineno-65-64></a>    <span class=c1># (data, path, expected_result)</span>
</span><span id=__span-65-65><a id=__codelineno-65-65 name=__codelineno-65-65 href=#__codelineno-65-65></a>    <span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>42</span><span class=p>}},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>],</span> <span class=mi>42</span><span class=p>),</span>
</span><span id=__span-65-66><a id=__codelineno-65-66 name=__codelineno-65-66 href=#__codelineno-65-66></a>    <span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>42</span><span class=p>}},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>],</span> <span class=kc>None</span><span class=p>),</span>
</span><span id=__span-65-67><a id=__codelineno-65-67 name=__codelineno-65-67 href=#__codelineno-65-67></a>    <span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>42</span><span class=p>}},</span> <span class=p>[</span><span class=s1>&#39;c&#39;</span><span class=p>],</span> <span class=kc>None</span><span class=p>),</span>
</span><span id=__span-65-68><a id=__codelineno-65-68 name=__codelineno-65-68 href=#__codelineno-65-68></a>    <span class=p>({},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>],</span> <span class=kc>None</span><span class=p>),</span>
</span><span id=__span-65-69><a id=__codelineno-65-69 name=__codelineno-65-69 href=#__codelineno-65-69></a>    <span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=kc>None</span><span class=p>},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>],</span> <span class=kc>None</span><span class=p>),</span>
</span><span id=__span-65-70><a id=__codelineno-65-70 name=__codelineno-65-70 href=#__codelineno-65-70></a>    <span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=p>{</span><span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=p>[]}}},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>],</span> <span class=p>[]),</span>
</span><span id=__span-65-71><a id=__codelineno-65-71 name=__codelineno-65-71 href=#__codelineno-65-71></a><span class=p>]</span>
</span><span id=__span-65-72><a id=__codelineno-65-72 name=__codelineno-65-72 href=#__codelineno-65-72></a>
</span><span id=__span-65-73><a id=__codelineno-65-73 name=__codelineno-65-73 href=#__codelineno-65-73></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Robust Lookup Test Results&quot;</span><span class=p>)</span>
</span><span id=__span-65-74><a id=__codelineno-65-74 name=__codelineno-65-74 href=#__codelineno-65-74></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;-&quot;</span> <span class=o>*</span> <span class=mi>40</span><span class=p>)</span>
</span><span id=__span-65-75><a id=__codelineno-65-75 name=__codelineno-65-75 href=#__codelineno-65-75></a>
</span><span id=__span-65-76><a id=__codelineno-65-76 name=__codelineno-65-76 href=#__codelineno-65-76></a><span class=k>for</span> <span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>expected</span> <span class=ow>in</span> <span class=n>test_cases</span><span class=p>:</span>
</span><span id=__span-65-77><a id=__codelineno-65-77 name=__codelineno-65-77 href=#__codelineno-65-77></a>    <span class=n>result</span> <span class=o>=</span> <span class=n>robust_nested_lookup</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span><span id=__span-65-78><a id=__codelineno-65-78 name=__codelineno-65-78 href=#__codelineno-65-78></a>    <span class=n>status</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span> <span class=k>if</span> <span class=n>result</span> <span class=o>==</span> <span class=n>expected</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
</span><span id=__span-65-79><a id=__codelineno-65-79 name=__codelineno-65-79 href=#__codelineno-65-79></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>status</span><span class=si>}</span><span class=s2> Path </span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2> (expected: </span><span class=si>{</span><span class=n>expected</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>)</span>
</span><span id=__span-65-80><a id=__codelineno-65-80 name=__codelineno-65-80 href=#__codelineno-65-80></a>
</span><span id=__span-65-81><a id=__codelineno-65-81 name=__codelineno-65-81 href=#__codelineno-65-81></a><span class=c1># Test strict mode</span>
</span><span id=__span-65-82><a id=__codelineno-65-82 name=__codelineno-65-82 href=#__codelineno-65-82></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-65-83><a id=__codelineno-65-83 name=__codelineno-65-83 href=#__codelineno-65-83></a>    <span class=n>robust_nested_lookup</span><span class=p>({</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>],</span> <span class=n>strict</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-65-84><a id=__codelineno-65-84 name=__codelineno-65-84 href=#__codelineno-65-84></a><span class=k>except</span> <span class=n>NestedLookupError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-65-85><a id=__codelineno-65-85 name=__codelineno-65-85 href=#__codelineno-65-85></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Strict mode error (expected): </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div> <h3 id=real-world-applications><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#real-world-applications>Real-World Applications</a></h3> <h4 id=api-response-processing><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#api-response-processing>API Response Processing</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-66-1><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a><span class=k>def</span><span class=w> </span><span class=nf>extract_user_info</span><span class=p>(</span><span class=n>api_response</span><span class=p>):</span>
</span><span id=__span-66-2><a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extract user information from a complex API response.&quot;&quot;&quot;</span>
</span><span id=__span-66-3><a id=__codelineno-66-3 name=__codelineno-66-3 href=#__codelineno-66-3></a>
</span><span id=__span-66-4><a id=__codelineno-66-4 name=__codelineno-66-4 href=#__codelineno-66-4></a>    <span class=c1># Define extraction mappings</span>
</span><span id=__span-66-5><a id=__codelineno-66-5 name=__codelineno-66-5 href=#__codelineno-66-5></a>    <span class=n>extractions</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-66-6><a id=__codelineno-66-6 name=__codelineno-66-6 href=#__codelineno-66-6></a>        <span class=s1>&#39;user_id&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;id&#39;</span><span class=p>],</span>
</span><span id=__span-66-7><a id=__codelineno-66-7 name=__codelineno-66-7 href=#__codelineno-66-7></a>        <span class=s1>&#39;username&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>],</span>
</span><span id=__span-66-8><a id=__codelineno-66-8 name=__codelineno-66-8 href=#__codelineno-66-8></a>        <span class=s1>&#39;email&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;contact&#39;</span><span class=p>,</span> <span class=s1>&#39;email&#39;</span><span class=p>],</span>
</span><span id=__span-66-9><a id=__codelineno-66-9 name=__codelineno-66-9 href=#__codelineno-66-9></a>        <span class=s1>&#39;avatar_url&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=s1>&#39;avatar&#39;</span><span class=p>,</span> <span class=s1>&#39;large_url&#39;</span><span class=p>],</span>
</span><span id=__span-66-10><a id=__codelineno-66-10 name=__codelineno-66-10 href=#__codelineno-66-10></a>        <span class=s1>&#39;last_login&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;activity&#39;</span><span class=p>,</span> <span class=s1>&#39;last_login&#39;</span><span class=p>,</span> <span class=s1>&#39;timestamp&#39;</span><span class=p>],</span>
</span><span id=__span-66-11><a id=__codelineno-66-11 name=__codelineno-66-11 href=#__codelineno-66-11></a>        <span class=s1>&#39;subscription_type&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;subscription&#39;</span><span class=p>,</span> <span class=s1>&#39;plan&#39;</span><span class=p>,</span> <span class=s1>&#39;type&#39;</span><span class=p>],</span>
</span><span id=__span-66-12><a id=__codelineno-66-12 name=__codelineno-66-12 href=#__codelineno-66-12></a>        <span class=s1>&#39;preferences&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-13><a id=__codelineno-66-13 name=__codelineno-66-13 href=#__codelineno-66-13></a>            <span class=s1>&#39;notifications&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>,</span> <span class=s1>&#39;notifications&#39;</span><span class=p>,</span> <span class=s1>&#39;enabled&#39;</span><span class=p>],</span>
</span><span id=__span-66-14><a id=__codelineno-66-14 name=__codelineno-66-14 href=#__codelineno-66-14></a>            <span class=s1>&#39;theme&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>,</span> <span class=s1>&#39;ui&#39;</span><span class=p>,</span> <span class=s1>&#39;theme&#39;</span><span class=p>],</span>
</span><span id=__span-66-15><a id=__codelineno-66-15 name=__codelineno-66-15 href=#__codelineno-66-15></a>            <span class=s1>&#39;language&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;settings&#39;</span><span class=p>,</span> <span class=s1>&#39;locale&#39;</span><span class=p>,</span> <span class=s1>&#39;language&#39;</span><span class=p>]</span>
</span><span id=__span-66-16><a id=__codelineno-66-16 name=__codelineno-66-16 href=#__codelineno-66-16></a>        <span class=p>}</span>
</span><span id=__span-66-17><a id=__codelineno-66-17 name=__codelineno-66-17 href=#__codelineno-66-17></a>    <span class=p>}</span>
</span><span id=__span-66-18><a id=__codelineno-66-18 name=__codelineno-66-18 href=#__codelineno-66-18></a>
</span><span id=__span-66-19><a id=__codelineno-66-19 name=__codelineno-66-19 href=#__codelineno-66-19></a>    <span class=n>result</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-66-20><a id=__codelineno-66-20 name=__codelineno-66-20 href=#__codelineno-66-20></a>
</span><span id=__span-66-21><a id=__codelineno-66-21 name=__codelineno-66-21 href=#__codelineno-66-21></a>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>path</span> <span class=ow>in</span> <span class=n>extractions</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-66-22><a id=__codelineno-66-22 name=__codelineno-66-22 href=#__codelineno-66-22></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-66-23><a id=__codelineno-66-23 name=__codelineno-66-23 href=#__codelineno-66-23></a>            <span class=c1># Handle nested preferences</span>
</span><span id=__span-66-24><a id=__codelineno-66-24 name=__codelineno-66-24 href=#__codelineno-66-24></a>            <span class=n>result</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-66-25><a id=__codelineno-66-25 name=__codelineno-66-25 href=#__codelineno-66-25></a>            <span class=k>for</span> <span class=n>pref_key</span><span class=p>,</span> <span class=n>pref_path</span> <span class=ow>in</span> <span class=n>path</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-66-26><a id=__codelineno-66-26 name=__codelineno-66-26 href=#__codelineno-66-26></a>                <span class=n>result</span><span class=p>[</span><span class=n>key</span><span class=p>][</span><span class=n>pref_key</span><span class=p>]</span> <span class=o>=</span> <span class=n>programmatic_depth_search</span><span class=p>(</span>
</span><span id=__span-66-27><a id=__codelineno-66-27 name=__codelineno-66-27 href=#__codelineno-66-27></a>                    <span class=n>api_response</span><span class=p>,</span> <span class=n>pref_path</span><span class=p>,</span> <span class=s1>&#39;unknown&#39;</span>
</span><span id=__span-66-28><a id=__codelineno-66-28 name=__codelineno-66-28 href=#__codelineno-66-28></a>                <span class=p>)</span>
</span><span id=__span-66-29><a id=__codelineno-66-29 name=__codelineno-66-29 href=#__codelineno-66-29></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-66-30><a id=__codelineno-66-30 name=__codelineno-66-30 href=#__codelineno-66-30></a>            <span class=n>result</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>api_response</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span><span id=__span-66-31><a id=__codelineno-66-31 name=__codelineno-66-31 href=#__codelineno-66-31></a>
</span><span id=__span-66-32><a id=__codelineno-66-32 name=__codelineno-66-32 href=#__codelineno-66-32></a>    <span class=k>return</span> <span class=n>result</span>
</span><span id=__span-66-33><a id=__codelineno-66-33 name=__codelineno-66-33 href=#__codelineno-66-33></a>
</span><span id=__span-66-34><a id=__codelineno-66-34 name=__codelineno-66-34 href=#__codelineno-66-34></a><span class=c1># Sample API response</span>
</span><span id=__span-66-35><a id=__codelineno-66-35 name=__codelineno-66-35 href=#__codelineno-66-35></a><span class=n>sample_response</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-66-36><a id=__codelineno-66-36 name=__codelineno-66-36 href=#__codelineno-66-36></a>    <span class=s1>&#39;status&#39;</span><span class=p>:</span> <span class=s1>&#39;success&#39;</span><span class=p>,</span>
</span><span id=__span-66-37><a id=__codelineno-66-37 name=__codelineno-66-37 href=#__codelineno-66-37></a>    <span class=s1>&#39;data&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-38><a id=__codelineno-66-38 name=__codelineno-66-38 href=#__codelineno-66-38></a>        <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-39><a id=__codelineno-66-39 name=__codelineno-66-39 href=#__codelineno-66-39></a>            <span class=s1>&#39;id&#39;</span><span class=p>:</span> <span class=mi>12345</span><span class=p>,</span>
</span><span id=__span-66-40><a id=__codelineno-66-40 name=__codelineno-66-40 href=#__codelineno-66-40></a>            <span class=s1>&#39;profile&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-41><a id=__codelineno-66-41 name=__codelineno-66-41 href=#__codelineno-66-41></a>                <span class=s1>&#39;username&#39;</span><span class=p>:</span> <span class=s1>&#39;john_doe&#39;</span><span class=p>,</span>
</span><span id=__span-66-42><a id=__codelineno-66-42 name=__codelineno-66-42 href=#__codelineno-66-42></a>                <span class=s1>&#39;avatar&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-43><a id=__codelineno-66-43 name=__codelineno-66-43 href=#__codelineno-66-43></a>                    <span class=s1>&#39;small_url&#39;</span><span class=p>:</span> <span class=s1>&#39;https://example.com/small.jpg&#39;</span><span class=p>,</span>
</span><span id=__span-66-44><a id=__codelineno-66-44 name=__codelineno-66-44 href=#__codelineno-66-44></a>                    <span class=s1>&#39;large_url&#39;</span><span class=p>:</span> <span class=s1>&#39;https://example.com/large.jpg&#39;</span>
</span><span id=__span-66-45><a id=__codelineno-66-45 name=__codelineno-66-45 href=#__codelineno-66-45></a>                <span class=p>}</span>
</span><span id=__span-66-46><a id=__codelineno-66-46 name=__codelineno-66-46 href=#__codelineno-66-46></a>            <span class=p>},</span>
</span><span id=__span-66-47><a id=__codelineno-66-47 name=__codelineno-66-47 href=#__codelineno-66-47></a>            <span class=s1>&#39;contact&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-48><a id=__codelineno-66-48 name=__codelineno-66-48 href=#__codelineno-66-48></a>                <span class=s1>&#39;email&#39;</span><span class=p>:</span> <span class=s1>&#39;john@example.com&#39;</span><span class=p>,</span>
</span><span id=__span-66-49><a id=__codelineno-66-49 name=__codelineno-66-49 href=#__codelineno-66-49></a>                <span class=s1>&#39;phone&#39;</span><span class=p>:</span> <span class=s1>&#39;+1-555-0123&#39;</span>
</span><span id=__span-66-50><a id=__codelineno-66-50 name=__codelineno-66-50 href=#__codelineno-66-50></a>            <span class=p>},</span>
</span><span id=__span-66-51><a id=__codelineno-66-51 name=__codelineno-66-51 href=#__codelineno-66-51></a>            <span class=s1>&#39;activity&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-52><a id=__codelineno-66-52 name=__codelineno-66-52 href=#__codelineno-66-52></a>                <span class=s1>&#39;last_login&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-53><a id=__codelineno-66-53 name=__codelineno-66-53 href=#__codelineno-66-53></a>                    <span class=s1>&#39;timestamp&#39;</span><span class=p>:</span> <span class=s1>&#39;2023-11-15T10:30:00Z&#39;</span><span class=p>,</span>
</span><span id=__span-66-54><a id=__codelineno-66-54 name=__codelineno-66-54 href=#__codelineno-66-54></a>                    <span class=s1>&#39;ip_address&#39;</span><span class=p>:</span> <span class=s1>&#39;192.168.1.100&#39;</span>
</span><span id=__span-66-55><a id=__codelineno-66-55 name=__codelineno-66-55 href=#__codelineno-66-55></a>                <span class=p>}</span>
</span><span id=__span-66-56><a id=__codelineno-66-56 name=__codelineno-66-56 href=#__codelineno-66-56></a>            <span class=p>},</span>
</span><span id=__span-66-57><a id=__codelineno-66-57 name=__codelineno-66-57 href=#__codelineno-66-57></a>            <span class=s1>&#39;subscription&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-58><a id=__codelineno-66-58 name=__codelineno-66-58 href=#__codelineno-66-58></a>                <span class=s1>&#39;plan&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-59><a id=__codelineno-66-59 name=__codelineno-66-59 href=#__codelineno-66-59></a>                    <span class=s1>&#39;type&#39;</span><span class=p>:</span> <span class=s1>&#39;premium&#39;</span><span class=p>,</span>
</span><span id=__span-66-60><a id=__codelineno-66-60 name=__codelineno-66-60 href=#__codelineno-66-60></a>                    <span class=s1>&#39;expires&#39;</span><span class=p>:</span> <span class=s1>&#39;2024-01-15&#39;</span>
</span><span id=__span-66-61><a id=__codelineno-66-61 name=__codelineno-66-61 href=#__codelineno-66-61></a>                <span class=p>}</span>
</span><span id=__span-66-62><a id=__codelineno-66-62 name=__codelineno-66-62 href=#__codelineno-66-62></a>            <span class=p>},</span>
</span><span id=__span-66-63><a id=__codelineno-66-63 name=__codelineno-66-63 href=#__codelineno-66-63></a>            <span class=s1>&#39;settings&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-64><a id=__codelineno-66-64 name=__codelineno-66-64 href=#__codelineno-66-64></a>                <span class=s1>&#39;notifications&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-65><a id=__codelineno-66-65 name=__codelineno-66-65 href=#__codelineno-66-65></a>                    <span class=s1>&#39;enabled&#39;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-66-66><a id=__codelineno-66-66 name=__codelineno-66-66 href=#__codelineno-66-66></a>                    <span class=s1>&#39;frequency&#39;</span><span class=p>:</span> <span class=s1>&#39;daily&#39;</span>
</span><span id=__span-66-67><a id=__codelineno-66-67 name=__codelineno-66-67 href=#__codelineno-66-67></a>                <span class=p>},</span>
</span><span id=__span-66-68><a id=__codelineno-66-68 name=__codelineno-66-68 href=#__codelineno-66-68></a>                <span class=s1>&#39;ui&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-69><a id=__codelineno-66-69 name=__codelineno-66-69 href=#__codelineno-66-69></a>                    <span class=s1>&#39;theme&#39;</span><span class=p>:</span> <span class=s1>&#39;dark&#39;</span>
</span><span id=__span-66-70><a id=__codelineno-66-70 name=__codelineno-66-70 href=#__codelineno-66-70></a>                <span class=p>},</span>
</span><span id=__span-66-71><a id=__codelineno-66-71 name=__codelineno-66-71 href=#__codelineno-66-71></a>                <span class=s1>&#39;locale&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-66-72><a id=__codelineno-66-72 name=__codelineno-66-72 href=#__codelineno-66-72></a>                    <span class=s1>&#39;language&#39;</span><span class=p>:</span> <span class=s1>&#39;en&#39;</span><span class=p>,</span>
</span><span id=__span-66-73><a id=__codelineno-66-73 name=__codelineno-66-73 href=#__codelineno-66-73></a>                    <span class=s1>&#39;timezone&#39;</span><span class=p>:</span> <span class=s1>&#39;UTC&#39;</span>
</span><span id=__span-66-74><a id=__codelineno-66-74 name=__codelineno-66-74 href=#__codelineno-66-74></a>                <span class=p>}</span>
</span><span id=__span-66-75><a id=__codelineno-66-75 name=__codelineno-66-75 href=#__codelineno-66-75></a>            <span class=p>}</span>
</span><span id=__span-66-76><a id=__codelineno-66-76 name=__codelineno-66-76 href=#__codelineno-66-76></a>        <span class=p>}</span>
</span><span id=__span-66-77><a id=__codelineno-66-77 name=__codelineno-66-77 href=#__codelineno-66-77></a>    <span class=p>}</span>
</span><span id=__span-66-78><a id=__codelineno-66-78 name=__codelineno-66-78 href=#__codelineno-66-78></a><span class=p>}</span>
</span><span id=__span-66-79><a id=__codelineno-66-79 name=__codelineno-66-79 href=#__codelineno-66-79></a>
</span><span id=__span-66-80><a id=__codelineno-66-80 name=__codelineno-66-80 href=#__codelineno-66-80></a><span class=n>extracted_info</span> <span class=o>=</span> <span class=n>extract_user_info</span><span class=p>(</span><span class=n>sample_response</span><span class=p>)</span>
</span><span id=__span-66-81><a id=__codelineno-66-81 name=__codelineno-66-81 href=#__codelineno-66-81></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Extracted User Information:&quot;</span><span class=p>)</span>
</span><span id=__span-66-82><a id=__codelineno-66-82 name=__codelineno-66-82 href=#__codelineno-66-82></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;-&quot;</span> <span class=o>*</span> <span class=mi>30</span><span class=p>)</span>
</span><span id=__span-66-83><a id=__codelineno-66-83 name=__codelineno-66-83 href=#__codelineno-66-83></a><span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>extracted_info</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-66-84><a id=__codelineno-66-84 name=__codelineno-66-84 href=#__codelineno-66-84></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-66-85><a id=__codelineno-66-85 name=__codelineno-66-85 href=#__codelineno-66-85></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>:&quot;</span><span class=p>)</span>
</span><span id=__span-66-86><a id=__codelineno-66-86 name=__codelineno-66-86 href=#__codelineno-66-86></a>        <span class=k>for</span> <span class=n>sub_key</span><span class=p>,</span> <span class=n>sub_value</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-66-87><a id=__codelineno-66-87 name=__codelineno-66-87 href=#__codelineno-66-87></a>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>sub_key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>sub_value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-66-88><a id=__codelineno-66-88 name=__codelineno-66-88 href=#__codelineno-66-88></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-66-89><a id=__codelineno-66-89 name=__codelineno-66-89 href=#__codelineno-66-89></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div> <h4 id=configuration-management><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#configuration-management>Configuration Management</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-67-1><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class=k>class</span><span class=w> </span><span class=nc>ConfigManager</span><span class=p>:</span>
</span><span id=__span-67-2><a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Manage nested configuration with safe access patterns.&quot;&quot;&quot;</span>
</span><span id=__span-67-3><a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a>
</span><span id=__span-67-4><a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config_data</span><span class=p>):</span>
</span><span id=__span-67-5><a id=__codelineno-67-5 name=__codelineno-67-5 href=#__codelineno-67-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config_data</span>
</span><span id=__span-67-6><a id=__codelineno-67-6 name=__codelineno-67-6 href=#__codelineno-67-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-67-7><a id=__codelineno-67-7 name=__codelineno-67-7 href=#__codelineno-67-7></a>
</span><span id=__span-67-8><a id=__codelineno-67-8 name=__codelineno-67-8 href=#__codelineno-67-8></a>    <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>cache</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
</span><span id=__span-67-9><a id=__codelineno-67-9 name=__codelineno-67-9 href=#__codelineno-67-9></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get configuration value with caching.&quot;&quot;&quot;</span>
</span><span id=__span-67-10><a id=__codelineno-67-10 name=__codelineno-67-10 href=#__codelineno-67-10></a>        <span class=n>path_str</span> <span class=o>=</span> <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>path</span><span class=p>))</span>
</span><span id=__span-67-11><a id=__codelineno-67-11 name=__codelineno-67-11 href=#__codelineno-67-11></a>
</span><span id=__span-67-12><a id=__codelineno-67-12 name=__codelineno-67-12 href=#__codelineno-67-12></a>        <span class=k>if</span> <span class=n>cache</span> <span class=ow>and</span> <span class=n>path_str</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>:</span>
</span><span id=__span-67-13><a id=__codelineno-67-13 name=__codelineno-67-13 href=#__codelineno-67-13></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>[</span><span class=n>path_str</span><span class=p>]</span>
</span><span id=__span-67-14><a id=__codelineno-67-14 name=__codelineno-67-14 href=#__codelineno-67-14></a>
</span><span id=__span-67-15><a id=__codelineno-67-15 name=__codelineno-67-15 href=#__codelineno-67-15></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-67-16><a id=__codelineno-67-16 name=__codelineno-67-16 href=#__codelineno-67-16></a>
</span><span id=__span-67-17><a id=__codelineno-67-17 name=__codelineno-67-17 href=#__codelineno-67-17></a>        <span class=k>if</span> <span class=n>cache</span><span class=p>:</span>
</span><span id=__span-67-18><a id=__codelineno-67-18 name=__codelineno-67-18 href=#__codelineno-67-18></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>[</span><span class=n>path_str</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</span><span id=__span-67-19><a id=__codelineno-67-19 name=__codelineno-67-19 href=#__codelineno-67-19></a>
</span><span id=__span-67-20><a id=__codelineno-67-20 name=__codelineno-67-20 href=#__codelineno-67-20></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-67-21><a id=__codelineno-67-21 name=__codelineno-67-21 href=#__codelineno-67-21></a>
</span><span id=__span-67-22><a id=__codelineno-67-22 name=__codelineno-67-22 href=#__codelineno-67-22></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_database_config</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-67-23><a id=__codelineno-67-23 name=__codelineno-67-23 href=#__codelineno-67-23></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get database configuration with defaults.&quot;&quot;&quot;</span>
</span><span id=__span-67-24><a id=__codelineno-67-24 name=__codelineno-67-24 href=#__codelineno-67-24></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-67-25><a id=__codelineno-67-25 name=__codelineno-67-25 href=#__codelineno-67-25></a>            <span class=s1>&#39;host&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;host&#39;</span><span class=p>],</span> <span class=s1>&#39;localhost&#39;</span><span class=p>),</span>
</span><span id=__span-67-26><a id=__codelineno-67-26 name=__codelineno-67-26 href=#__codelineno-67-26></a>            <span class=s1>&#39;port&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;port&#39;</span><span class=p>],</span> <span class=mi>5432</span><span class=p>),</span>
</span><span id=__span-67-27><a id=__codelineno-67-27 name=__codelineno-67-27 href=#__codelineno-67-27></a>            <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>],</span> <span class=s1>&#39;app_db&#39;</span><span class=p>),</span>
</span><span id=__span-67-28><a id=__codelineno-67-28 name=__codelineno-67-28 href=#__codelineno-67-28></a>            <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;credentials&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>],</span> <span class=s1>&#39;user&#39;</span><span class=p>),</span>
</span><span id=__span-67-29><a id=__codelineno-67-29 name=__codelineno-67-29 href=#__codelineno-67-29></a>            <span class=s1>&#39;password&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;credentials&#39;</span><span class=p>,</span> <span class=s1>&#39;password&#39;</span><span class=p>],</span> <span class=s1>&#39;&#39;</span><span class=p>),</span>
</span><span id=__span-67-30><a id=__codelineno-67-30 name=__codelineno-67-30 href=#__codelineno-67-30></a>            <span class=s1>&#39;ssl&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;ssl&#39;</span><span class=p>,</span> <span class=s1>&#39;enabled&#39;</span><span class=p>],</span> <span class=kc>False</span><span class=p>),</span>
</span><span id=__span-67-31><a id=__codelineno-67-31 name=__codelineno-67-31 href=#__codelineno-67-31></a>            <span class=s1>&#39;pool_size&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;connection_pool&#39;</span><span class=p>,</span> <span class=s1>&#39;size&#39;</span><span class=p>],</span> <span class=mi>10</span><span class=p>)</span>
</span><span id=__span-67-32><a id=__codelineno-67-32 name=__codelineno-67-32 href=#__codelineno-67-32></a>        <span class=p>}</span>
</span><span id=__span-67-33><a id=__codelineno-67-33 name=__codelineno-67-33 href=#__codelineno-67-33></a>
</span><span id=__span-67-34><a id=__codelineno-67-34 name=__codelineno-67-34 href=#__codelineno-67-34></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_api_config</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-67-35><a id=__codelineno-67-35 name=__codelineno-67-35 href=#__codelineno-67-35></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Get API configuration.&quot;&quot;&quot;</span>
</span><span id=__span-67-36><a id=__codelineno-67-36 name=__codelineno-67-36 href=#__codelineno-67-36></a>        <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-67-37><a id=__codelineno-67-37 name=__codelineno-67-37 href=#__codelineno-67-37></a>            <span class=s1>&#39;base_url&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;base_url&#39;</span><span class=p>],</span> <span class=s1>&#39;https://api.example.com&#39;</span><span class=p>),</span>
</span><span id=__span-67-38><a id=__codelineno-67-38 name=__codelineno-67-38 href=#__codelineno-67-38></a>            <span class=s1>&#39;timeout&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;timeout&#39;</span><span class=p>],</span> <span class=mi>30</span><span class=p>),</span>
</span><span id=__span-67-39><a id=__codelineno-67-39 name=__codelineno-67-39 href=#__codelineno-67-39></a>            <span class=s1>&#39;retries&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;retries&#39;</span><span class=p>],</span> <span class=mi>3</span><span class=p>),</span>
</span><span id=__span-67-40><a id=__codelineno-67-40 name=__codelineno-67-40 href=#__codelineno-67-40></a>            <span class=s1>&#39;rate_limit&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;rate_limit&#39;</span><span class=p>,</span> <span class=s1>&#39;requests_per_minute&#39;</span><span class=p>],</span> <span class=mi>60</span><span class=p>),</span>
</span><span id=__span-67-41><a id=__codelineno-67-41 name=__codelineno-67-41 href=#__codelineno-67-41></a>            <span class=s1>&#39;auth&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-67-42><a id=__codelineno-67-42 name=__codelineno-67-42 href=#__codelineno-67-42></a>                <span class=s1>&#39;method&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;auth&#39;</span><span class=p>,</span> <span class=s1>&#39;method&#39;</span><span class=p>],</span> <span class=s1>&#39;bearer&#39;</span><span class=p>),</span>
</span><span id=__span-67-43><a id=__codelineno-67-43 name=__codelineno-67-43 href=#__codelineno-67-43></a>                <span class=s1>&#39;token&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;auth&#39;</span><span class=p>,</span> <span class=s1>&#39;token&#39;</span><span class=p>],</span> <span class=s1>&#39;&#39;</span><span class=p>),</span>
</span><span id=__span-67-44><a id=__codelineno-67-44 name=__codelineno-67-44 href=#__codelineno-67-44></a>            <span class=p>}</span>
</span><span id=__span-67-45><a id=__codelineno-67-45 name=__codelineno-67-45 href=#__codelineno-67-45></a>        <span class=p>}</span>
</span><span id=__span-67-46><a id=__codelineno-67-46 name=__codelineno-67-46 href=#__codelineno-67-46></a>
</span><span id=__span-67-47><a id=__codelineno-67-47 name=__codelineno-67-47 href=#__codelineno-67-47></a>    <span class=k>def</span><span class=w> </span><span class=nf>validate_required_config</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>required_paths</span><span class=p>):</span>
</span><span id=__span-67-48><a id=__codelineno-67-48 name=__codelineno-67-48 href=#__codelineno-67-48></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate that required configuration paths exist.&quot;&quot;&quot;</span>
</span><span id=__span-67-49><a id=__codelineno-67-49 name=__codelineno-67-49 href=#__codelineno-67-49></a>        <span class=n>missing</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-67-50><a id=__codelineno-67-50 name=__codelineno-67-50 href=#__codelineno-67-50></a>        <span class=k>for</span> <span class=n>path</span> <span class=ow>in</span> <span class=n>required_paths</span><span class=p>:</span>
</span><span id=__span-67-51><a id=__codelineno-67-51 name=__codelineno-67-51 href=#__codelineno-67-51></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-67-52><a id=__codelineno-67-52 name=__codelineno-67-52 href=#__codelineno-67-52></a>                <span class=n>missing</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>path</span><span class=p>)))</span>
</span><span id=__span-67-53><a id=__codelineno-67-53 name=__codelineno-67-53 href=#__codelineno-67-53></a>
</span><span id=__span-67-54><a id=__codelineno-67-54 name=__codelineno-67-54 href=#__codelineno-67-54></a>        <span class=k>if</span> <span class=n>missing</span><span class=p>:</span>
</span><span id=__span-67-55><a id=__codelineno-67-55 name=__codelineno-67-55 href=#__codelineno-67-55></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Missing required configuration: </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>missing</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-67-56><a id=__codelineno-67-56 name=__codelineno-67-56 href=#__codelineno-67-56></a>
</span><span id=__span-67-57><a id=__codelineno-67-57 name=__codelineno-67-57 href=#__codelineno-67-57></a>        <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-67-58><a id=__codelineno-67-58 name=__codelineno-67-58 href=#__codelineno-67-58></a>
</span><span id=__span-67-59><a id=__codelineno-67-59 name=__codelineno-67-59 href=#__codelineno-67-59></a><span class=c1># Example configuration</span>
</span><span id=__span-67-60><a id=__codelineno-67-60 name=__codelineno-67-60 href=#__codelineno-67-60></a><span class=n>app_config</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-67-61><a id=__codelineno-67-61 name=__codelineno-67-61 href=#__codelineno-67-61></a>    <span class=s1>&#39;app&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-67-62><a id=__codelineno-67-62 name=__codelineno-67-62 href=#__codelineno-67-62></a>        <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;MyApp&#39;</span><span class=p>,</span>
</span><span id=__span-67-63><a id=__codelineno-67-63 name=__codelineno-67-63 href=#__codelineno-67-63></a>        <span class=s1>&#39;version&#39;</span><span class=p>:</span> <span class=s1>&#39;1.0.0&#39;</span><span class=p>,</span>
</span><span id=__span-67-64><a id=__codelineno-67-64 name=__codelineno-67-64 href=#__codelineno-67-64></a>        <span class=s1>&#39;debug&#39;</span><span class=p>:</span> <span class=kc>True</span>
</span><span id=__span-67-65><a id=__codelineno-67-65 name=__codelineno-67-65 href=#__codelineno-67-65></a>    <span class=p>},</span>
</span><span id=__span-67-66><a id=__codelineno-67-66 name=__codelineno-67-66 href=#__codelineno-67-66></a>    <span class=s1>&#39;database&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-67-67><a id=__codelineno-67-67 name=__codelineno-67-67 href=#__codelineno-67-67></a>        <span class=s1>&#39;host&#39;</span><span class=p>:</span> <span class=s1>&#39;db.example.com&#39;</span><span class=p>,</span>
</span><span id=__span-67-68><a id=__codelineno-67-68 name=__codelineno-67-68 href=#__codelineno-67-68></a>        <span class=s1>&#39;port&#39;</span><span class=p>:</span> <span class=mi>5432</span><span class=p>,</span>
</span><span id=__span-67-69><a id=__codelineno-67-69 name=__codelineno-67-69 href=#__codelineno-67-69></a>        <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;production_db&#39;</span><span class=p>,</span>
</span><span id=__span-67-70><a id=__codelineno-67-70 name=__codelineno-67-70 href=#__codelineno-67-70></a>        <span class=s1>&#39;credentials&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-67-71><a id=__codelineno-67-71 name=__codelineno-67-71 href=#__codelineno-67-71></a>            <span class=s1>&#39;username&#39;</span><span class=p>:</span> <span class=s1>&#39;app_user&#39;</span><span class=p>,</span>
</span><span id=__span-67-72><a id=__codelineno-67-72 name=__codelineno-67-72 href=#__codelineno-67-72></a>            <span class=s1>&#39;password&#39;</span><span class=p>:</span> <span class=s1>&#39;secret123&#39;</span>
</span><span id=__span-67-73><a id=__codelineno-67-73 name=__codelineno-67-73 href=#__codelineno-67-73></a>        <span class=p>},</span>
</span><span id=__span-67-74><a id=__codelineno-67-74 name=__codelineno-67-74 href=#__codelineno-67-74></a>        <span class=s1>&#39;ssl&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-67-75><a id=__codelineno-67-75 name=__codelineno-67-75 href=#__codelineno-67-75></a>            <span class=s1>&#39;enabled&#39;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-67-76><a id=__codelineno-67-76 name=__codelineno-67-76 href=#__codelineno-67-76></a>            <span class=s1>&#39;cert_path&#39;</span><span class=p>:</span> <span class=s1>&#39;/path/to/cert&#39;</span>
</span><span id=__span-67-77><a id=__codelineno-67-77 name=__codelineno-67-77 href=#__codelineno-67-77></a>        <span class=p>}</span>
</span><span id=__span-67-78><a id=__codelineno-67-78 name=__codelineno-67-78 href=#__codelineno-67-78></a>    <span class=p>},</span>
</span><span id=__span-67-79><a id=__codelineno-67-79 name=__codelineno-67-79 href=#__codelineno-67-79></a>    <span class=s1>&#39;api&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-67-80><a id=__codelineno-67-80 name=__codelineno-67-80 href=#__codelineno-67-80></a>        <span class=s1>&#39;base_url&#39;</span><span class=p>:</span> <span class=s1>&#39;https://api.myapp.com&#39;</span><span class=p>,</span>
</span><span id=__span-67-81><a id=__codelineno-67-81 name=__codelineno-67-81 href=#__codelineno-67-81></a>        <span class=s1>&#39;timeout&#39;</span><span class=p>:</span> <span class=mi>60</span><span class=p>,</span>
</span><span id=__span-67-82><a id=__codelineno-67-82 name=__codelineno-67-82 href=#__codelineno-67-82></a>        <span class=s1>&#39;auth&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-67-83><a id=__codelineno-67-83 name=__codelineno-67-83 href=#__codelineno-67-83></a>            <span class=s1>&#39;method&#39;</span><span class=p>:</span> <span class=s1>&#39;bearer&#39;</span><span class=p>,</span>
</span><span id=__span-67-84><a id=__codelineno-67-84 name=__codelineno-67-84 href=#__codelineno-67-84></a>            <span class=s1>&#39;token&#39;</span><span class=p>:</span> <span class=s1>&#39;abc123xyz&#39;</span>
</span><span id=__span-67-85><a id=__codelineno-67-85 name=__codelineno-67-85 href=#__codelineno-67-85></a>        <span class=p>},</span>
</span><span id=__span-67-86><a id=__codelineno-67-86 name=__codelineno-67-86 href=#__codelineno-67-86></a>        <span class=s1>&#39;rate_limit&#39;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-67-87><a id=__codelineno-67-87 name=__codelineno-67-87 href=#__codelineno-67-87></a>            <span class=s1>&#39;requests_per_minute&#39;</span><span class=p>:</span> <span class=mi>100</span>
</span><span id=__span-67-88><a id=__codelineno-67-88 name=__codelineno-67-88 href=#__codelineno-67-88></a>        <span class=p>}</span>
</span><span id=__span-67-89><a id=__codelineno-67-89 name=__codelineno-67-89 href=#__codelineno-67-89></a>    <span class=p>}</span>
</span><span id=__span-67-90><a id=__codelineno-67-90 name=__codelineno-67-90 href=#__codelineno-67-90></a><span class=p>}</span>
</span><span id=__span-67-91><a id=__codelineno-67-91 name=__codelineno-67-91 href=#__codelineno-67-91></a>
</span><span id=__span-67-92><a id=__codelineno-67-92 name=__codelineno-67-92 href=#__codelineno-67-92></a><span class=c1># Use configuration manager</span>
</span><span id=__span-67-93><a id=__codelineno-67-93 name=__codelineno-67-93 href=#__codelineno-67-93></a><span class=n>config_manager</span> <span class=o>=</span> <span class=n>ConfigManager</span><span class=p>(</span><span class=n>app_config</span><span class=p>)</span>
</span><span id=__span-67-94><a id=__codelineno-67-94 name=__codelineno-67-94 href=#__codelineno-67-94></a>
</span><span id=__span-67-95><a id=__codelineno-67-95 name=__codelineno-67-95 href=#__codelineno-67-95></a><span class=c1># Get database configuration</span>
</span><span id=__span-67-96><a id=__codelineno-67-96 name=__codelineno-67-96 href=#__codelineno-67-96></a><span class=n>db_config</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>get_database_config</span><span class=p>()</span>
</span><span id=__span-67-97><a id=__codelineno-67-97 name=__codelineno-67-97 href=#__codelineno-67-97></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Database Configuration:&quot;</span><span class=p>)</span>
</span><span id=__span-67-98><a id=__codelineno-67-98 name=__codelineno-67-98 href=#__codelineno-67-98></a><span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>db_config</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-67-99><a id=__codelineno-67-99 name=__codelineno-67-99 href=#__codelineno-67-99></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-67-100><a id=__codelineno-67-100 name=__codelineno-67-100 href=#__codelineno-67-100></a>
</span><span id=__span-67-101><a id=__codelineno-67-101 name=__codelineno-67-101 href=#__codelineno-67-101></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>API Configuration:&quot;</span><span class=p>)</span>
</span><span id=__span-67-102><a id=__codelineno-67-102 name=__codelineno-67-102 href=#__codelineno-67-102></a><span class=n>api_config</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>get_api_config</span><span class=p>()</span>
</span><span id=__span-67-103><a id=__codelineno-67-103 name=__codelineno-67-103 href=#__codelineno-67-103></a><span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>api_config</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-67-104><a id=__codelineno-67-104 name=__codelineno-67-104 href=#__codelineno-67-104></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-67-105><a id=__codelineno-67-105 name=__codelineno-67-105 href=#__codelineno-67-105></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>:&quot;</span><span class=p>)</span>
</span><span id=__span-67-106><a id=__codelineno-67-106 name=__codelineno-67-106 href=#__codelineno-67-106></a>        <span class=k>for</span> <span class=n>sub_key</span><span class=p>,</span> <span class=n>sub_value</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-67-107><a id=__codelineno-67-107 name=__codelineno-67-107 href=#__codelineno-67-107></a>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;    </span><span class=si>{</span><span class=n>sub_key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>sub_value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-67-108><a id=__codelineno-67-108 name=__codelineno-67-108 href=#__codelineno-67-108></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-67-109><a id=__codelineno-67-109 name=__codelineno-67-109 href=#__codelineno-67-109></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-67-110><a id=__codelineno-67-110 name=__codelineno-67-110 href=#__codelineno-67-110></a>
</span><span id=__span-67-111><a id=__codelineno-67-111 name=__codelineno-67-111 href=#__codelineno-67-111></a><span class=c1># Validate required configuration</span>
</span><span id=__span-67-112><a id=__codelineno-67-112 name=__codelineno-67-112 href=#__codelineno-67-112></a><span class=n>required_config</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-67-113><a id=__codelineno-67-113 name=__codelineno-67-113 href=#__codelineno-67-113></a>    <span class=p>[</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;host&#39;</span><span class=p>],</span>
</span><span id=__span-67-114><a id=__codelineno-67-114 name=__codelineno-67-114 href=#__codelineno-67-114></a>    <span class=p>[</span><span class=s1>&#39;database&#39;</span><span class=p>,</span> <span class=s1>&#39;credentials&#39;</span><span class=p>,</span> <span class=s1>&#39;username&#39;</span><span class=p>],</span>
</span><span id=__span-67-115><a id=__codelineno-67-115 name=__codelineno-67-115 href=#__codelineno-67-115></a>    <span class=p>[</span><span class=s1>&#39;api&#39;</span><span class=p>,</span> <span class=s1>&#39;base_url&#39;</span><span class=p>]</span>
</span><span id=__span-67-116><a id=__codelineno-67-116 name=__codelineno-67-116 href=#__codelineno-67-116></a><span class=p>]</span>
</span><span id=__span-67-117><a id=__codelineno-67-117 name=__codelineno-67-117 href=#__codelineno-67-117></a>
</span><span id=__span-67-118><a id=__codelineno-67-118 name=__codelineno-67-118 href=#__codelineno-67-118></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-67-119><a id=__codelineno-67-119 name=__codelineno-67-119 href=#__codelineno-67-119></a>    <span class=n>config_manager</span><span class=o>.</span><span class=n>validate_required_config</span><span class=p>(</span><span class=n>required_config</span><span class=p>)</span>
</span><span id=__span-67-120><a id=__codelineno-67-120 name=__codelineno-67-120 href=#__codelineno-67-120></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2> All required configuration is present&quot;</span><span class=p>)</span>
</span><span id=__span-67-121><a id=__codelineno-67-121 name=__codelineno-67-121 href=#__codelineno-67-121></a><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-67-122><a id=__codelineno-67-122 name=__codelineno-67-122 href=#__codelineno-67-122></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2> Configuration validation failed: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div> <h3 id=best-practices><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#best-practices>Best Practices</a></h3> <h4 id=1-choose-the-right-method-for-your-use-case><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#1-choose-the-right-method-for-your-use-case>1. Choose the Right Method for Your Use Case</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-68-1><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a><span class=c1># For simple, known paths with good error handling</span>
</span><span id=__span-68-2><a id=__codelineno-68-2 name=__codelineno-68-2 href=#__codelineno-68-2></a><span class=k>def</span><span class=w> </span><span class=nf>simple_case</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-68-3><a id=__codelineno-68-3 name=__codelineno-68-3 href=#__codelineno-68-3></a>    <span class=k>return</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>)</span>
</span><span id=__span-68-4><a id=__codelineno-68-4 name=__codelineno-68-4 href=#__codelineno-68-4></a>
</span><span id=__span-68-5><a id=__codelineno-68-5 name=__codelineno-68-5 href=#__codelineno-68-5></a><span class=c1># For dynamic paths or complex logic</span>
</span><span id=__span-68-6><a id=__codelineno-68-6 name=__codelineno-68-6 href=#__codelineno-68-6></a><span class=k>def</span><span class=w> </span><span class=nf>complex_case</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-68-7><a id=__codelineno-68-7 name=__codelineno-68-7 href=#__codelineno-68-7></a>    <span class=k>return</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=s1>&#39;default_value&#39;</span><span class=p>)</span>
</span><span id=__span-68-8><a id=__codelineno-68-8 name=__codelineno-68-8 href=#__codelineno-68-8></a>
</span><span id=__span-68-9><a id=__codelineno-68-9 name=__codelineno-68-9 href=#__codelineno-68-9></a><span class=c1># For performance-critical code with known paths</span>
</span><span id=__span-68-10><a id=__codelineno-68-10 name=__codelineno-68-10 href=#__codelineno-68-10></a><span class=k>def</span><span class=w> </span><span class=nf>performance_critical</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span><span id=__span-68-11><a id=__codelineno-68-11 name=__codelineno-68-11 href=#__codelineno-68-11></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-68-12><a id=__codelineno-68-12 name=__codelineno-68-12 href=#__codelineno-68-12></a>        <span class=k>return</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>][</span><span class=s1>&#39;profile&#39;</span><span class=p>][</span><span class=s1>&#39;name&#39;</span><span class=p>]</span>
</span><span id=__span-68-13><a id=__codelineno-68-13 name=__codelineno-68-13 href=#__codelineno-68-13></a>    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
</span><span id=__span-68-14><a id=__codelineno-68-14 name=__codelineno-68-14 href=#__codelineno-68-14></a>        <span class=k>return</span> <span class=kc>None</span>
</span></code></pre></div> <h4 id=2-use-type-hints-and-documentation><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#2-use-type-hints-and-documentation>2. Use Type Hints and Documentation</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-69-1><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Any</span><span class=p>,</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Union</span>
</span><span id=__span-69-2><a id=__codelineno-69-2 name=__codelineno-69-2 href=#__codelineno-69-2></a>
</span><span id=__span-69-3><a id=__codelineno-69-3 name=__codelineno-69-3 href=#__codelineno-69-3></a><span class=k>def</span><span class=w> </span><span class=nf>safe_nested_get</span><span class=p>(</span>
</span><span id=__span-69-4><a id=__codelineno-69-4 name=__codelineno-69-4 href=#__codelineno-69-4></a>    <span class=n>data</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span>
</span><span id=__span-69-5><a id=__codelineno-69-5 name=__codelineno-69-5 href=#__codelineno-69-5></a>    <span class=n>path</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span>
</span><span id=__span-69-6><a id=__codelineno-69-6 name=__codelineno-69-6 href=#__codelineno-69-6></a>    <span class=n>default</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-69-7><a id=__codelineno-69-7 name=__codelineno-69-7 href=#__codelineno-69-7></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
</span><span id=__span-69-8><a id=__codelineno-69-8 name=__codelineno-69-8 href=#__codelineno-69-8></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-69-9><a id=__codelineno-69-9 name=__codelineno-69-9 href=#__codelineno-69-9></a><span class=sd>    Safely retrieve a nested value from a dictionary.</span>
</span><span id=__span-69-10><a id=__codelineno-69-10 name=__codelineno-69-10 href=#__codelineno-69-10></a>
</span><span id=__span-69-11><a id=__codelineno-69-11 name=__codelineno-69-11 href=#__codelineno-69-11></a><span class=sd>    Args:</span>
</span><span id=__span-69-12><a id=__codelineno-69-12 name=__codelineno-69-12 href=#__codelineno-69-12></a><span class=sd>        data: The dictionary to search</span>
</span><span id=__span-69-13><a id=__codelineno-69-13 name=__codelineno-69-13 href=#__codelineno-69-13></a><span class=sd>        path: List of keys representing the path</span>
</span><span id=__span-69-14><a id=__codelineno-69-14 name=__codelineno-69-14 href=#__codelineno-69-14></a><span class=sd>        default: Value to return if path is not found</span>
</span><span id=__span-69-15><a id=__codelineno-69-15 name=__codelineno-69-15 href=#__codelineno-69-15></a>
</span><span id=__span-69-16><a id=__codelineno-69-16 name=__codelineno-69-16 href=#__codelineno-69-16></a><span class=sd>    Returns:</span>
</span><span id=__span-69-17><a id=__codelineno-69-17 name=__codelineno-69-17 href=#__codelineno-69-17></a><span class=sd>        The value at the specified path, or default if not found</span>
</span><span id=__span-69-18><a id=__codelineno-69-18 name=__codelineno-69-18 href=#__codelineno-69-18></a>
</span><span id=__span-69-19><a id=__codelineno-69-19 name=__codelineno-69-19 href=#__codelineno-69-19></a><span class=sd>    Example:</span>
</span><span id=__span-69-20><a id=__codelineno-69-20 name=__codelineno-69-20 href=#__codelineno-69-20></a><span class=sd>        &gt;&gt;&gt; data = {&#39;a&#39;: {&#39;b&#39;: {&#39;c&#39;: 42}}}</span>
</span><span id=__span-69-21><a id=__codelineno-69-21 name=__codelineno-69-21 href=#__codelineno-69-21></a><span class=sd>        &gt;&gt;&gt; safe_nested_get(data, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])</span>
</span><span id=__span-69-22><a id=__codelineno-69-22 name=__codelineno-69-22 href=#__codelineno-69-22></a><span class=sd>        42</span>
</span><span id=__span-69-23><a id=__codelineno-69-23 name=__codelineno-69-23 href=#__codelineno-69-23></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-69-24><a id=__codelineno-69-24 name=__codelineno-69-24 href=#__codelineno-69-24></a>    <span class=k>return</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span>
</span></code></pre></div> <h4 id=3-consider-using-libraries-for-complex-cases><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#3-consider-using-libraries-for-complex-cases>3. Consider Using Libraries for Complex Cases</a></h4> <p>For very complex nested data manipulation, consider using specialized libraries:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-70-1><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=c1># Using jsonpath-ng for JSONPath-style queries</span>
</span><span id=__span-70-2><a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a><span class=c1># pip install jsonpath-ng</span>
</span><span id=__span-70-3><a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a>
</span><span id=__span-70-4><a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-70-5><a id=__codelineno-70-5 name=__codelineno-70-5 href=#__codelineno-70-5></a>    <span class=kn>from</span><span class=w> </span><span class=nn>jsonpath_ng</span><span class=w> </span><span class=kn>import</span> <span class=n>parse</span>
</span><span id=__span-70-6><a id=__codelineno-70-6 name=__codelineno-70-6 href=#__codelineno-70-6></a>
</span><span id=__span-70-7><a id=__codelineno-70-7 name=__codelineno-70-7 href=#__codelineno-70-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>jsonpath_lookup</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path_expression</span><span class=p>):</span>
</span><span id=__span-70-8><a id=__codelineno-70-8 name=__codelineno-70-8 href=#__codelineno-70-8></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Use JSONPath for complex queries.&quot;&quot;&quot;</span>
</span><span id=__span-70-9><a id=__codelineno-70-9 name=__codelineno-70-9 href=#__codelineno-70-9></a>        <span class=n>jsonpath_expr</span> <span class=o>=</span> <span class=n>parse</span><span class=p>(</span><span class=n>path_expression</span><span class=p>)</span>
</span><span id=__span-70-10><a id=__codelineno-70-10 name=__codelineno-70-10 href=#__codelineno-70-10></a>        <span class=n>matches</span> <span class=o>=</span> <span class=p>[</span><span class=n>match</span><span class=o>.</span><span class=n>value</span> <span class=k>for</span> <span class=n>match</span> <span class=ow>in</span> <span class=n>jsonpath_expr</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=n>data</span><span class=p>)]</span>
</span><span id=__span-70-11><a id=__codelineno-70-11 name=__codelineno-70-11 href=#__codelineno-70-11></a>        <span class=k>return</span> <span class=n>matches</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>if</span> <span class=n>matches</span> <span class=k>else</span> <span class=kc>None</span>
</span><span id=__span-70-12><a id=__codelineno-70-12 name=__codelineno-70-12 href=#__codelineno-70-12></a>
</span><span id=__span-70-13><a id=__codelineno-70-13 name=__codelineno-70-13 href=#__codelineno-70-13></a>    <span class=c1># Example usage</span>
</span><span id=__span-70-14><a id=__codelineno-70-14 name=__codelineno-70-14 href=#__codelineno-70-14></a>    <span class=c1># jsonpath_lookup(data, &#39;$.user.profile.preferences.*.email&#39;)</span>
</span><span id=__span-70-15><a id=__codelineno-70-15 name=__codelineno-70-15 href=#__codelineno-70-15></a>
</span><span id=__span-70-16><a id=__codelineno-70-16 name=__codelineno-70-16 href=#__codelineno-70-16></a><span class=k>except</span> <span class=ne>ImportError</span><span class=p>:</span>
</span><span id=__span-70-17><a id=__codelineno-70-17 name=__codelineno-70-17 href=#__codelineno-70-17></a>    <span class=k>pass</span>  <span class=c1># Library not available</span>
</span><span id=__span-70-18><a id=__codelineno-70-18 name=__codelineno-70-18 href=#__codelineno-70-18></a>
</span><span id=__span-70-19><a id=__codelineno-70-19 name=__codelineno-70-19 href=#__codelineno-70-19></a><span class=c1># Using toolz for functional programming approach</span>
</span><span id=__span-70-20><a id=__codelineno-70-20 name=__codelineno-70-20 href=#__codelineno-70-20></a><span class=c1># pip install toolz</span>
</span><span id=__span-70-21><a id=__codelineno-70-21 name=__codelineno-70-21 href=#__codelineno-70-21></a>
</span><span id=__span-70-22><a id=__codelineno-70-22 name=__codelineno-70-22 href=#__codelineno-70-22></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-70-23><a id=__codelineno-70-23 name=__codelineno-70-23 href=#__codelineno-70-23></a>    <span class=kn>from</span><span class=w> </span><span class=nn>toolz</span><span class=w> </span><span class=kn>import</span> <span class=n>get_in</span>
</span><span id=__span-70-24><a id=__codelineno-70-24 name=__codelineno-70-24 href=#__codelineno-70-24></a>
</span><span id=__span-70-25><a id=__codelineno-70-25 name=__codelineno-70-25 href=#__codelineno-70-25></a>    <span class=k>def</span><span class=w> </span><span class=nf>toolz_lookup</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-70-26><a id=__codelineno-70-26 name=__codelineno-70-26 href=#__codelineno-70-26></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Use toolz.get_in for nested access.&quot;&quot;&quot;</span>
</span><span id=__span-70-27><a id=__codelineno-70-27 name=__codelineno-70-27 href=#__codelineno-70-27></a>        <span class=k>return</span> <span class=n>get_in</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-70-28><a id=__codelineno-70-28 name=__codelineno-70-28 href=#__codelineno-70-28></a>
</span><span id=__span-70-29><a id=__codelineno-70-29 name=__codelineno-70-29 href=#__codelineno-70-29></a><span class=k>except</span> <span class=ne>ImportError</span><span class=p>:</span>
</span><span id=__span-70-30><a id=__codelineno-70-30 name=__codelineno-70-30 href=#__codelineno-70-30></a>    <span class=k>pass</span>  <span class=c1># Library not available</span>
</span></code></pre></div> <h4 id=4-implement-caching-for-repeated-lookups><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#4-implement-caching-for-repeated-lookups>4. Implement Caching for Repeated Lookups</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-71-1><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>lru_cache</span>
</span><span id=__span-71-2><a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a>
</span><span id=__span-71-3><a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a><span class=k>class</span><span class=w> </span><span class=nc>CachedNestedLookup</span><span class=p>:</span>
</span><span id=__span-71-4><a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Cached nested lookup for performance.&quot;&quot;&quot;</span>
</span><span id=__span-71-5><a id=__codelineno-71-5 name=__codelineno-71-5 href=#__codelineno-71-5></a>
</span><span id=__span-71-6><a id=__codelineno-71-6 name=__codelineno-71-6 href=#__codelineno-71-6></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span><span id=__span-71-7><a id=__codelineno-71-7 name=__codelineno-71-7 href=#__codelineno-71-7></a>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-71-8><a id=__codelineno-71-8 name=__codelineno-71-8 href=#__codelineno-71-8></a>
</span><span id=__span-71-9><a id=__codelineno-71-9 name=__codelineno-71-9 href=#__codelineno-71-9></a>    <span class=nd>@lru_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=mi>256</span><span class=p>)</span>
</span><span id=__span-71-10><a id=__codelineno-71-10 name=__codelineno-71-10 href=#__codelineno-71-10></a>    <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>path_tuple</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-71-11><a id=__codelineno-71-11 name=__codelineno-71-11 href=#__codelineno-71-11></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Cached lookup using tuple path (hashable).&quot;&quot;&quot;</span>
</span><span id=__span-71-12><a id=__codelineno-71-12 name=__codelineno-71-12 href=#__codelineno-71-12></a>        <span class=k>return</span> <span class=n>programmatic_depth_search</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=nb>list</span><span class=p>(</span><span class=n>path_tuple</span><span class=p>),</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-71-13><a id=__codelineno-71-13 name=__codelineno-71-13 href=#__codelineno-71-13></a>
</span><span id=__span-71-14><a id=__codelineno-71-14 name=__codelineno-71-14 href=#__codelineno-71-14></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>path_list</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-71-15><a id=__codelineno-71-15 name=__codelineno-71-15 href=#__codelineno-71-15></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert list to tuple for caching.&quot;&quot;&quot;</span>
</span><span id=__span-71-16><a id=__codelineno-71-16 name=__codelineno-71-16 href=#__codelineno-71-16></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>tuple</span><span class=p>(</span><span class=n>path_list</span><span class=p>),</span> <span class=n>default</span><span class=p>)</span>
</span><span id=__span-71-17><a id=__codelineno-71-17 name=__codelineno-71-17 href=#__codelineno-71-17></a>
</span><span id=__span-71-18><a id=__codelineno-71-18 name=__codelineno-71-18 href=#__codelineno-71-18></a><span class=c1># Usage</span>
</span><span id=__span-71-19><a id=__codelineno-71-19 name=__codelineno-71-19 href=#__codelineno-71-19></a><span class=n>lookup</span> <span class=o>=</span> <span class=n>CachedNestedLookup</span><span class=p>(</span><span class=n>large_nested_data</span><span class=p>)</span>
</span><span id=__span-71-20><a id=__codelineno-71-20 name=__codelineno-71-20 href=#__codelineno-71-20></a><span class=n>result1</span> <span class=o>=</span> <span class=n>lookup</span><span class=o>.</span><span class=n>get_path</span><span class=p>([</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>])</span>  <span class=c1># Computed</span>
</span><span id=__span-71-21><a id=__codelineno-71-21 name=__codelineno-71-21 href=#__codelineno-71-21></a><span class=n>result2</span> <span class=o>=</span> <span class=n>lookup</span><span class=o>.</span><span class=n>get_path</span><span class=p>([</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>])</span>  <span class=c1># Cached</span>
</span></code></pre></div> <h3 id=conclusion><a class=toclink href=../../2023/11/20/nested_dictionary_lookups_methods_performance_and_best_practices/#conclusion>Conclusion</a></h3> <p>Nested dictionary lookups are a common challenge in Python programming. The best approach depends on your specific requirements:</p> <ul> <li><strong>Use chained <code>.get()</code> calls</strong> for simple, known paths with minimal nesting</li> <li><strong>Use the walrus operator</strong> for efficient short-circuiting in Python 3.8+</li> <li><strong>Use programmatic depth search</strong> for dynamic paths and maximum flexibility</li> <li><strong>Use try/except</strong> only when you need maximum performance for known-good paths</li> <li><strong>Consider specialized libraries</strong> for complex query requirements</li> </ul> <p>Key principles to remember:</p> <ol> <li><strong>Safety first</strong>: Always handle missing keys gracefully</li> <li><strong>Performance matters</strong>: Choose the right method for your use case</li> <li><strong>Maintainability</strong>: Prefer readable code over micro-optimizations</li> <li><strong>Reusability</strong>: Create general-purpose functions for repeated use</li> <li><strong>Documentation</strong>: Clearly document expected data structures and behaviors</li> </ol> <p>The <code>programmatic_depth_search</code> function presented here provides a robust, reusable solution that handles edge cases while maintaining good performance. Use it as a starting point and adapt it to your specific needs.</p> <p>By mastering these techniques, you'll be well-equipped to handle complex nested data structures safely and efficiently in your Python applications.</p> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/mutaku.png alt="Matthew Martz, PhD"> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2020-11-14 00:00:00+00:00">Saturday, November 14, 2020</time></li> <li class=md-meta__item> in <a href=../technology/ class=md-meta__link>Technology</a>, <a href=./ class=md-meta__link>Data Science</a></li> <li class=md-meta__item> 6 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=nested-dictionary-lookups-in-python><a href=../../2020/11/14/nested_dictionary_lookups_in_python/ class=toclink>Nested Dictionary Lookups in Python</a></h2> <p>Mastering efficient techniques for accessing nested dictionary structures in Python - from basic navigation to performance optimization strategies.</p> <nav class=md-post__action> <a href=../../2020/11/14/nested_dictionary_lookups_in_python/ > Continue reading </a> </nav> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <nav class="md-post__authors md-typeset"> <span class=md-author> <img src=https://github.com/mutaku.png alt="Matthew Martz, PhD"> </span> </nav> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2020-11-13 00:00:00+00:00">Friday, November 13, 2020</time></li> <li class=md-meta__item> in <a href=../technology/ class=md-meta__link>Technology</a>, <a href=./ class=md-meta__link>Data Science</a></li> <li class=md-meta__item> 5 min read </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=python-generators-and-comprehension><a href=../../2020/11/13/python_generators_and_comprehension/ class=toclink>Python Generators and Comprehension</a></h2> <p>Digging into generators and comprehension - from basics to implementation in a comprehensive tutorial. This is a walkthrough for beginners that will build up to real world examples.</p> <div class="admonition info"> <p class=admonition-title>Draft Status</p> <p>This is an in-progress draft that continues to be updated with additional examples and use cases.</p> </div> <nav class=md-post__action> <a href=../../2020/11/13/python_generators_and_comprehension/ > Continue reading </a> </nav> </div> </article> <nav class=md-pagination> </nav> </div> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023-2025 Matthew Martz </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/mutaku target=_blank rel=noopener title=GitHub class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://twitter.com/backpropagating target=_blank rel=noopener title=Twitter class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> <a href=https://linkedin.com/in/matthew-martz-phd target=_blank rel=noopener title=LinkedIn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=mailto:matthew@mutaku.io target=_blank rel=noopener title=Email class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.top", "search.highlight", "search.suggest", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../../javascripts/extra.js></script> </body> </html>